// For license information, see `https://assets.adobedtm.com/06a50d0f42e4/ff009d563e44/launch-bbe39001f4e4.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2026-02-02T19:23:37Z",turbineBuildDate:"2026-01-26T18:40:04Z",turbineVersion:"29.0.0"},environment:{id:"EN6869f8882a7e44d587a27e09ea15adf9",stage:"production"},dataElements:{"Error Code":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"error.code"}},"Search Filter":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"search.filter"}},"Identity Source":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"audience.identity.source"}},"Audience Profile ID":{storageDuration:"visitor",modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"audience.profile_id"}},"Action Name":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"action.name"}},"Action Category":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"action.category"}},"Trackingcode source":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"trackingCode.source"}},"Audience Profile ID(Cookie)":{cleanText:!0,storageDuration:"visitor",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"audience.profileid"}},"Property Name":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"property.name"}},"Flow Name":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"flow.name"}},"Campaign Medium":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"utm_medium",caseInsensitive:!0}},"Scroll Percent":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"scroll.percent"}},"Profile Identity":{modulePath:"adobe-alloy/dist/lib/dataElements/identityMap/index.js",settings:{CIC:[{id:"%Profile ID%",primary:!1,authenticatedState:"authenticated"}]}},"Data UserType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{userType:"authenticated"}}}},"Identity State(Cookie)":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"audience.identity.state"}},"Promotion Type":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"promotion.type"}},"Keyword copy":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"buscar",caseInsensitive:!0}},"Audience Profile ID ACDL":{storageDuration:"visitor",modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"audience.profile_id"}},IdentityMap:{modulePath:"adobe-alloy/dist/lib/dataElements/identityMap/index.js",settings:{CICID:[{id:"ededaa7adcbddd82b8bc40df61c8642035a4dcba113e58e67eddf427eb5f589f",primary:!1,authenticatedState:"ambiguous"}]}},"Page Name":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.name"}},"Form Name":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"form.name"}},"Audience Digital ID":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"audience.digital_id"}},"Previous Permissions":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{aa:!1,aam:!1,target:!1,ecid:!1}}}},"Page Parameters":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.search}}},"Element Container":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"element.container"}},"Page Group":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.group"}},"XDM Page Name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{web:{webPageDetails:{name:_satellite.getVar("Page"),URL:"https://www.viabcp.com/prueba"}}}}}},"Promotion Position":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"promotion.position"}},"Flow Step":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"flow.step"}},Server:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.hostname}}},"Flow Version":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"flow.version"}},"Promotion Name":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"promotion.name"}},"Identity State":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"audience.identity.state"}},"Page Hostname":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.hostname.substr(3,11)}}},"Log Message":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"log.message"}},Keyword:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"buscar",caseInsensitive:!0}},"Privacy Cookie - Personalizacion - AT":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"politica_privacidad_personalizacion"}},"Privacy Cookie - Marketing - AAM":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"politica_privacidad_marketing_analitica"}},"Internal Campaign":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"pcid",caseInsensitive:!0}},"Profile ID":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"audience.profileid"}},"Cookie Loans Congratulations":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"cookie_congratulations"}},"Metadata Value":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"metadata.value"}},"Application Product Category":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"application.product_category"}},"Metadata List":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){var t=e.slice().reverse().find((e=>e.metadatalist||e.metadataList||e.metadata))?.metadatalist||e.slice().reverse().find((e=>e.metadatalist||e.metadataList||e.metadata))?.metadataList||e.slice().reverse().find((e=>e.metadatalist||e.metadataList||e.metadata))?.metadata;if(t)return Array.isArray(t)||(t=[t]),t.map((e=>`${e.key}:${e.value}`)).join(",")}return e(digitalData)}}},"Flow Product":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"flow.product"}},"Promotion Creative":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"promotion.creative"}},"Subflow Name":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"subflow.name"}},"Adobe Target":{modulePath:"adobe-alloy/dist/lib/dataElements/variable/index.js",settings:{solutions:["target"],dataElementId:"DE030b4967ddf046a5afd7325dae740821"}},"Audience Digital ID(Cookie)":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"audience.digitalid"}},"Form Version":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"form.version"}},"View Test":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"view"}},Page:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=document.location.pathname.split("/").join(":").toLowerCase(),t=e.lastIndexOf(":")==e.length-1?e.slice(0,-1):e;return":"!=e?"viabcp"+t:"viabcp:home"}}},"Page Category":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.category"}},"Element Type":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"element.type"}},"Action Group":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"action.group"}},"Application Subflow":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"application.subflow"}},"Error type":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"error.type"}},"Trackingcode Campaign":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"trackingCode.campaign"}},"Audience Profile ID(Merge)":{forceLowerCase:!0,cleanText:!0,storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){const t=[];for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);if(o>=55296&&o<=56319&&n+1<e.length){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(o=t-56320+(o-55296<<10)+65536,n++)}o<=127?t.push(o):o<=2047?(t.push(192|o>>6),t.push(128|63&o)):o<=65535?(t.push(224|o>>12),t.push(128|o>>6&63),t.push(128|63&o)):(t.push(240|o>>18),t.push(128|o>>12&63),t.push(128|o>>6&63),t.push(128|63&o))}return t}function t(e,t){return t>>>e|t<<32-e}function n(n){const o=e(null==n?"":String(n)),a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],r=8*o.length;for(o.push(128);o.length%64!=56;)o.push(0);const s=Math.floor(r/4294967296),c=r>>>0;o.push(s>>>24&255,s>>>16&255,s>>>8&255,255&s),o.push(c>>>24&255,c>>>16&255,c>>>8&255,255&c);for(let e=0;e<o.length;e+=64){const n=new Array(64);for(let t=0;t<16;t++){const a=e+4*t;n[t]=(o[a]<<24|o[a+1]<<16|o[a+2]<<8|o[a+3])>>>0}for(let e=16;e<64;e++){const o=(t(7,n[e-15])^t(18,n[e-15])^n[e-15]>>>3)>>>0,a=(t(17,n[e-2])^t(19,n[e-2])^n[e-2]>>>10)>>>0;n[e]=n[e-16]+o+n[e-7]+a>>>0}let r=i[0],s=i[1],c=i[2],l=i[3],d=i[4],u=i[5],p=i[6],m=i[7];for(let e=0;e<64;e++){const o=m+((t(6,d)^t(11,d)^t(25,d))>>>0)+((d&u^~d&p)>>>0)+a[e]+n[e]>>>0,i=(r&s^r&c^s&c)>>>0;m=p,p=u,u=d,d=l+o>>>0,l=c,c=s,s=r,r=o+(((t(2,r)^t(13,r)^t(22,r))>>>0)+i>>>0)>>>0}i[0]=i[0]+r>>>0,i[1]=i[1]+s>>>0,i[2]=i[2]+c>>>0,i[3]=i[3]+l>>>0,i[4]=i[4]+d>>>0,i[5]=i[5]+u>>>0,i[6]=i[6]+p>>>0,i[7]=i[7]+m>>>0}let l="";for(let e=0;e<i.length;e++)l+=("00000000"+i[e].toString(16)).slice(-8);return l}function o(e){return null==e||"string"==typeof e&&""===e.trim()}function a(e){return o(e)?null:n(e)}function i(e,t){return null!=e?e:t}function r(e,t){const n=t instanceof Date?t:new Date(t);if(isNaN(n.getTime()))return void console.error("Fecha inv\xe1lida (ISO o Date):",t);const o=n.toUTCString();document.cookie=`audience.profileid=${encodeURIComponent(e).toLowerCase()}; Domain=.viabcp.com; Path=/; Expires=${o}`}var s=_satellite.getVar("Audience Profile ID(Cookie)").length>=13?_satellite.getVar("Audience Profile ID(Cookie)"):a(_satellite.getVar("Audience Profile ID(Cookie)"));return a(_satellite.getVar("Audience Profile ID")),r(s,new Date(Date.now()+31536e6).toISOString()),i(s,s)}}},"Error Message":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"error.message"}},AdvisorID:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){e||((e=window.location.search||window.location.hash)&&"?"===e[0]||"#"===e[0])&&(e=e.substring(1));const t={};return e.split("&").forEach((e=>{const[n,o]=e.split("="),a=decodeURIComponent(n),i=decodeURIComponent(o||"");void 0===t[a]?t[a]=i:Array.isArray(t[a])?t[a].push(i):t[a]=[t[a],i]})),t}function t(t){const n=e(),o=e(window.location.hash.substring(window.location.hash.indexOf("?")+1)),a=n[t]||o[t];return void 0!==a?decodeURIComponent(a):null}return t("codasesor")}}},"Form Channel":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"form.channel"}},"Action List":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=digitalData.getState("actionList"),t="";return e.forEach((function(e){""!=t&&(t+=","),t+=e.group+":"+e.category+":"+e.name+":"+e.label})),t}}},"Promotion Variant":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"promotion.variant"}},"Popup Name":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"popup.name"}},"Identity Source(Cookie)":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"audience.identity.source"}},"Action Label":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"action.label"}},"Marketing Trackingcode":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"marketing.trackingCode"}},"Marketing Internal Reference":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"marketing.internalReference"}},"Element Name":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"element.name"}},"Popup Type":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"popup.type"}},"Property Hostname":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"property.hostname"}},"Campaign Source":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"utm_source",caseInsensitive:!0}},"Marketing Campaign":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"mcid",caseInsensitive:!0}},"Audience Manager":{modulePath:"adobe-alloy/dist/lib/dataElements/variable/index.js",settings:{solutions:["audiencemanager"],dataElementId:"DE376829e51fab4700a5d1480a85d83dec"}},"Application Product":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"application.product"}},"Promotion Component ID":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"promotion.componentId"}},"Tenant Name":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"tenant.name"}},Campaign:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=function(e){var t={};if("string"==typeof(e=void 0!==e?e:window.location.search)&&e.length>0){"?"===e[0]&&(e=e.substring(1));for(var n=0,o=(e=e.split("&")).length;o>n;n++){var a,i,r=e[n],s=r.indexOf("=");s>=0?(a=r.substr(0,s),i=r.substr(s+1)):(a=r,i=""),i=decodeURIComponent(i),void 0===t[a]?t[a]=i:t[a]instanceof Array?t[a].push(i):t[a]=[t[a],i]}}return t}();return null!=e.mcid?decodeURIComponent(e.mcid):null!=e.utm_source&&null!=e.utm_medium?e.utm_medium+"|"+e.utm_source+"|"+e.utm_campaign+"|"+e.utm_content:null}}},"Audience Profile ID(Merge) copy":{forceLowerCase:!0,cleanText:!0,storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e,t){return null!=e?e:t}return e(_satellite.getVar("Audience Profile ID(Cookie)"),_satellite.getVar("Audience Profile ID"))}}},"User Agent":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return navigator.userAgent}}},"Adobe Analytics Data Object":{modulePath:"adobe-alloy/dist/lib/dataElements/variable/index.js",settings:{solutions:["analytics","audiencemanager"],dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"}},"Trackingcode medium":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"trackingCode.medium"}},Platform:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/Android|Mobi/.test(navigator.userAgent)?"Mobile":"Desktop"}}},"Form Product":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"form.product"}},"Target Property":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.adobe.target.getInstance().getProfileParameters().at_property}}},"Page type":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.type"}},"Full URL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.href}}},"Tracking Server":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"smetrics.viabcp.com"}},"Internal Reference":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"rfid",caseInsensitive:!0}},"Search Result":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"search.results"}},"Page Subcategory":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.subcategory"}},"Page URL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.hostname+window.location.pathname}}},"Search Keyword":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"search.keyword"}},"Promotion Channel":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"promotion.channel"}},"Application Code":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"application.code"}},"Marketing Internal Campaign":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"marketing.internalCampaign"}},"Cookie Seguros":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"cookie_seguros"}},"Campaign Content":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"utm_content",caseInsensitive:!0}},"Metadata Key":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"metadata.key"}},"Campaign Name":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"utm_campaign",caseInsensitive:!0}},"Trackingcode Content":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"trackingCode.content"}}},extensions:{"acronym-gtag.js":{displayName:"Google Global Site Tag (gtag)",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP4088787701664ce4bfc67739775f5c33/",settings:{accounts:{1694192948093:{id:"1694192948093",name:"BCP Performance - Seguro Respaldo",type:"aw",options:[],accounts:{staging:"",production:"AW-748-843-0662",development:""},settings:{conversion_linker:!0,conversion_cookie_prefix:""}},1730766999809:{id:"1730766999809",name:"BCP Performance - Ahorros",type:"aw",options:[],accounts:{staging:"",production:"AW-16451689511",development:""},settings:{conversion_linker:!0,conversion_cookie_prefix:""}},1732209133712:{id:"1732209133712",name:"BCP Performance - BMO",type:"aw",options:[],accounts:{staging:"",production:"AW-11195129187",development:""},settings:{conversion_linker:!0,conversion_cookie_prefix:""}}},configCode:function(){},functionName:"",dataLayerName:"",preConfigCode:function(){},displayFeatures:!0},modules:{"acronym-gtag.js/src/lib/actions/load.js":{name:"load-gtag.js-library",displayName:"Preload the gtag.js library",script:function(e,t,n,o){"use strict";e.exports=function(){_satellite.getVar("__acronym_gtag_loaded")?o.logger.info("ACRGTAG-103 - Library already loaded"):n("../helpers/loadGtag")()}}},"acronym-gtag.js/src/lib/helpers/loadGtag.js":{script:function(e,t,n,o){"use strict";e.exports=function(){var e=o.getExtensionSettings(),t=e.dataLayerName||"dataLayer",a=e.functionName||"gtag",i=n("@adobe/reactor-window"),r=n("@adobe/reactor-load-script"),s=n("../helpers/getAccountId"),c=n("../helpers/castOptionTypes"),l="";if(i[a]||(i[t]=i[t]||[],i[a]=function(){Array.isArray(i[t])?i[t].push(arguments):o.logger.error("ACRGTAG-104: Data layer variable '"+t+"' malformed",i[t])},i[a]("js",new Date)),!_satellite.getVar("__acronym_gtag_loaded")){if(_satellite.setVar("__acronym_gtag_loaded",!0),"function"==typeof e.preConfigCode)try{e.preConfigCode(i[a],i[t])}catch(e){o.logger.error("ACRGTAG-101: Custom pre-account config code error:",e)}if(("string"==typeof e.displayFeatures&&"true"!==e.displayFeatures||"string"!=typeof e.displayFeatures&&!Boolean(e.displayFeatures))&&(i[a]("set",{allow_ad_personalization_signals:!1}),o.logger.log("Display features are disabled")),"object"==typeof e.accounts&&null!==e.accounts&&Object.keys(e.accounts).length>0){for(var d in e.accounts)if(e.accounts.hasOwnProperty(d)){var u=e.accounts[d],p=u.settings||{};l=s(u),"object"==typeof u.custom_map&&u.custom_map.length&&(p.custom_map=p.custom_map||{},u.custom_map.forEach((function(e){p.custom_map[e[0]]=e[1]}))),(u.options||[]).forEach((function(e){p[e[0]]=e[1]})),p.send_page_view=!1,p=c(p),i[a]("config",l,p),o.logger.log("account "+l+" was loaded with the options:",JSON.stringify(p))}if("function"==typeof e.configCode)try{e.configCode(i[a],i[t])}catch(e){o.logger.error("ACRGTAG-101: Custom post-account config code error:",e)}}else o.logger.warn("ACRGTAG-102: No accounts configured");var m="gtag.js library";o.logger.log("loading "+m),r("https://www.googletagmanager.com/gtag/js?id="+l+"&l="+t).then((function(){o.logger.log(m+" successfully loaded")}),(function(){o.logger.error("ACRGTAG-100: "+m+" could not be loaded")}))}return i[a]}},name:"get-gtag",shared:!0},"acronym-gtag.js/src/lib/helpers/getAccountId.js":{script:function(e,t,n,o){"use strict";e.exports=function(e,t){return t||(t=o.environment.stage),"string"==typeof e.accounts[t]&&""!==e.accounts[t]?e.accounts[t]:e.accounts.production}}},"acronym-gtag.js/src/lib/helpers/castOptionTypes.js":{script:function(e){"use strict";e.exports=function(e){var t={bool:function(e){return"string"==typeof e?"true"===e:Boolean(e)},int:function(e){var t=parseInt(e);return isNaN(t)?0:t},float:function(e){var t=parseFloat(e);return isNaN(t)?0:t},csv:function(e){return"string"==typeof e?""===e?void 0:e.split(","):e},custom_map:function(e){var t={};return"string"==typeof e?e.split(",").forEach((function(e){var n=e.split(":");2===n.length&&(t[n[0]]=n[1])})):"object"==typeof e&&(t=e),t}},n={accept_incoming:t.bool,allow_ad_personalization_signals:t.bool,anonymize_ip:t.bool,checkout_step:t.int,cookie_expires:t.int,custom_map:t.custom_map,event_timeout:t.int,fatal:t.bool,levels:t.int,link_attribution:t.bool,linker:{domains:t.csv,accept_incoming:t.bool,decorate_forms:t.bool},non_interaction:t.bool,value:t.float};return Object.keys(e).forEach((function(t){"function"==typeof n[t]?e[t]=n[t](e[t]):"object"==typeof n[t]&&"object"==typeof e[t]&&null!==e[t]&&Object.keys(e[t]).forEach((function(o){"function"==typeof n[t][o]&&(e[t][o]=n[t][o](e[t][o]))}))})),e}}}}},"adobe-alloy":{displayName:"Adobe Experience Platform Web SDK",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP24fbfef5ecfe48bb92445c9a259f9377/",settings:{instances:[{name:"alloy",context:["web","device","environment","placeContext","highEntropyUserAgentHints"],edgeConfigId:"d77c2d5a-6dfc-4d7a-8049-09a23253edfe",defaultConsent:"pending",clickCollection:{eventGroupingEnabled:!0,sessionStorageEnabled:!0},stagingEdgeConfigId:"bc7fc869-6bd1-4116-a646-c29ea4002e8b",targetMigrationEnabled:!0,developmentEdgeConfigId:"10bd412f-bbdc-4734-9359-051065801c21",personalizationStorageEnabled:!0,autoCollectPropositionInteractions:{AJO:"never"}}]},modules:{"adobe-alloy/dist/lib/dataElements/identityMap/index.js":{name:"identity-map",displayName:"Identity map",script:function(e,t,n,o){"use strict";const a=n("./createIdentityMap")({logger:o.logger});e.exports=e=>a(e)}},"adobe-alloy/dist/lib/dataElements/variable/index.js":{name:"variable",displayName:"Variable",script:function(e,t,n){"use strict";const{variableStore:o}=n("../../index");e.exports=e=>o[e.dataElementId]||{}}},"adobe-alloy/dist/lib/actions/sendEvent/index.js":{name:"send-event",displayName:"Send event",script:function(e,t,n,o){"use strict";var a;const i=n("./createSendEvent"),r=n("../../instanceManager/index"),{sendEventCallbackStorage:s}=n("../../index"),c=n("../../utils/createGetConfigOverrides");e.exports=i({instanceManager:r,sendEventCallbackStorage:s,getConfigOverrides:c(null===(a=o.environment)||void 0===a?void 0:a.stage)})}},"adobe-alloy/dist/lib/actions/updateVariable/index.js":{name:"update-variable",displayName:"Update variable",script:function(e,t,n){"use strict";const{deepAssign:o}=n("../../alloy"),{variableStore:a}=n("../../index"),i=n("./createUpdateVariable");e.exports=i({variableStore:a,deepAssign:o})}},"adobe-alloy/dist/lib/instanceManager/index.js":{script:function(e,t,n,o){"use strict";var a;const{createCustomInstance:i,createEventMergeId:r,components:s}=n("../alloy"),c=n("./createInstanceManager"),l=n("./injectWrapOnBeforeEventSend"),d=n("../utils/createGetConfigOverrides"),u=l({version:"2.33.0"});e.exports=c({turbine:o,window:window,createCustomInstance:i,components:s,createEventMergeId:r,orgId:_satellite.company.orgId,wrapOnBeforeEventSend:u,getConfigOverrides:d(null===(a=o.environment)||void 0===a?void 0:a.stage)})}},"adobe-alloy/dist/lib/dataElements/identityMap/createIdentityMap.js":{script:function(e){"use strict";e.exports=({logger:e})=>t=>Object.keys(t).reduce(((n,o)=>{const a=t[o].filter((({id:t},n)=>{const a="string"==typeof t&&t.length;return a||e.log(`The identifier at ${o}[${n}] was removed from the identity map because its ID is not a populated string. Its ID value is:`,t),a}));return a.length?n[o]=a:e.log(`The ${o} namespace was removed from the identity map because it contains no identifiers.`),n}),{})}},"adobe-alloy/dist/lib/index.js":{script:function(e,t,n){"use strict";const o=n("./createEventMergeIdCache"),a=n("./createSendEventCallbackStorage"),i=n("./createMediaCollectionSessionStorage"),r=n("./createVariableStore");t.eventMergeIdCache=o(),t.sendEventCallbackStorage=a(),t.mediaCollectionSessionStorage=i(),t.variableStore=r()}},"adobe-alloy/dist/lib/createEventMergeIdCache.js":{script:function(e){"use strict";e.exports=()=>{const e={};return{set(t,n){e[t]=n},getByCacheId:t=>e[t],clearByEventMergeId(t){Object.keys(e).forEach((n=>{e[n]===t&&delete e[n]}))}}}}},"adobe-alloy/dist/lib/createSendEventCallbackStorage.js":{script:function(e){"use strict";e.exports=()=>{const e=[];return{add(t){e.push(t)},triggerEvent(t){e.forEach((e=>{e(t)}))}}}}},"adobe-alloy/dist/lib/createMediaCollectionSessionStorage.js":{script:function(e){"use strict";e.exports=()=>{const e={};return{add({playerId:t,sessionDetails:n}){if(e[t])throw new Error(`Player Id ${t} already exists`);e[t]=n},remove({playerId:t}){e[t]=void 0},get:({playerId:t})=>e[t]}}}},"adobe-alloy/dist/lib/createVariableStore.js":{script:function(e){"use strict";e.exports=()=>({})}},"adobe-alloy/dist/lib/actions/sendEvent/createSendEvent.js":{script:function(e,t,n){"use strict";const o=n("../../utils/clone");e.exports=({instanceManager:e,sendEventCallbackStorage:t,getConfigOverrides:n})=>a=>{const{instanceName:i,...r}=a;r.edgeConfigOverrides=n(r);const s=e.getInstance(i);if(!s)throw new Error(`Failed to send event for instance "${i}". No matching instance was configured with this name.`);return r.xdm&&(r.xdm=o(r.xdm)),r.data&&(r.data=o(r.data)),s("sendEvent",r).then((e=>{t.triggerEvent(e)}))}}},"adobe-alloy/dist/lib/utils/createGetConfigOverrides.js":{script:function(e){"use strict";const t=e=>t=>{var n,o,a,i;const{edgeConfigOverrides:r}=t;let s;if(r){if(r[e])s={...r[e]};else{if(r.development||r.staging||r.production)return;s=r}if(0!==Object.keys(s).length&&!1!==s.enabled){if(delete s.enabled,Object.keys(s).forEach((e=>{var t;!0===(null===(t=s[e])||void 0===t?void 0:t.enabled)&&delete s[e].enabled})),(null===(n=s.com_adobe_analytics)||void 0===n||null===(n=n.reportSuites)||void 0===n?void 0:n.length)>0&&(s.com_adobe_analytics.reportSuites=s.com_adobe_analytics.reportSuites.flatMap((e=>e.includes(",")?e.split(/,\s*/gi):e)).map((e=>e.trim())).filter(Boolean)),void 0!==(null===(o=s.com_adobe_identity)||void 0===o?void 0:o.idSyncContainerId)&&null!==(null===(a=s.com_adobe_identity)||void 0===a?void 0:a.idSyncContainerId)&&"string"==typeof(null===(i=s.com_adobe_identity)||void 0===i?void 0:i.idSyncContainerId))if(""===s.com_adobe_identity.idSyncContainerId.trim())delete s.com_adobe_identity.idSyncContainerId;else{const e=parseInt(s.com_adobe_identity.idSyncContainerId.trim(),10);if(Number.isNaN(e))throw new Error(`The ID sync container ID "${s.com_adobe_identity.idSyncContainerId}" is not a valid integer.`);s.com_adobe_identity.idSyncContainerId=e}return s}}};e.exports=t}},"adobe-alloy/dist/lib/utils/clone.js":{script:function(e){"use strict";e.exports=e=>JSON.parse(JSON.stringify(e))}},"adobe-alloy/dist/lib/alloy.js":{script:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}function i(e,t){function n(n,o,i){if("undefined"!=typeof document){"number"==typeof(i=a({},t,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var s in i)i[s]&&(r+="; "+s,!0!==i[s]&&(r+="="+i[s].split(";")[0]));return document.cookie=n+"="+e.write(o,n)+r}}function o(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],o={},a=0;a<n.length;a++){var i=n[a].split("="),r=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(o[s]=e.read(r,s),t===s)break}catch(e){}}return t?o[t]:o}}return Object.create({set:n,get:o,remove:function(e,t){n(e,"",a({},t,{expires:-1}))},withAttributes:function(e){return i(this.converter,a({},this.attributes,e))},withConverter:function(e){return i(a({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}function r(e,t=0){return(ln[e[t+0]]+ln[e[t+1]]+ln[e[t+2]]+ln[e[t+3]]+"-"+ln[e[t+4]]+ln[e[t+5]]+"-"+ln[e[t+6]]+ln[e[t+7]]+"-"+ln[e[t+8]]+ln[e[t+9]]+"-"+ln[e[t+10]]+ln[e[t+11]]+ln[e[t+12]]+ln[e[t+13]]+ln[e[t+14]]+ln[e[t+15]]).toLowerCase()}function s(){if(!dn){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");dn=crypto.getRandomValues.bind(crypto)}return dn(un)}function c(e,t,n){if(pn.randomUUID&&!t&&!e)return pn.randomUUID();const o=(e=e||{}).random??e.rng?.()??s();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=o[e];return t}return r(o)}function l(e){return"object"==typeof e||void 0===e}function d(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&o===String(n[e]).toLowerCase())return!0;return!1}}}function u(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&o===String(n[e]).toLowerCase())return!1;return!0}}}function p(){return{matches:(e,t)=>void 0!==e[t]&&null!==e[t]}}function m(){return{matches:(e,t)=>void 0===e[t]||null===e[t]}}function g(e){return"number"==typeof e}function f(){return{matches:(e,t,n=[])=>{const o=e[t];if(!g(o))return!1;for(let e=0;e<n.length;e+=1)if(g(n[e])&&o>n[e])return!0;return!1}}}function b(){return{matches:(e,t,n=[])=>{
const o=e[t];if(!g(o))return!1;for(let e=0;e<n.length;e+=1)if(g(n[e])&&o>=n[e])return!0;return!1}}}function h(){return{matches:(e,t,n=[])=>{const o=e[t];if(!g(o))return!1;for(let e=0;e<n.length;e+=1)if(g(n[e])&&o<n[e])return!0;return!1}}}function v(){return{matches:(e,t,n=[])=>{const o=e[t];if(!g(o))return!1;for(let e=0;e<n.length;e+=1)if(g(n[e])&&o<=n[e])return!0;return!1}}}function y(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&-1!==o.indexOf(String(n[e]).toLowerCase()))return!0;return!1}}}function _(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&-1!==o.indexOf(String(n[e]).toLowerCase()))return!1;return!0}}}function k(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&o.startsWith(String(n[e]).toLowerCase()))return!0;return!1}}}function C(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&o.endsWith(n[e].toLowerCase()))return!0;return!1}}}function w(e){return Dp[e]}function P(e){return void 0===e}function E(e,t,n,o=0,a=1/0){return e.reduce(((e,i)=>{try{const r=n.generateEventHash(Bp(i)),s=t.events[r];if(!s)return e;const{timestamps:c=[]}=s;return e+c.filter((e=>e>=o&&e<=a)).length}catch{return e}}),0)}function j(e,t,n,o=0,a=1/0){try{let i=o;const r=e.every((e=>{const o=n.generateEventHash(Bp(e)),r=t.events[o];if(!r)return!1;const s=r.timestamps[0],c=s>=i&&s<=a;return i=s,c}));return Number(r)}catch{return 0}}function x(e,t,n,o=0,a=1/0){try{return e.reduce(((e,i,r)=>{const s=n.generateEventHash(Bp(i)),c=t.events[s];if(!c)return e;const l=c.timestamps.filter((e=>e>=o&&e<=a)).pop();return l&&l>e.timestamp?{index:r,timestamp:l}:e}),{index:-1,timestamp:0}).index}catch{return-1}}function A(e,t,n){let o=!0;for(let a=0;a<t.length;a+=1)o=o&&t[a].evaluate(e,n);return o}function q(e,t,n){let o=!1;for(let a=0;a<t.length;a+=1)if(o=o||t[a].evaluate(e,n),o)return!0;return!1}function S(e,t,n){return{version:e,rules:t,metadata:n}}function I(e,t,n){return{key:n,execute:(n,o)=>e.evaluate(n,o)?t:[],toString:()=>`Rule{condition=${e}, consequences=${t}}`}}function O(e,t){return{evaluate:(e,n)=>t.evaluate(e,n),toString:()=>`Condition{type=${e}, definition=${t}}`}}function T(e,t,n){return{id:e,type:t,detail:n}}function D(e,t){return{evaluate:(n,o)=>Op.AND===e?A(n,t,o):Op.OR===e&&q(n,t,o)}}function N(e,t,n){return{evaluate:o=>{const a=w(t);return!!a&&a.matches(o,e,n)}}}function R(e,t,n,o,a,i){return{evaluate:(r,s)=>{let c;return c=Tp.MOST_RECENT===i?x(e,r,s,o,a):Tp.ORDERED===i?j(e,r,s,o,a):E(e,r,s,o,a),Fp(c,t,n)}}}function L(e){const{key:t,matcher:n,values:o}=e;return N(t,n,o)}function M(e){const{logic:t,conditions:n}=e;return D(t,n.map(V))}function F(e){const{events:t,from:n,to:o,matcher:a,value:i,searchType:r}=e;return R(t,a,i,n,o,r)}function V(e){const{type:t,definition:n}=e;if(Sp.MATCHER===t)return O(t,L(n));if(Sp.GROUP===t)return O(t,M(n));if(Sp.HISTORICAL===t)return O(t,F(n));throw new Error("Can not parse condition")}function B(e){const{id:t,type:n,detail:o}=e;return T(t,n,o)}function U(e){const{condition:t,consequences:n,key:o}=e;return I(V(t),n.map(B),o)}function z(e){if(e)return{provider:e.provider,providerData:Object.assign({},e.providerData)}}function $(e){const{version:t,rules:n,metadata:o}=e;return S(t,n.map(U),z(o))}function G(e,t){return{provider:zp,execute:n=>e.map((e=>e.execute(n,t))).filter((e=>e.length>0))}}function H(e){const{providerData:t}=e;if(!t)throw new Error("Provider data is missing in metadata");const{identityTemplate:n,buckets:o}=t;if(!n)throw new Error("Identity template is missing in provider data");if(!o)throw new Error("Buckets is missing in provider data")}function Q(e){const{xdm:t}=e;if(!t)throw new Error("XDM object is missing in the context");const{identityMap:n}=t;if(!n)throw new Error("Identity map is missing in the XDM object");const o=n[$p];if(!o)throw new Error("ECID identity namespace is missing in the identity map");if(!Array.isArray(o)||0===o.length)throw new Error("ECID identities array is empty or not an array");const a=o[0].id;if(!a)throw new Error("ECID identity is missing in the identities array");return a}function W(e,t,n){const{providerData:o}=n,{identityTemplate:a}=o;return a.replace(Gp,t).replace(Hp,e)}function K(e){return!P(e)}function J(e,t=e=>e[0]){const n={};return function(...o){const a=t(o);return K(n[a])||(n[a]=e(...o)),n[a]}}function X(e,t){const n=65535&t;return((t-n)*e|0)+(n*e|0)|0}function Y(e,t=0){let n;const o=e.length,a=3432918353,i=461845907;let r=t;const s=-2&o;for(let t=0;t<s;t+=2)n=e.charCodeAt(t)|e.charCodeAt(t+1)<<16,n=X(n,a),n=(131071&n)<<15|n>>>17,n=X(n,i),r^=n,r=(524287&r)<<13|r>>>19,r=5*r+3864292196|0;return o%2==1&&(n=e.charCodeAt(s),n=X(n,a),n=(131071&n)<<15|n>>>17,n=X(n,i),r^=n),r^=o<<1,r^=r>>>16,r=X(r,2246822507),r^=r>>>13,r=X(r,3266489909),r^=r>>>16,r}function Z(e,t){const n=Qp(e),o=Math.abs(n)%t/t*Wp;return Math.round(o*Wp)/Wp}function ee(e,t,n){return{allocation:Kp(e,t),...n}}function te(e){const t={};for(let n=0;n<e.length;n+=1){const o=e[n];o.key&&(t[o.key]||(t[o.key]=[]),t[o.key].push(o))}return t}function ne(e,t){return t.map((t=>t.execute(e))).filter((e=>e.length>0))}function oe(e,t){H(t);const n=e.filter((e=>!e.key)),o=te(e),{buckets:a}=t.providerData;return{provider:Up,execute:e=>{const i=Q(e),r=ne(e,n),s=Object.keys(o),c=[];for(let n=0;n<s.length;n+=1){const r=s[n],l=o[r],d=ne(ee(W(i,r,t),a,e),l);c.push(...d)}return[...r,...c]}}}function ae(e,t,n){const{provider:o}=t;return o===Up?oe(e,t):G(e,n)}function ie(e,t={generateEventHash:()=>{throw new Error("No hash function provided")}}){const{rules:n,metadata:o={}}=$(e);return ae(n,o,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.deepAssign=t.createEventMergeId=t.createCustomInstance=t.components=void 0;var re=o(n("@adobe/reactor-query-string")),se=e=>null==e,ce=e=>!se(e)&&!Array.isArray(e)&&"object"==typeof e,le=(...e)=>e.length<2?Object.assign(...e):e.reduce(((e,t)=>(ce(t)&&Object.keys(t).forEach((n=>{Array.isArray(t[n])?Array.isArray(e[n])?e[n].push(...t[n]):e[n]=[...t[n]]:e[n]=t[n]})),e)));const de=e=>{const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)))};var ue=i({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),pe={get:ue.get.bind(ue),set:ue.set.bind(ue),remove:ue.remove.bind(ue),withConverter:ue.withConverter.bind(ue)};const me=(e,t)=>{Object.keys(t).forEach((n=>{ce(e[n])&&ce(t[n])?me(e[n],t[n]):e[n]=t[n]}))};var ge=(e,...t)=>{if(se(e))throw new TypeError('deepAssign "target" cannot be null or undefined');const n=Object(e);return t.forEach((e=>me(n,Object(e)))),n};t.deepAssign=ge;var fe=(e,t)=>n=>{const o=t.split(".").reduce(((e,t)=>(e[t]=e[t]||{},e[t])),e);ge(o,n)},be=()=>{const e=[];return{add(t){e.push(t)},call:(...t)=>Promise.all(e.map((e=>e(...t))))}},he=({logger:e,cookieJar:t})=>({...t,set:(n,o,a)=>(e.info("Setting cookie",{name:n,value:o,...a}),t.set(n,o,a))}),ve=()=>{let e=0,t=Promise.resolve();return{addTask(n){e+=1;const o=()=>n().finally((()=>{e-=1}));return t=t.then(o,o),t},get length(){return e}}},ye=()=>{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e};const _e=(e,t)=>e===t,ke=(e,t,n)=>{for(let o=0;o<e.length;o+=1)if(n(e[o],t))return o;return-1};var Ce=(e,t=_e)=>e.filter(((n,o)=>ke(e,n,t)===o)),we=(e,t)=>e.appendChild(t);const Pe=(e,t)=>{Object.keys(t).forEach((n=>{if("style"===n&&ce(t[n])){const o=t[n];Object.keys(o).forEach((t=>{e.style[t]=o[t]}))}else e[n]=t[n]}))};var Ee=(e,t={},n={},o=[],a=document)=>{const i=a.createElement(e);return Object.keys(t).forEach((e=>{i.setAttribute(e,t[e])})),Pe(i,n),o.forEach((e=>we(i,e))),i};const je="BODY",xe="IFRAME",Ae="IMG",qe="DIV",Se="STYLE",Ie="SCRIPT",Oe="HEAD";var Te=({src:e,currentDocument:t=document})=>new Promise(((n,o)=>{Ee(Ae,{src:e},{onload:n,onerror:o,onabort:o},[],t)})),De=e=>"function"==typeof e,Ne=e=>Array.isArray(e)&&e.length>0,Re=e=>Array.isArray(e)?e:null==e?[]:[].slice.call(e);const Le=/^\s*>/;var Me=(e,t)=>Le.test(t)?Re(e.querySelectorAll(`:scope ${t}`)):Re(e.querySelectorAll(t)),Fe=":shadow";const Ve=e=>e.split(Fe),Be=(e,t)=>{const n=t;return n.startsWith(">")?`${e instanceof Element||e instanceof Document?":scope":":host"} ${n}`:n};var Ue=(e,t)=>{const n=Ve(t);if(n.length<2)return Me(e,t);let o=e;for(let e=0;e<n.length;e+=1){const t=n[e].trim();if(""===t&&o.shadowRoot){o=o.shadowRoot;continue}const a=Be(o,t),i=Me(o,a);if(0===i.length||!i[0]||!i[0].shadowRoot)return i;o=i[0].shadowRoot}},ze=e=>-1!==e.indexOf(Fe),$e=(e,t=document)=>ze(e)?Ue(t,e):Me(t,e);const Ge="MutationObserver",He="requestAnimationFrame",Qe={childList:!0,subtree:!0},We="visibilityState",Ke="visible",Je=100,Xe=5e3,Ye=e=>new Error(`Could not find: ${e}`),Ze=e=>new Promise(e),et=e=>De(e[Ge]),tt=(e,t,n,o,a)=>Ze(((i,r)=>{let s;const c=new e[Ge]((()=>{const e=a(n);Ne(e)&&(c.disconnect(),s&&clearTimeout(s),i(e))}));s=setTimeout((()=>{c.disconnect(),r(Ye(n))}),o),c.observe(t,Qe)})),nt=e=>e[We]===Ke,ot=(e,t,n,o)=>Ze(((a,i)=>{const r=()=>{const n=o(t);Ne(n)?a(n):e[He](r)};r(),setTimeout((()=>{i(Ye(t))}),n)})),at=(e,t,n)=>Ze(((o,a)=>{const i=()=>{const t=n(e);Ne(t)?o(t):setTimeout(i,Je)};i(),setTimeout((()=>{a(Ye(e))}),t)}));var it=(e,t=$e,n=Xe,o=window,a=document)=>{const i=t(e);return Ne(i)?Promise.resolve(i):et(o)?tt(o,a,e,n,t):nt(a)?ot(o,e,n,t):at(e,n,t)},rt=(e,t)=>t.matches?t.matches(e):t.msMatchesSelector(e),st=e=>{const t=e.parentNode;return t?t.removeChild(e):null};const ct={name:"Adobe Alloy"},lt={style:{display:"none",width:0,height:0}};var dt=({appendNode:e=we,awaitSelector:t=it,createNode:n=Ee,fireImage:o=Te}={})=>{const a=o;let i;const r=()=>t(je).then((([t])=>i||(i=n(xe,ct,lt),e(t,i)))),s=({src:e})=>r().then((t=>{const n=t.contentWindow.document;return o({src:e,currentDocument:n})}));return e=>{const{hideReferrer:t,url:n}=e;return t?s({src:n}):a({src:n})}},ut=e=>ce(e)&&0===Object.keys(e).length;const pt=(e,t)=>se(e)||!ce(e)?e:Object.keys(e).reduce(((n,o)=>{const a=e[o];if(ce(a)){const e=pt(a,t);return ut(e)?n:{...n,[o]:e}}return t(a)?{...n,[o]:a}:n}),{}),mt=e=>{let t=2166136261;const n=16777619,o=(new TextEncoder).encode(e);for(let e=0;e<o.length;e+=1)t^=o[e],t=Math.imul(t,n);return t>>>0},gt=e=>mt(e).toString(16).padStart(8,"0");var ft="com.adobe.alloy.",bt=(e,t)=>e.slice(-t);const ht=`${ft}getTld`;var vt=(e,t)=>{let n="";const o=e.location.hostname.toLowerCase().split(".");let a=1;for(;a<o.length&&!t.get(ht);)a+=1,n=bt(o,a).join("."),t.set(ht,ht,{domain:n});return t.remove(ht,{domain:n}),n},yt="kndctr",_t=e=>e.replace("@","_"),kt=(e,t)=>`${yt}_${_t(e)}_${t}`,Ct=(e,t)=>{const n={};return e.forEach((e=>{const o=t(e);n[o]||(n[o]=[]),n[o].push(e)})),n};const wt="Chrome",Pt="Edge",Et="EdgeChromium",jt="Firefox",xt="IE",At="Safari",qt="Unknown";var St=e=>{let t,n=!1;return()=>(n||(n=!0,t=e()),t)};const It=[wt,Pt,Et,xt,qt];var Ot=({getBrowser:e})=>St((()=>It.includes(e())));const Tt="identity",Dt="consent",Nt="cluster";var Rt=({orgId:e})=>{const t=kt(e,Tt);return()=>Boolean(pe.get(t))};const Lt=(e,t)=>{const n=Object.keys(e);for(let o=0;o<n.length;o+=1){const a=n[o];if(e[a].test(t))return a}return qt};var Mt=({userAgent:e})=>St((()=>Lt({[Pt]:/Edge\/([0-9\._]+)/,[Et]:/Edg\/([0-9\.]+)/,[wt]:/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,[jt]:/Firefox\/([0-9\.]+)(?:\s|$)/,[xt]:/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/,[At]:/Version\/([0-9\._]+).*Safari/},e)));const Ft=(e,t,n)=>({getItem(o){try{return e[t].getItem(n+o)}catch{return null}},setItem(o,a){try{return e[t].setItem(n+o,a),!0}catch{return!1}},clear(){try{return Object.keys(e[t]).forEach((o=>{o.startsWith(n)&&e[t].removeItem(o)})),!0}catch{return!1}}});var Vt=e=>t=>{const n=ft+t;return{session:Ft(e,"sessionStorage",n),persistent:Ft(e,"localStorage",n)}},Bt=(e,t)=>e.filter((e=>t.includes(e))),Ut=e=>"boolean"==typeof e,zt=e=>"number"==typeof e&&!Number.isNaN(e),$t=e=>{const t=parseInt(e,10);return zt(t)&&e===t},Gt=(e,t)=>0===t.indexOf(`${yt}_${_t(e)}_`),Ht=e=>"string"==typeof e,Qt=e=>Ht(e)&&e.length>0,Wt=()=>{};const Kt=e=>{const t={},n=e.split(".");switch(n.length){case 1:t.subdomain="",t.domain=e,t.topLevelDomain="";break;case 2:t.subdomain="",t.domain=e,t.topLevelDomain=n[1];break;case 3:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=n[2];break;case 4:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=`${n[2]}.${n[3]}`}return t},Jt=e=>{try{const t=new URL(e);let n=t.pathname;return e.endsWith("/")||"/"!==n||(n=""),{host:t.hostname,path:n,query:t.search.replace(/^\?/,""),anchor:t.hash.replace(/^#/,"")}}catch{return{host:"",path:"",query:"",anchor:""}}},Xt=(e,t=Kt)=>{Ht(e)||(e="");const n=Jt(e),{host:o,path:a,query:i,anchor:r}=n;return{path:a,query:i,fragment:r,...t(o)}};var Yt=e=>{if(se(e)||"object"!=typeof e)return null;const t=pt(e,(e=>!(se(e)||!Ut(e)&&!zt(e)&&!Qt(e)&&!Ne(e))));return ut(t)?null:t};const Zt=e=>Array.isArray(e)?e.map((e=>Zt(e))):"object"==typeof e&&null!==e?Object.keys(e).sort().reduce(((t,n)=>(t[n]=Zt(e[n]),t)),{}):e;var en=e=>Zt(e),tn=e=>e instanceof Error?e:new Error(e),nn=({error:e,message:t})=>{try{e.message=t}catch{}},on=({error:e,message:t})=>{const n=tn(e),o=`${t}\nCaused by: ${n.message}`;return nn({error:n,message:o}),n},an=e=>Ht(e)&&"true"===e.toLowerCase(),rn=(e,t)=>{if(zt(e)||Ht(e)){const t=Math.round(Number(e));if(!Number.isNaN(t))return t}return t};const sn=(e,t,n)=>`${e}`.padStart(t,n);var cn=e=>{const t=e.getFullYear(),n=sn(e.getMonth()+1,2,"0"),o=sn(e.getDate(),2,"0"),a=sn(e.getHours(),2,"0"),i=sn(e.getMinutes(),2,"0"),r=sn(e.getSeconds(),2,"0"),s=sn(e.getMilliseconds(),3,"0"),c=rn(e.getTimezoneOffset(),0);return`${t}-${n}-${o}T${a}:${i}:${r}.${s}${c>0?"-":"+"}${sn(Math.floor(Math.abs(c)/60),2,"0")}:${sn(Math.abs(c)%60,2,"0")}`};const ln=[];for(let e=0;e<256;++e)ln.push((e+256).toString(16).slice(1));let dn;const un=new Uint8Array(16);var pn={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};const mn=e=>function(t,n){return null==t?t:e.call(this,t,n)},gn=(e,t)=>function(n,o){return t.call(this,e.call(this,n,o),o)},fn=(e,t)=>function(n,o){const a=[],i=[e,t].reduce(((e,t)=>{try{return t.call(this,e,o)}catch(t){return a.push(t),e}}),n);if(a.length)throw new Error(a.join("\n"));return i},bn=(e,t,n)=>Object.assign(gn(e,t),e,n),hn=(e,t,n)=>Object.assign(gn(e,mn(t)),e,n),vn=(e,t,n)=>Object.assign(fn(mn(t),e),e,n),yn=(e,t,n,o)=>{if(!e)throw new Error(`'${n}': Expected ${o}, but got ${JSON.stringify(t)}.`)};var _n=(e,t)=>(yn(Ut(e),e,t,"true or false"),e),kn=(e,t)=>(yn(De(e),e,t,"a function"),e),Cn=(e,t)=>function(n,o){let a;const i=e.find((e=>{try{return a=e.call(this,n,o),!0}catch{return!1}}));return yn(i,n,o,t),a},wn=e=>function(t,n){yn(Array.isArray(t),t,n,"an array");const o=[],a=t.map(((a,i)=>{try{return e.call(this,a,`${n}[${i}]`,t)}catch(e){return void o.push(e.message)}}));if(o.length)throw new Error(o.join("\n"));return a},Pn=e=>t=>null==t?e:t,En=(e="This field has been deprecated")=>function(t,n){let o=e;return void 0!==t&&(n&&(o=`'${n}': ${o}`),this&&this.logger&&this.logger.warn(o)),t},jn=e=>(t,n)=>(yn(t===e,t,n,`${e}`),t),xn=e=>function(t,n){yn(ce(t),t,n,"an object");const o=[],a={};if(Object.keys(t).forEach((i=>{const r=t[i],s=n?`${n}.${i}`:i;try{const t=e.call(this,r,s);void 0!==t&&(a[i]=t)}catch(e){o.push(e.message)}})),o.length)throw new Error(o.join("\n"));return a},An=(e,t)=>(n,o)=>(yn(n>=t,n,o,`${e} greater than or equal to ${t}`),n),qn=(e,t)=>(n,o)=>(yn(n<=t,n,o,`${e} less than or equal to ${t}`),n),Sn=e=>(t,n)=>{const o=[];if(Object.keys(t).forEach((t=>{if(!e[t]){const e=n?`${n}.${t}`:t;o.push(`'${e}': Unknown field.`)}})),o.length)throw new Error(o.join("\n"));return t},In=e=>(t,n)=>(ce(t)?yn(!ut(t),t,n,e):yn(t.length>0,t,n,e),t),On=e=>function(t,n){yn(ce(t),t,n,"an object");const o=[],a={};if(Object.keys(e).forEach((i=>{const r=t[i],s=e[i],c=n?`${n}.${i}`:i;try{const e=s.call(this,r,c);void 0!==e&&(a[i]=e)}catch(e){o.push(e.message)}})),Object.keys(t).forEach((e=>{Object.prototype.hasOwnProperty.call(a,e)||(a[e]=t[e])})),o.length)throw new Error(o.join("\n"));return a},Tn=(e,t,n)=>function(o,a){yn(ce(o),o,a,"an object");const{[e]:i,[n]:r,...s}=o,c=t(i,a);if(void 0!==c){let t=`The field '${e}' is deprecated. Use '${n}' instead.`;if(a&&(t=`'${a}': ${t}`),void 0!==r&&r!==c)throw new Error(t);this&&this.logger&&this.logger.warn(t)}return{[n]:r||c,...s}},Dn=()=>{const e=[];return(t,n)=>(yn(-1===e.indexOf(t),t,n,"a unique value across instances"),e.push(t),t)},Nn=e=>{const t=Object.create(null);for(let n=0;n<e.length;n+=1){const o=e[n];if(o in t)return!1;t[o]=!0}return!0},Rn=()=>(e,t)=>(yn(Nn(e),e,t,"array values to be unique"),e);const Ln=/^[a-z0-9.-]{1,}$/i;var Mn=(e,t)=>(yn(Ln.test(e),e,t,"a valid domain"),e),Fn=(e,t)=>(yn($t(e),e,t,"an integer"),e),Vn=(e,t)=>(yn(zt(e),e,t,"a number"),e),Bn=e=>{try{return null!==RegExp(e)}catch{return!1}},Un=(e,t)=>(yn(Bn(e),e,t,"a regular expression"),e),zn=(e,t)=>{if(null==e)throw new Error(`'${t}' is a required option`);return e},$n=(e,t)=>(yn(Ht(e),e,t,"a string"),e),Gn=e=>(t,n)=>(yn(e.test(t),t,n,`does not match the ${e.toString()}`),t);const Hn=e=>e;Hn.default=function(e){return bn(this,Pn(e))},Hn.required=function(){return bn(this,zn)},Hn.deprecated=function(e){return bn(this,En(e))};const Qn=function(){return hn(this,Mn)},Wn=function(e){return hn(this,An("an integer",e))},Kn=function(e){return hn(this,An("a number",e))},Jn=function(e){return hn(this,qn("a number",e))},Xn=function(){return hn(this,Fn,{minimum:Wn})},Yn=function(){return hn(this,In("a non-empty string"))},Zn=function(){return hn(this,In("a non-empty array"))},eo=function(){return hn(this,In("a non-empty object"))},to=function(){return hn(this,Un)},no=function(e){return hn(this,Gn(e))},oo=function(){return hn(this,Dn())},ao=function(){return hn(this,Rn())},io=function(e,t){return bn(this,Cn(e,t))},ro=function(){return this},so=function(e){return hn(this,wn(e),{nonEmpty:Zn,uniqueItems:ao})},co=function(){return hn(this,_n)},lo=function(){return hn(this,kn)},uo=function(e){return hn(this,jn(e))},po=function(){return hn(this,Vn,{minimum:Kn,maximum:Jn,integer:Xn,unique:oo})},mo=function(e){return hn(this,xn(e),{nonEmpty:eo})},go=e=>({noUnknownFields:function(){return hn(this,Sn(e))},nonEmpty:eo,concat:function(t){const n={...e,...t.schema};return hn(this,t,go(n))},renamed:function(e,t,n){return vn(this,Tn(e,t,n))},schema:e}),fo=function(e){return hn(this,On(e),go(e))},bo=function(){return hn(this,$n,{regexp:to,domain:Qn,nonEmpty:Yn,unique:oo,matches:no})},ho=io.bind(Hn),vo=ro.bind(Hn),yo=so.bind(Hn),_o=co.bind(Hn),ko=lo.bind(Hn),Co=uo.bind(Hn),wo=po.bind(Hn),Po=mo.bind(Hn),Eo=fo.bind(Hn),jo=bo.bind(Hn),xo=function(...e){return ho(e.map(Co),`one of these values: ${JSON.stringify(e)}`)};var Ao=Po(yo(Eo({authenticatedState:xo("ambiguous","authenticated","loggedOut"),id:jo(),namespace:Eo({code:jo()}).noUnknownFields(),primary:_o(),xid:jo()}).noUnknownFields()).required()),qo=Eo({}),So="alloy_debug",Io=({console:e,locationSearch:t,createLogger:n,instanceName:o,createNamespacedStorage:a,getMonitors:i})=>{const r=re.default.parse(t),s=a(`instance.${o}.`),c=s.session.getItem("debug");let l="true"===c,d=null===c;const u=()=>l,p=(e,{fromConfig:t})=>{t&&!d||(l=e),t||(s.session.setItem("debug",e.toString()),d=!1)};return void 0!==r[So]&&p(an(r[So]),{fromConfig:!1}),{setDebugEnabled:p,logger:n({getDebugEnabled:u,context:{instanceName:o},getMonitors:i,console:e}),createComponentLogger:t=>n({getDebugEnabled:u,context:{instanceName:o,componentName:t},getMonitors:i,console:e})}};const Oo=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick","onDecision"],To=(e,t)=>(...n)=>Promise.all(e.getLifecycleCallbacks(t).map((e=>new Promise((t=>{t(e(...n))}))))),Do=e=>(...t)=>Promise.resolve().then((()=>e(...t)));var No=e=>Oo.reduce(((t,n)=>(t[n]=Do(To(e,n)),t)),{});const Ro=(e,t)=>(...n)=>{let o;try{o=e(...n)}catch(e){throw on({error:e,message:t})}return o instanceof Promise&&(o=o.catch((e=>{throw on({error:e,message:t})}))),o};var Lo=()=>{const e={},t={},n={},o=(e,n={})=>{const o=Bt(Object.keys(t),Object.keys(n));if(o.length)throw new Error(`[ComponentRegistry] Could not register ${e} because it has existing command(s): ${o.join(",")}`);Object.keys(n).forEach((o=>{const a=n[o];a.commandName=o,a.run=Ro(a.run,`[${e}] An error occurred while executing the ${o} command.`),t[o]=a}))},a=(e,t={})=>{Object.keys(t).forEach((o=>{n[o]=n[o]||[],n[o].push(Ro(t[o],`[${e}] An error occurred while executing the ${o} lifecycle hook.`))}))};return{register(t,n){const{commands:i,lifecycle:r}=n;o(t,i),a(t,r),e[t]=n},getCommand:e=>t[e],getCommandNames:()=>Object.keys(t),getLifecycleCallbacks:e=>n[e]||[],getComponentNames:()=>Object.keys(e)}},Mo=({logger:e,sendFetchRequest:t,sendBeaconRequest:n,isRequestRetryable:o,getRequestRetryDelay:a})=>({requestId:i,url:r,payload:s,useSendBeacon:c})=>{const l=JSON.stringify(s),d=JSON.parse(l);e.logOnBeforeNetworkRequest({url:r,requestId:i,payload:d});const u=(s=0)=>(c?n:t)(r,l).then((t=>{if(o({response:t,retriesAttempted:s})){const e=a({response:t,retriesAttempted:s});return new Promise((t=>{setTimeout((()=>{t(u(s+1))}),e)}))}let n;try{n=JSON.parse(t.body)}catch{}return e.logOnNetworkResponse({requestId:i,url:r,payload:d,...t,parsedBody:n,retriesAttempted:s}),{statusCode:t.statusCode,body:t.body,parsedBody:n,getHeader:t.getHeader}}));return u().catch((t=>{throw e.logOnNetworkError({requestId:i,url:r,payload:d,error:t}),on({error:t,message:"Network request failed."})}))},Fo=({logger:e})=>t=>{if(t){const n=t.split(";");if(n.length>=2&&n[1].length>0)try{const e=parseInt(n[1],10);if(!Number.isNaN(e))return{regionId:e}}catch{}e.warn(`Invalid adobe edge: "${t}"`)}return{}};const Vo=1,Bo=(e,t)=>{let n,o=0,a=0;do{if(t<0||t+a>=e.length)throw new Error("Invalid varint: buffer ended unexpectedly");if(n=e[t+a],o|=(127&n)<<7*a,a+=1,a>10)throw new Error("Invalid varint: too long")}while(128&n);return{value:o,length:a}},Uo=Object.freeze({VARINT:0,I64:1,LEN:2,SGROUP:3,EGROUP:4,I32:5}),zo=e=>{let t=0,n=null;for(;t<e.length&&!n;){const{value:o,length:a}=Bo(e,t);t+=a;const i=7&o;if(o>>3===Vo){if(i===Uo.LEN){const o=Bo(e,t);return t+=o.length,n=(new TextDecoder).decode(e.slice(t,t+o.value)),t+=o.value,n}}else switch(i){case Uo.VARINT:t+=Bo(e,t).length;break;case Uo.I64:t+=8;break;case Uo.LEN:{const n=Bo(e,t);t+=n.length+n.value;break}case Uo.SGROUP:case Uo.EGROUP:break;case Uo.I32:t+=4;break;default:throw new Error(`Malformed kndctr cookie. Unknown wire type: ${i}`)}}throw new Error("No ECID found in cookie.")};var $o=({orgId:e,cookieJar:t,logger:n})=>{const o=kt(e,"identity");return()=>{const e=t.get(o);if(!e)return null;try{const t=decodeURIComponent(e).replace(/_/g,"/").replace(/-/g,"+"),n=de(t);return zo(n)}catch(e){return n.warn(`Unable to decode ECID from ${o} cookie`,e),null}}},Go=({logger:e,loggingCookieJar:t,config:n})=>{let o=null;const a=new Promise((e=>{o=e})),i=$o({orgId:n.orgId,cookieJar:t,logger:e});return{initialize(){i()&&this.setIdentityAcquired()},setIdentityAcquired(){o()},awaitIdentity:()=>a,getEcidFromCookie:()=>i()}};const Ho="in",Qo="out",Wo="pending",Ko="disabled",Jo="wait",Xo="auto",Yo="general",Zo="declinedConsent",ea="default",ta="initial",na="new",oa=e=>{const t=new Error(e);return t.code=Zo,t.message=e,t};var aa=({logger:e})=>{const t=[],n=()=>{for(;t.length;)t.shift().resolve()},o=()=>{for(;t.length;)t.shift().reject(oa("The user declined consent."))},a=()=>Promise.resolve(),i=()=>Promise.resolve(),r=()=>Promise.resolve(),s=()=>Promise.reject(oa("No consent preferences have been set.")),c=()=>Promise.reject(oa("The user declined consent.")),l=e=>{if(e)return Promise.reject(new Error("Consent is pending."));const n=ye();return t.push(n),n.promise};return{in(t){t===ea?this.awaitConsent=i:(t===ta?e.info("Loaded user consent preferences. The user previously consented."):t===na&&this.awaitConsent!==r&&e.info("User consented."),n(),this.awaitConsent=r)},out(t){t===ea?(e.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=s):(t===ta?e.warn("Loaded user consent preferences. The user previously declined consent."):t===na&&this.awaitConsent!==c&&e.warn("User declined consent."),o(),this.awaitConsent=c)},pending(t){t===ea&&e.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=l},awaitConsent:a,withConsent(){return this.awaitConsent(!0)},current(){switch(this.awaitConsent){case i:return{state:"in",wasSet:!1};case r:return{state:"in",wasSet:!0};case s:return{state:"out",wasSet:!1};case c:return{state:"out",wasSet:!0};case l:return{state:"pending",wasSet:!1};default:return{state:"in",wasSet:!1}}}}},ia=({generalConsentState:e,logger:t})=>{const n=(n,o)=>{switch(n[Yo]){case Ho:e.in(o);break;case Qo:e.out(o);break;case Wo:e.pending(o);break;default:t.warn(`Unknown consent value: ${n[Yo]}`)}};return{initializeConsent(e,t){t[Yo]?n(t,ta):n(e,ea)},setConsent(e){n(e,na)},suspend(){e.pending()},awaitConsent:()=>e.awaitConsent(),withConsent:()=>e.withConsent(),current:()=>e.current()}};const ra=e=>e&&e._experience&&e._experience.decisioning&&Ne(e._experience.decisioning.propositions)?e._experience.decisioning.propositions:[];var sa=()=>{const e={};let t,n,o=!1,a=!1,i=!0;const r=e=>{if(a)throw new Error(`${e} cannot be called after event is finalized.`)},s={hasQuery(){return Object.prototype.hasOwnProperty.call(this.getContent(),"query")},getContent(){const o=JSON.parse(JSON.stringify(e));return t&&ge(o,{xdm:t}),n&&ge(o,{data:n}),o},setUserXdm(e){r("setUserXdm"),t=e},setUserData(e){r("setUserData"),n=e},mergeXdm(t){r("mergeXdm"),t&&ge(e,{xdm:t})},mergeData(t){r("mergeData"),t&&ge(e,{data:t})},mergeMeta(t){r("mergeMeta"),t&&ge(e,{meta:t})},mergeQuery(t){r("mergeQuery"),t&&ge(e,{query:t})},documentMayUnload(){o=!0},finalize(o){if(a)return;const r=Ce([...ra(t),...ra(e.xdm)],((e,t)=>e===t||e.id&&t.id&&e.id===t.id&&e.scope&&t.scope&&e.scope===t.scope));if(t&&this.mergeXdm(t),r.length>0&&(e.xdm._experience.decisioning.propositions=r),n&&s.mergeData(n),a=!0,o){i=!1;const t={xdm:e.xdm||{},data:e.data||{}},n=o(t);i=!1!==n,e.xdm=t.xdm||{},e.data=t.data||{},ut(e.xdm)&&delete e.xdm,ut(e.data)&&delete e.data}},getDocumentMayUnload:()=>o,isEmpty:()=>ut(e)&&(!t||ut(t))&&(!n||ut(n)),shouldSend:()=>i,getViewName(){if(t&&t.web&&t.web.webPageDetails)return t.web.webPageDetails.viewName},toJSON(){if(!a)throw new Error("toJSON called before finalize");return e}};return s};const ca="Retry-After",la="x-adobe-edge";var da=({extractEdgeInfo:e})=>({content:t={},getHeader:n})=>{const{handle:o=[],errors:a=[],warnings:i=[]}=t;return{getPayloadsByType:e=>o.filter((t=>t.type===e)).flatMap((e=>e.payload)),getErrors:()=>a,getWarnings:()=>i,getEdge:()=>e(n(la)),toJSON:()=>t}};const ua="configure",pa="setDebug";var ma=({logger:e,configureCommand:t,setDebugCommand:n,handleError:o,validateCommandOptions:a})=>{let i;const r=(o,r)=>{let s;if(o===ua){if(i)throw new Error("The library has already been configured and may only be configured once.");s=()=>(i=t(r),i.then((()=>{})))}else{if(!i)throw new Error("The library must be configured first. Please do so by executing the configure command.");s=o===pa?()=>{const e=Eo({enabled:_o().required()}).noUnknownFields(),t=a({command:{commandName:pa,optionsValidator:e},options:r});n(t)}:()=>i.then((e=>{const t=e.getCommand(o);if(!t||!De(t.run)){const t=[ua,pa].concat(e.getCommandNames()).join(", ");throw new Error(`The ${o} command does not exist. List of available commands: ${t}.`)}const n=a({command:t,options:r});return t.run(n)}),(()=>(e.warn(`An error during configuration is preventing the ${o} command from executing.`),new Promise((()=>{})))))}return s};return(t,n={})=>new Promise((o=>{const a=r(t,n);e.logOnBeforeCommand({commandName:t,options:n}),o(a())})).catch((e=>o(e,`${t} command`))).catch((o=>{throw e.logOnCommandRejected({commandName:t,options:n,error:o}),o})).then((o=>{const a=ce(o)?o:{};return e.logOnCommandResolved({commandName:t,options:n,result:a}),a}))};const ga="https://adobe.ly/3sHgQHb";var fa=({command:e,options:t})=>{const{commandName:n,documentationUri:o=ga,optionsValidator:a}=e;let i=t;if(a)try{i=a(t)}catch(e){throw new Error(`Invalid ${n} command options:\n\t - ${e} For command documentation see: ${o}`)}return i};const ba="https://adobe.ly/3sHh553",ha=({combinedConfigValidator:e,options:t,logger:n})=>{try{return e.noUnknownFields().required().call({logger:n},t)}catch(e){throw new Error(`Resolve these configuration problems:\n\t - ${e.message.split("\n").join("\n\t - ")}\nFor configuration documentation see: ${ba}`)}},va=(e,t,n)=>n.reduce(((n,{buildOnInstanceConfiguredExtraParams:o})=>(o&&(n={...n,...o({config:e,logger:t})}),n)),{}),ya=e=>{const t=[],n={get enabled(){return e.enabled},flush(){t.forEach((({method:t,args:n})=>e[t](...n)))}};return Object.keys(e).filter((t=>"function"==typeof e[t])).forEach((e=>{n[e]=(...n)=>{t.push({method:e,args:n})}})),n};var _a=({options:e,componentCreators:t,coreConfigValidators:n,createConfig:o,logger:a,setDebugEnabled:i})=>{const r=ya(a),s=t.map((({configValidators:e})=>e)).filter((e=>e)).reduce(((e,t)=>e.concat(t)),n),c=o(ha({combinedConfigValidator:s,options:e,logger:r}));i(c.debugEnabled,{fromConfig:!0}),r.flush();const l=va(c,a,t);return a.logOnInstanceConfigured({...l,config:c}),c},ka=({componentCreators:e,lifecycle:t,componentRegistry:n,getImmediatelyAvailableTools:o})=>(e.forEach((e=>{const{namespace:t}=e,a=o(t);let i;try{i=e(a)}catch(e){throw on({error:e,message:`[${t}] An error occurred during component creation.`})}n.register(t,i)})),t.onComponentsRegistered({lifecycle:t}).then((()=>n)));const Ca=e=>({...e}),wa="edge.adobedc.net",Pa="adobedc.demdex.net";var Ea="ee",ja=()=>Eo({debugEnabled:_o().default(!1),datastreamId:jo().unique().required(),edgeDomain:jo().domain().default(wa),edgeBasePath:jo().nonEmpty().default(Ea),orgId:jo().unique().required(),onBeforeEventSend:ko().default(Wt),edgeConfigOverrides:qo}).renamed("edgeConfigId",jo().unique(),"datastreamId"),xa=({errorPrefix:e,logger:t})=>(n,o)=>{const a=tn(n);if(a.code===Zo)return t.warn(`The ${o} could not fully complete. ${a.message}`),{};throw nn({error:a,message:`${e} ${a.message}`}),a},Aa=({fetch:e})=>(t,n)=>e(t,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},referrerPolicy:"no-referrer-when-downgrade",body:n}).then((e=>e.text().then((t=>({statusCode:e.status,getHeader:t=>e.headers.get(t),body:t}))))),qa=({sendBeacon:e,sendFetchRequest:t,logger:n})=>(o,a)=>{const i=new Blob([a],{type:"text/plain; charset=UTF-8"});return e(o,i)?Promise.resolve({statusCode:204,getHeader:()=>null,body:""}):(n.info("Unable to use `sendBeacon`; falling back to `fetch`."),t(o,a))},Sa=({getDebugEnabled:e,console:t,getMonitors:n,context:o})=>{let a=`[${o.instanceName}]`;o.componentName&&(a+=` [${o.componentName}]`);const i=(e,t)=>{const a=n();if(a.length>0){const n={...o,...t};a.forEach((t=>{t[e]&&t[e](n)}))}},r=(n,...o)=>{i("onBeforeLog",{level:n,arguments:o}),e()&&t[n](a,...o)};return{get enabled(){return n().length>0||e()},logOnInstanceCreated(e){i("onInstanceCreated",e),r("info","Instance initialized.")},logOnInstanceConfigured(e){i("onInstanceConfigured",e),r("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand(e){i("onBeforeCommand",e),r("info",`Executing ${e.commandName} command. Options:`,e.options)},logOnCommandResolved(e){i("onCommandResolved",e),r("info",`${e.commandName} command resolved. Result:`,e.result)},logOnCommandRejected(e){i("onCommandRejected",e),r("error",`${e.commandName} command was rejected. Error:`,e.error)},logOnBeforeNetworkRequest(e){i("onBeforeNetworkRequest",e),r("info",`Request ${e.requestId}: Sending request.`,e.payload)},logOnNetworkResponse(e){i("onNetworkResponse",e);const t=e.parsedBody||e.body?"response body:":"no response body.";r("info",`Request ${e.requestId}: Received response with status code ${e.statusCode} and ${t}`,e.parsedBody||e.body)},logOnNetworkError(e){i("onNetworkError",e),r("error",`Request ${e.requestId}: Network request failed.`,e.error)},logOnContentHiding(e){i("onContentHiding",{status:e.status}),r(e.logLevel,e.message)},logOnContentRendering(e){i("onContentRendering",{status:e.status,payload:e.detail}),r(e.logLevel,e.message)},info:r.bind(null,"info"),warn:r.bind(null,"warn"),
error:r.bind(null,"error")}},Ia="__view__",Oa=e=>(t,n)=>{e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(n)},Ta=e=>{const{payload:t,getAction:n,getUseSendBeacon:o,datastreamIdOverride:a,edgeSubPath:i}=e,r=c();let s=!1,l=!1;return{getId:()=>r,getPayload:()=>t,getAction:()=>n({isIdentityEstablished:l}),getDatastreamIdOverride:()=>a,getUseSendBeacon:()=>o({isIdentityEstablished:l}),getEdgeSubPath:()=>i||"",getUseIdThirdPartyDomain:()=>s,setUseIdThirdPartyDomain(){s=!0},setIsIdentityEstablished(){l=!0}}},Da=({payload:e,datastreamIdOverride:t})=>{const n=({isIdentityEstablished:t})=>e.getDocumentMayUnload()&&t;return Ta({payload:e,getAction:({isIdentityEstablished:e})=>n({isIdentityEstablished:e})?"collect":"interact",getUseSendBeacon:n,datastreamIdOverride:t})};const Na=(e,t)=>n=>{const o=t.split(".").reduce(((e,t)=>(e[t]=e[t]||{},e[t])),e);Object.assign(o,n)};var Ra=e=>{const{content:t,addIdentity:n,hasIdentity:o}=e,a=Na(t,"meta.configOverrides");return{mergeMeta:fe(t,"meta"),mergeState:fe(t,"meta.state"),mergeQuery:fe(t,"query"),mergeConfigOverride:e=>a(Yt(e)),addIdentity:n,hasIdentity:o,toJSON:()=>t}},La=e=>t=>void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t]),Ma=()=>{const e={};return{...Ra({content:e,addIdentity:Oa(e),hasIdentity:La(e)}),addEvent:t=>{e.events=e.events||[],e.events.push(t)},getDocumentMayUnload:()=>(e.events||[]).some((e=>e.getDocumentMayUnload()))}},Fa=({localConfigOverrides:e,globalConfigOverrides:t,payload:n})=>{const o={payload:n},{datastreamId:a,...i}=e||{};return a&&(o.datastreamIdOverride=a),t&&!ut(t)&&n.mergeConfigOverride(t),i&&!ut(i)&&n.mergeConfigOverride(i),o};const Va="adb_validation_sessionid",Ba="validation.",Ua="clientId",za=e=>{let t=e.persistent.getItem(Ua);return t||(t=c(),e.persistent.setItem(Ua,t)),t};var $a=({window:e,createNamespacedStorage:t})=>{const n=t(Ba);return()=>{const t=re.default.parse(e.location.search)[Va];if(!t)return"";const o=`${t}|${za(n)}`;return`&${re.default.stringify({adobeAepValidationToken:o})}`}};const Ga="Event was canceled because the onBeforeEventSend callback returned false.";var Ha=({config:e,logger:t,lifecycle:n,consent:o,createEvent:a,createDataCollectionRequestPayload:i,createDataCollectionRequest:r,sendEdgeNetworkRequest:s,applyResponse:c})=>{const{onBeforeEventSend:l,edgeConfigOverrides:d}=e;return{createEvent:a,sendEvent(e,a={}){const{edgeConfigOverrides:c,...u}=a,p=Fa({payload:i(),localConfigOverrides:c,globalConfigOverrides:d}),m=r(p),g=be(),f=be();return n.onBeforeEvent({...u,event:e,onResponse:g.add,onRequestFailure:f.add}).then((()=>(p.payload.addEvent(e),o.awaitConsent()))).then((()=>{try{e.finalize(l)}catch(e){const t=()=>{throw e};return f.add(n.onRequestFailure),f.call({error:e}).then(t,t)}if(!e.shouldSend()){f.add(n.onRequestFailure),t.info(Ga);const e=new Error(Ga);return f.call({error:e}).then((()=>{}))}return s({request:m,runOnResponseCallbacks:g.call,runOnRequestFailureCallbacks:f.call})}))},applyResponse(e,t={}){const{renderDecisions:o=!1,decisionContext:a={},responseHeaders:s={},responseBody:l={handle:[]},personalization:d}=t,u=i(),p=r({payload:u}),m=be();return n.onBeforeEvent({event:e,renderDecisions:o,decisionContext:a,decisionScopes:[Ia],personalization:d,onResponse:m.add,onRequestFailure:Wt}).then((()=>(u.addEvent(e),c({request:p,responseHeaders:s,responseBody:l,runOnResponseCallbacks:m.call}))))}}};const Qa="state:store";var Wa=({cookieJar:e,shouldTransferCookie:t,apexDomain:n,dateProvider:o})=>({cookiesToPayload(o,a){const i=""!==n&&a.endsWith(n),r={domain:n,cookiesEnabled:!0};if(!i){const n=e.get(),o=Object.keys(n).filter(t).map((e=>({key:e,value:n[e]})));o.length&&(r.entries=o)}o.mergeState(r)},responseToCookies(t){t.getPayloadsByType(Qa).forEach((t=>{const a={domain:n},i=t.attrs&&t.attrs.SameSite&&t.attrs.SameSite.toLowerCase();void 0!==t.maxAge&&(a.expires=new Date(o().getTime()+1e3*t.maxAge)),void 0!==i&&(a.sameSite=i),"none"===i&&(a.secure=!0),e.set(t.key,t.value,a)}))}});const Ka="mboxEdgeCluster",Ja="at_qa_mode",Xa="mbox";var Ya=({orgId:e,targetMigrationEnabled:t})=>n=>Gt(e,n)||n===Ja||t&&n===Xa,Za="v1";const ei="TypeError",ti="NetworkError",ni=e=>e.name===ei||e.name===ti||0===e.status;var oi=e=>{const t=e.shift()||[],n=e.shift()||[];return le({},...t,...n,...e)},ai=e=>t=>{const n=()=>{throw t};return e.call({error:t}).then(n,n)};const ii=(e,t)=>t.getUseIdThirdPartyDomain()&&ni(e);var ri=({config:e,lifecycle:t,cookieTransfer:n,sendNetworkRequest:o,createResponse:a,processWarningsAndErrors:i,getLocationHint:r,getAssuranceValidationTokenParams:s})=>{const{edgeDomain:c,edgeBasePath:l,datastreamId:d}=e;let u=!1;const p=(e,t)=>{const n=r(),o=n?`${l}/${n}${t.getEdgeSubPath()}`:`${l}${t.getEdgeSubPath()}`,a=t.getDatastreamIdOverride()||d;return a!==d&&t.getPayload().mergeMeta({sdkConfig:{datastream:{original:d}}}),`https://${e}/${o}/${Za}/${t.getAction()}?configId=${a}&requestId=${t.getId()}${s()}`};return({request:e,runOnResponseCallbacks:r=Wt,runOnRequestFailureCallbacks:s=Wt})=>{const l=be();l.add(t.onResponse),l.add(r);const d=be();return d.add(t.onRequestFailure),d.add(s),t.onBeforeRequest({request:e,onResponse:l.add,onRequestFailure:d.add}).then((()=>{const t=u||!e.getUseIdThirdPartyDomain()?c:Pa,a=p(t,e),i=e.getPayload();return n.cookiesToPayload(i,t),o({requestId:e.getId(),url:a,payload:i,useSendBeacon:e.getUseSendBeacon()})})).then((e=>(i(e),e))).catch((t=>{if(ii(t,e)){u=!0,e.setUseIdThirdPartyDomain(!1);const t=p(c,e),a=e.getPayload();return n.cookiesToPayload(a,c),o({requestId:e.getId(),url:t,payload:a,useSendBeacon:e.getUseSendBeacon()})}return ai(d)(t)})).then((({parsedBody:e,getHeader:t})=>{const o=a({content:e,getHeader:t});return n.responseToCookies(o),l.call({response:o}).then(oi)}))}};const si=204,ci="The server responded with a";var li=({logger:e})=>t=>{const{statusCode:n,body:o,parsedBody:a}=t;if(n<200||n>=300||!a&&n!==si||a&&!Array.isArray(a.handle)){const e=a?JSON.stringify(a,null,2):o;throw new Error(`${ci} status code ${n} and ${e?`response body:\n${e}`:"no response body."}`)}if(a){const{warnings:t=[],errors:n=[]}=a;t.forEach((t=>{e.warn(`${ci} warning:`,t)})),n.forEach((t=>{e.error(`${ci} non-fatal error:`,t)}))}},di=({orgId:e,cookieJar:t})=>{const n=kt(e,Nt),o=()=>t.get(n),a=()=>{const e=t.get(Ka);if(e)return`t${e}`};return()=>o()||a()};const ui=3,pi=[429,503,502,504];var mi=({response:e,retriesAttempted:t})=>t<ui&&pi.includes(e.statusCode);const gi=1e3,fi=1e3,bi=.3,hi=e=>{const t=gi+e*fi,n=t*bi,o=t-n,a=t+n;return Math.round(o+Math.random()*(a-o))},vi=e=>{const t=e.getHeader(ca);let n;if(t){const e=parseInt(t,10);n=$t(e)?1e3*e:Math.max(0,new Date(t).getTime()-(new Date).getTime())}return n};var yi=({response:e,retriesAttempted:t})=>{let n=vi(e);return void 0===n&&(n=hi(t)),n};const _i=200;var ki=({cookieTransfer:e,lifecycle:t,createResponse:n,processWarningsAndErrors:o})=>({request:a,responseHeaders:i,responseBody:r,runOnResponseCallbacks:s=Wt,runOnRequestFailureCallbacks:c=Wt})=>{const l=be();l.add(t.onResponse),l.add(s);const d=be();d.add(t.onRequestFailure),d.add(c);const u=e=>i[e];return t.onBeforeRequest({request:a,onResponse:l.add,onRequestFailure:d.add}).then((()=>o({statusCode:_i,getHeader:u,body:JSON.stringify(r),parsedBody:r}))).catch(ai(d)).then((()=>{const t=n({content:r,getHeader:u});return e.responseToCookies(t),l.call({response:t}).then(oi)}))},Ci=e=>{let t=window.__alloyMonitors||[];return e&&(t=t.concat(e)),t},wi=e=>t=>{const n={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};ge(t,{web:n})};const Pi=e=>{const{screen:{orientation:t}}=e;if(null==t||null==t.type)return null;const n=t.type.split("-");return 0===n.length||"portrait"!==n[0]&&"landscape"!==n[0]?null:n[0]},Ei=e=>{if(De(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null};var ji=e=>t=>{const{screen:{width:n,height:o}}=e,a={},i=rn(o);i>=0&&(a.screenHeight=i);const r=rn(n);r>=0&&(a.screenWidth=r);const s=Pi(e)||Ei(e);s&&(a.screenOrientation=s),Object.keys(a).length>0&&ge(t,{device:a})},xi=e=>t=>{const{document:{documentElement:{clientWidth:n,clientHeight:o}={}}}=e,a={type:"browser"},i=rn(n);i>=0&&(a.browserDetails={viewportWidth:i});const r=rn(o);r>=0&&(a.browserDetails=a.browserDetails||{},a.browserDetails.viewportHeight=r),ge(t,{environment:a})},Ai=e=>t=>{const n=e(),o={},a=rn(n.getTimezoneOffset());void 0!==a&&(o.localTimezoneOffset=a),(void 0===a||Math.abs(a)<6e3)&&(o.localTime=cn(n)),ge(t,{placeContext:o})},qi=e=>t=>{const n=e().toISOString();ge(t,{timestamp:n})},Si="https://ns.adobe.com/experience/alloy",Ii="2.30.0",Oi=e=>{ge(e,{implementationDetails:{name:Si,version:Ii,environment:"browser"}})},Ti=(e,t,n,o)=>{const a=e.context.flatMap(((e,o)=>n[e]?[n[e]]:(t.warn(`Invalid context[${o}]: '${e}' is not available.`),[]))).concat(o);return{namespace:"Context",lifecycle:{onBeforeEvent({event:e}){const n={};return Promise.all(a.map((e=>Promise.resolve(e(n,t))))).then((()=>e.mergeXdm(n)))}}}},Di=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]];const Ni=e=>"userAgentData"in e;var Ri=e=>Ni(e)?(t,n)=>{try{return e.userAgentData.getHighEntropyValues(Di.map((e=>e[0]))).then((e=>{const n={};Di.forEach((([t,o])=>{Object.prototype.hasOwnProperty.call(e,t)&&typeof e[t]===o&&(n[t]=e[t])})),ge(t,{environment:{browserDetails:{userAgentClientHints:n}}})}))}catch(e){return n.warn(`Unable to collect user-agent client hints. ${e.message}`),Wt}}:Wt;const Li=wi(window),Mi=ji(window),Fi=xi(window),Vi=Ai((()=>new Date)),Bi=qi((()=>new Date)),Ui={web:Li,device:Mi,environment:Fi,placeContext:Vi},zi={highEntropyUserAgentHints:Ri(navigator)},$i={...Ui,...zi},Gi=[Bi,Oi],Hi=({config:e,logger:t})=>Ti(e,t,$i,Gi);Hi.namespace="Context",Hi.configValidators=Eo({context:yo(jo()).default(Object.keys(Ui))});var Qi=({options:e})=>Eo({type:jo(),xdm:Eo({eventType:jo(),identityMap:Ao}),data:Eo({}),documentUnloading:_o(),renderDecisions:_o(),decisionScopes:yo(jo()).uniqueItems(),personalization:Eo({decisionScopes:yo(jo()).uniqueItems(),surfaces:yo(jo()).uniqueItems(),sendDisplayEvent:_o().default(!0),includeRenderedPropositions:_o().default(!1),defaultPersonalizationEnabled:_o(),decisionContext:Eo({})}).default({sendDisplayEvent:!0}),datasetId:jo(),mergeId:jo(),edgeConfigOverrides:qo,advertising:Eo({handleAdvertisingData:xo(Ko,Jo,Xo).default(Ko)})}).required().noUnknownFields()(e),Wi=({options:e})=>Eo({renderDecisions:_o(),responseHeaders:Po(jo().required()),responseBody:Eo({handle:yo(Eo({type:jo().required(),payload:vo().required()})).required()}).required(),personalization:Eo({sendDisplayEvent:_o().default(!0),decisionContext:Eo({})}).default({sendDisplayEvent:!0})}).noUnknownFields()(e);const Ki=({eventManager:e,logger:t})=>({commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:e=>Qi({options:e}),run:n=>{const{xdm:o,data:a,documentUnloading:i,type:r,mergeId:s,datasetId:c,edgeConfigOverrides:l,...d}=n,u=e.createEvent();return i&&u.documentMayUnload(),u.setUserXdm(o),u.setUserData(a),r&&u.mergeXdm({eventType:r}),s&&u.mergeXdm({eventMergeId:s}),l&&(d.edgeConfigOverrides=l),c&&(t.warn("The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."),d.edgeConfigOverrides=l||{},ge(d.edgeConfigOverrides,{com_adobe_experience_platform:{datasets:{event:{datasetId:c}}}})),e.sendEvent(u,d)}},applyResponse:{documentationUri:"",optionsValidator:e=>Wi({options:e}),run:t=>{const{renderDecisions:n=!1,decisionContext:o={},responseHeaders:a={},responseBody:i={handle:[]},personalization:r}=t,s=e.createEvent();return e.applyResponse(s,{renderDecisions:n,decisionContext:o,responseHeaders:a,responseBody:i,personalization:r})}}}});Ki.namespace="DataCollector";const Ji=(e,t)=>`ID sync ${t?"succeeded":"failed"}: ${e.spec.url}`;var Xi=({fireReferrerHideableImage:e,logger:t})=>n=>{const o=n.filter((e=>"url"===e.type));return o.length?Promise.all(o.map((n=>e(n.spec).then((()=>{t.info(Ji(n,!0))})).catch((()=>{t.error(Ji(n,!1))}))))).then(Wt):Promise.resolve()};const Yi=Eo({thirdPartyCookiesEnabled:_o().default(!0),idMigrationEnabled:_o().default(!0)});var Zi=Eo({url:jo().required().nonEmpty(),edgeConfigOverrides:qo}).required().noUnknownFields(),er="ECID",tr=({addEcidQueryToPayload:e,addQueryStringIdentityToPayload:t,ensureSingleIdentity:n,setLegacyEcid:o,handleResponseForIdSyncs:a,getNamespacesFromResponse:i,getIdentity:r,consent:s,appendIdentityToUrl:c,logger:l,identity:d,getIdentityOptionsValidator:u})=>{let p,m={};return{lifecycle:{onBeforeRequest:({request:o,onResponse:a,onRequestFailure:i})=>(e(o.getPayload()),t(o.getPayload()),n({request:o,onResponse:a,onRequestFailure:i})),onResponse({response:e}){const t=i(e);return p&&p[er]||!t||!t[er]||o(t[er]),t&&Object.keys(t).length>0&&(p={...p,...t}),m={...m,...e.getEdge()},d.setIdentityAcquired(),a(e)}},commands:{getIdentity:{optionsValidator:u,run:e=>{const{namespaces:t}=e;return s.awaitConsent().then((()=>{if(p)return;const n=d.getEcidFromCookie();return n&&t.includes(er)&&(p||(p={}),p[er]=n,1===t.length)?void 0:r(e)})).then((()=>({identity:t.reduce(((e,t)=>(e[t]=p[t]||null,e)),{}),edge:m})))}},appendIdentityToUrl:{optionsValidator:Zi,run:e=>s.withConsent().then((()=>{if(p)return;const t=d.getEcidFromCookie();return t?(p||(p={}),void(p[er]=t)):r(e)})).then((()=>({url:c(p[er],e.url)}))).catch((t=>(l.warn(`Unable to append identity to url. ${t.message}`),e)))}}}},nr=({config:e,getEcidFromVisitor:t,apexDomain:n,isPageSsl:o,cookieJar:a})=>{const{idMigrationEnabled:i,orgId:r}=e,s=`AMCV_${r}`,c=()=>{let e=null;const t="s_ecid",n=a.get(t)||a.get(s);if(n){const t=/(^|\|)MCMID\|(\d+)($|\|)/,o=n.match(t);o&&(e=o[2])}return e};return{getEcid(){if(i){const e=c();return e?Promise.resolve(e):t()}return Promise.resolve()},setEcid(e){if(i&&c()!==e){const t=o?{sameSite:"none",secure:!0}:{};a.set(s,`MCMID|${e}`,{domain:n,expires:390,...t})}}}},or=({logger:e})=>new Promise(((t,n)=>{if(ce(window.adobe)&&ce(window.adobe.optIn)){const o=window.adobe.optIn;e.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),o.fetchPermissions((()=>{o.isApproved([o.Categories.ECID])?(e.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),t()):n(new Error("Legacy opt-in was declined."))}),!0)}else t()})),ar=e=>{const t=e.Visitor;return De(t)&&De(t.getInstance)&&t},ir=({logger:e,orgId:t,awaitVisitorOptIn:n})=>()=>{const o=ar(window);return o?n({logger:e}).then((()=>(e.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((n=>{o.getInstance(t,{}).getMarketingCloudVisitorID((t=>{e.info("Resuming previously delayed request that was waiting for ECID from Visitor."),n(t)}),!0)}))))).catch((t=>{t?e.info(`${t.message}, retrieving ECID from experience edge`):e.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()},rr=({processIdSyncs:e})=>t=>e(t.getPayloadsByType("identity:exchange")),sr=({doesIdentityCookieExist:e,setDomainForInitialIdentityPayload:t,addLegacyEcidToPayload:n,awaitIdentityCookie:o,logger:a})=>{let i;const r=e=>(t(e),n(e.getPayload()));return({request:t,onResponse:n,onRequestFailure:s})=>{if(e())return t.setIsIdentityEstablished(),Promise.resolve();if(i){a.info("Delaying request while retrieving ECID from server.");const e=i;return i=e.catch((()=>o({onResponse:n,onRequestFailure:s}))),i.catch((()=>{})),e.then((()=>{a.info("Resuming previously delayed request."),t.setIsIdentityEstablished()})).catch((()=>r(t)))}return i=o({onResponse:n,onRequestFailure:s}),i.catch((()=>{})),r(t)}},cr="CORE",lr=({thirdPartyCookiesEnabled:e,areThirdPartyCookiesSupportedByDefault:t})=>{const n={identity:{fetch:[er]}};return e&&t()&&n.identity.fetch.push(cr),e=>{e.mergeQuery(n)}},dr=({thirdPartyCookiesEnabled:e,areThirdPartyCookiesSupportedByDefault:t})=>n=>{e&&t()&&n.setUseIdThirdPartyDomain()},ur=({getLegacyEcid:e,addEcidToPayload:t})=>n=>n.hasIdentity(er)?Promise.resolve():e().then((e=>{e&&t(n,e)})),pr="adobe_mc",mr=e=>{try{return decodeURIComponent(e)}catch{return""}};const gr=300;var fr=({locationSearch:e,dateProvider:t,orgId:n,logger:o})=>a=>{if(a.hasIdentity(er))return;let i=re.default.parse(e)[pr];if(void 0===i)return;Array.isArray(i)&&(o.warn("Found multiple adobe_mc query string paramters, only using the last one."),i=i[i.length-1]);const r=i.split("|").reduce(((e,t)=>{const[n,o]=t.split("=");return e[n]=mr(o),e[n]=e[n].replace(/[^a-zA-Z0-9@.]/g,""),e}),{}),s=parseInt(r.TS,10),c=r.MCMID,l=mr(r.MCORGID);t().getTime()/1e3<=s+gr&&l===n&&c?(o.info(`Found valid ECID identity ${c} from the adobe_mc query string parameter.`),a.addIdentity(er,{id:c})):o.info("Detected invalid or expired adobe_mc query string parameter.")},br=(e,t)=>{e.addIdentity(er,{id:t})},hr=({doesIdentityCookieExist:e,orgId:t,logger:n})=>({onResponse:o,onRequestFailure:a})=>new Promise(((i,r)=>{o((()=>{e()?i():(n.warn(`Identity cookie not found. This could be caused by any of the following issues:\n\t* The org ID ${t} configured in Alloy doesn't match the org ID specified in the edge configuration.\n\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed.`),r(new Error("Identity cookie not found.")))})),a((()=>{e()?i():r(new Error("Identity cookie not found."))}))})),vr=e=>e.getPayloadsByType("identity:result").reduce(((e,t)=>(t.namespace&&t.namespace.code&&(e[t.namespace.code]=t.id),e)),{}),yr=({sendEdgeNetworkRequest:e,createIdentityRequestPayload:t,createIdentityRequest:n,globalConfigOverrides:o})=>({namespaces:a,edgeConfigOverrides:i}={})=>{const r=Fa({payload:t(a),globalConfigOverrides:o,localConfigOverrides:i}),s=n(r);return e({request:s})},_r=({payload:e,datastreamIdOverride:t})=>Ta({payload:e,datastreamIdOverride:t,getAction:()=>"identity/acquire",getUseSendBeacon:()=>!1}),kr=e=>{const t={query:{identity:{fetch:e}}};return Ra({content:t,addIdentity:Oa(t),hasIdentity:La(t)})};const Cr=/^([^?#]*)(\??[^#]*)(#?.*)$/,wr=e=>""===e?"?":"?"===e?"":"&";var Pr=({dateProvider:e,orgId:t})=>(n,o)=>{const a=Math.round(e().getTime()/1e3),i=encodeURIComponent(`TS=${a}|MCMID=${n}|MCORGID=${encodeURIComponent(t)}`),[,r,s,c]=o.match(Cr);return`${r}${s}${wr(s)}adobe_mc=${i}${c}`};const Er=Eo({namespaces:yo(xo(er,cr)).nonEmpty().uniqueItems().default([er]),edgeConfigOverrides:qo}).noUnknownFields().default({namespaces:[er]});var jr=({thirdPartyCookiesEnabled:e})=>t=>{const n=Er(t);if(!e&&n.namespaces.includes(cr))throw new Error(`namespaces: The ${cr} namespace cannot be requested when third-party cookies are disabled.`);return n};const xr=({config:e,logger:t,consent:n,fireReferrerHideableImage:o,sendEdgeNetworkRequest:a,apexDomain:i,getBrowser:r,identity:s})=>{const{orgId:c,thirdPartyCookiesEnabled:l,edgeConfigOverrides:d}=e,u=ir({logger:t,orgId:c,awaitVisitorOptIn:or}),p=he({logger:t,cookieJar:pe}),m=nr({config:e,getEcidFromVisitor:u,apexDomain:i,cookieJar:p,isPageSsl:"https:"===window.location.protocol}),g=Rt({orgId:c}),f=yr({sendEdgeNetworkRequest:a,createIdentityRequestPayload:kr,createIdentityRequest:_r,globalConfigOverrides:d}),b=Ot({getBrowser:r}),h=dr({thirdPartyCookiesEnabled:l,areThirdPartyCookiesSupportedByDefault:b}),v=ur({getLegacyEcid:m.getEcid,addEcidToPayload:br}),y=fr({locationSearch:window.document.location.search,dateProvider:()=>new Date,orgId:c,logger:t}),_=hr({doesIdentityCookieExist:g,orgId:c,logger:t}),k=sr({doesIdentityCookieExist:g,setDomainForInitialIdentityPayload:h,addLegacyEcidToPayload:v,awaitIdentityCookie:_,logger:t}),C=Xi({fireReferrerHideableImage:o,logger:t}),w=rr({processIdSyncs:C}),P=Pr({dateProvider:()=>new Date,orgId:c}),E=jr({thirdPartyCookiesEnabled:l}),j=lr({thirdPartyCookiesEnabled:l,areThirdPartyCookiesSupportedByDefault:b});return tr({addEcidQueryToPayload:j,addQueryStringIdentityToPayload:y,ensureSingleIdentity:k,setLegacyEcid:m.setEcid,handleResponseForIdSyncs:w,getNamespacesFromResponse:vr,getIdentity:f,consent:n,identity:s,appendIdentityToUrl:P,logger:t,getIdentityOptionsValidator:E})};xr.namespace="Identity",xr.configValidators=Yi;const Ar=({config:e,componentRegistry:t})=>{const n=[...t.getCommandNames(),ua,pa].sort(),o={...e};Object.keys(e).forEach((t=>{const n=e[t];"function"==typeof n&&(o[t]=n.toString())}));const a=t.getComponentNames();return{version:Ii,configs:o,commands:n,components:a}},qr=({config:e,componentRegistry:t})=>({commands:{getLibraryInfo:{run:()=>({libraryInfo:Ar({config:e,componentRegistry:t})})}}});qr.namespace="LibraryInfo";var Sr=Object.freeze({__proto__:null,context:Hi,dataCollector:Ki,identity:xr,libraryInfo:qr});const Ir=Vt(window),{fetch:Or,navigator:Tr}=window,Dr=ja(),Nr=vt(window,pe),Rr=Aa({fetch:Or}),Lr=dt(),Mr=$a({window:window,createNamespacedStorage:Ir}),Fr=Mt({userAgent:window.navigator.userAgent}),Vr=({instanceName:e,logController:{setDebugEnabled:t,logger:n,createComponentLogger:o},components:a})=>{const i=Lo(),r=No(i),s=a.concat(Object.values(Sr)),c=e=>{t(e.enabled,{fromConfig:!1})},l=he({logger:n,cookieJar:pe}),d=a=>{const c=_a({options:a,componentCreators:s,coreConfigValidators:Dr,createConfig:Ca,logger:n,setDebugEnabled:t}),{orgId:d,targetMigrationEnabled:u}=c,p=Ya({orgId:d,targetMigrationEnabled:u}),m=Wa({cookieJar:l,shouldTransferCookie:p,apexDomain:Nr,dateProvider:()=>new Date}),g=De(Tr.sendBeacon)?qa({sendBeacon:Tr.sendBeacon.bind(Tr),sendFetchRequest:Rr,logger:n}):Rr,f=Mo({logger:n,sendFetchRequest:Rr,sendBeaconRequest:g,isRequestRetryable:mi,getRequestRetryDelay:yi}),b=li({logger:n}),h=Fo({logger:n}),v=da({extractEdgeInfo:h}),y=di({orgId:d,cookieJar:pe}),_=ri({config:c,lifecycle:r,cookieTransfer:m,sendNetworkRequest:f,createResponse:v,processWarningsAndErrors:b,getLocationHint:y,getAssuranceValidationTokenParams:Mr}),k=ki({lifecycle:r,cookieTransfer:m,createResponse:v,processWarningsAndErrors:b}),C=aa({logger:n}),w=ia({generalConsentState:C,logger:n}),P=Go({config:c,logger:n,loggingCookieJar:l});P.initialize();const E=Ha({config:c,logger:n,lifecycle:r,consent:w,createEvent:sa,createDataCollectionRequestPayload:Ma,createDataCollectionRequest:Da,sendEdgeNetworkRequest:_,applyResponse:k});return ka({componentCreators:s,lifecycle:r,componentRegistry:i,getImmediatelyAvailableTools(t){const n=o(t);return{config:c,componentRegistry:i,consent:w,identity:P,eventManager:E,fireReferrerHideableImage:Lr,logger:n,lifecycle:r,sendEdgeNetworkRequest:_,handleError:xa({errorPrefix:`[${e}] [${t}]`,logger:n}),createNamespacedStorage:Ir,apexDomain:Nr,getBrowser:Fr}}})},u=xa({errorPrefix:`[${e}]`,logger:n});return ma({logger:n,configureCommand:d,setDebugCommand:c,handleError:u,validateCommandOptions:fa})},Br=({eventManager:e,lifecycle:t,handleError:n})=>o=>{if(o.s_fe)return Promise.resolve();const a="composedPath"in o&&o.composedPath().length>0?o.composedPath()[0]:o.target,i=e.createEvent();return i.documentMayUnload(),t.onClick({event:i,clickedElement:a}).then((()=>i.isEmpty()?Promise.resolve():e.sendEvent(i))).then(Wt).catch((e=>{n(e,"click collection")}))};var Ur=({eventManager:e,lifecycle:t,handleError:n})=>{const o=Br({eventManager:e,lifecycle:t,handleError:n});document.addEventListener("click",o,!0)};const zr="\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$",$r=jo().regexp().default(zr),Gr=Eo({clickCollectionEnabled:_o().default(!0),clickCollection:Eo({internalLinkEnabled:_o().default(!0),externalLinkEnabled:_o().default(!0),downloadLinkEnabled:_o().default(!0),sessionStorageEnabled:_o().default(!1),eventGroupingEnabled:_o().default(!1),filterClickProperties:ko()}).default({internalLinkEnabled:!0,externalLinkEnabled:!0,downloadLinkEnabled:!0,sessionStorageEnabled:!1,eventGroupingEnabled:!1}),downloadLinkQualifier:$r,onBeforeLinkClickSend:ko().deprecated('The field "onBeforeLinkClickSend" has been deprecated. Use "clickCollection.filterClickDetails" instead.')}),Hr="cppXYctnr";var Qr=(e=document)=>null!==e.getElementById(Hr),Wr=e=>{let t=e;return/^https?:\/\//i.test(t)||(t=`${window.location.protocol}//${e}`),new URL(t).hostname},Kr=(e,t)=>Wr(e)!==Wr(t);const Jr=(e,t)=>t&&("download"===t&&!e.downloadLinkEnabled||"exit"===t&&!e.externalLinkEnabled||"other"===t&&!e.internalLinkEnabled);var Xr=({config:e,logger:t,getClickedElementProperties:n,clickActivityStorage:o})=>{const{clickCollectionEnabled:a,clickCollection:i}=e;return a?({event:a,clickedElement:r})=>{const s=n({clickActivityStorage:o,clickedElement:r,config:e,logger:t}),c=s.linkType;Qr()||(s.isValidLink()&&Jr(i,c)?t.info(`Cancelling link click event due to clickCollection.${c}LinkEnabled = false.`):!s.isInternalLink()||!i.eventGroupingEnabled||e.onBeforeLinkClickSend&&!i.filterClickDetails||Kr(window.location.hostname,s.linkUrl)?s.isValidLink()?(a.mergeXdm(s.xdm),a.mergeData(s.data),o.save({pageName:s.pageName,pageIDType:s.pageIDType})):s.isValidActivityMapData()&&o.save(s.properties):o.save(s.properties))}:()=>{}};const Yr=e=>({eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:e.linkName,region:e.linkRegion,type:e.linkType,URL:e.linkUrl,linkClicks:{value:1}}}}),Zr=e=>({__adobe:{analytics:{contextData:{a:{activitymap:{page:e.pageName,link:e.linkName,region:e.linkRegion,pageIDType:e.pageIDType}}}}}}),es=(e,t)=>{const{xdm:n,data:o,clickedElement:a}=e;if(t.clickedElement=a,n&&n.web&&n.web.webInteraction){const{name:e,region:o,type:a,URL:i}=n.web.webInteraction;t.linkName=e,t.linkRegion=o,t.linkType=a,t.linkUrl=i}if(o&&o.__adobe&&o.__adobe.analytics){const{contextData:e}=o.__adobe.analytics;if(e&&e.a&&e.a.activitymap){const{page:n,link:o,region:a,pageIDType:i}=e.a.activitymap;t.pageName=n||t.pageName,t.linkName=o||t.linkName,t.linkRegion=a||t.linkRegion,void 0!==i&&(t.pageIDType=i)}}};var ts=({properties:e,logger:t}={})=>{let n=e||{};return{get pageName(){return n.pageName},set pageName(e){n.pageName=e},get linkName(){return n.linkName},set linkName(e){n.linkName=e},get linkRegion(){return n.linkRegion},set linkRegion(e){n.linkRegion=e},get linkType(){return n.linkType},set linkType(e){n.linkType=e},get linkUrl(){return n.linkUrl},set linkUrl(e){n.linkUrl=e},get pageIDType(){return n.pageIDType},set pageIDType(e){n.pageIDType=e},get clickedElement(){return n.clickedElement},set clickedElement(e){n.clickedElement=e},get properties(){return{pageName:n.pageName,linkName:n.linkName,linkRegion:n.linkRegion,linkType:n.linkType,linkUrl:n.linkUrl,pageIDType:n.pageIDType}},isValidLink:()=>!!(n.linkUrl&&n.linkType&&n.linkName&&n.linkRegion),isInternalLink(){return this.isValidLink()&&"other"===n.linkType},isValidActivityMapData:()=>!!n.pageName&&!!n.linkName&&!!n.linkRegion&&void 0!==n.pageIDType,get xdm(){return n.filteredXdm?n.filteredXdm:Yr(this)},get data(){return n.filteredData?n.filteredData:Zr(this)},applyPropertyFilter(e){e&&!1===e(n)&&(t&&t.info(`Clicked element properties were rejected by filter function: ${JSON.stringify(this.properties,null,2)}`),n={})},applyOptionsFilter(e){const o=this.options;if(o&&o.clickedElement&&(o.xdm||o.data)){if(e&&!1===e(o))return t&&t.info(`Clicked element properties were rejected by filter function: ${JSON.stringify(this.properties,null,2)}`),void(this.options=void 0);this.options=o,n.filteredXdm=o.xdm,n.filteredData=o.data}},get options(){const e={};if(this.isValidLink()&&(e.xdm=this.xdm),this.isValidActivityMapData()&&(e.data=this.data),this.clickedElement&&(e.clickedElement=this.clickedElement),e.xdm||e.data)return e},set options(e){n={},e&&es(e,n)}}},ns=({clickActivityStorage:e})=>t=>{if(Qr())return;const n=e.load(),o=ts({properties:n});if(o.isValidLink()||o.isValidActivityMapData()){if(o.isValidLink()){const e=o.xdm;delete e.eventType,t.mergeXdm(e)}o.isValidActivityMapData()&&t.mergeData(o.data),e.save({pageName:o.pageName,pageIDType:o.pageIDType})}},os=({window:e,getLinkName:t,getLinkRegion:n,getAbsoluteUrlFromAnchorElement:o,findClickableElement:a,determineLinkType:i})=>({clickedElement:r,config:s,logger:c,clickActivityStorage:l})=>{const{onBeforeLinkClickSend:d,clickCollection:u}=s,{filterClickDetails:p}=u,m=ts({logger:c});if(r){const c=a(r);if(c){m.clickedElement=r,m.linkUrl=o(e,c),m.linkType=i(e,s,m.linkUrl,c),m.linkRegion=n(c),m.linkName=t(c),m.pageIDType=0,m.pageName=e.location.href;const a=l.load();a&&a.pageName&&(m.pageName=a.pageName,m.pageIDType=1),p?m.applyPropertyFilter(p):d&&m.applyOptionsFilter(d)}}return m};const as="clickData";var is=({storage:e})=>({save:t=>{const n=JSON.stringify(t);e.setItem(as,n)},load:()=>{let t=null;const n=e.getItem(as);return n&&(t=JSON.parse(n)),t},remove:()=>{e.removeItem(as)}}),rs=({clickActivityStorage:e})=>t=>{e.save({pageName:t.getContent().xdm.web.webPageDetails.name,pageIDType:1})},ss=(e,t)=>{const{clickCollectionEnabled:n,onBeforeLinkClickSend:o,downloadLinkQualifier:a}=e;!1===n&&(o&&t.warn("The 'onBeforeLinkClickSend' configuration was provided but will be ignored because clickCollectionEnabled is false."),a&&a!==zr&&t.warn("The 'downloadLinkQualifier' configuration was provided but will be ignored because clickCollectionEnabled is false."))},cs=e=>e&&e.replace(/\s+/g," ").trim();const ls=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i;var ds=e=>!(e&&e.nodeName&&e.nodeName.match(ls));const us=e=>{let t=[],n=!1;return ds(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((e=>{const o=us(e);t=t.concat(o.supportedNodes),n=n||o.includesUnsupportedNodes}))):n=!0,{supportedNodes:t,includesUnsupportedNodes:n}},ps=(e,t,n)=>{let o;return n&&n!==e.nodeName.toUpperCase()||(o=e.getAttribute(t)),o},ms=e=>{const t={texts:[]};return e.supportedNodes.forEach((e=>{e.getAttribute&&(t.alt||(t.alt=cs(e.getAttribute("alt"))),t.title||(t.title=cs(e.getAttribute("title"))),t.inputValue||(t.inputValue=cs(ps(e,"value","INPUT"))),t.imgSrc||(t.imgSrc=cs(ps(e,"src","IMG")))),e.nodeValue&&t.texts.push(e.nodeValue)})),t},gs=/^(HEADER|MAIN|FOOTER|NAV)$/i,fs=e=>{let t;return"region"===e.role&&Qt(e["aria-label"])&&(t=e["aria-label"]),t},bs=e=>{let t;return e&&e.nodeName&&e.nodeName.match(gs)&&(t=e.nodeName),t};var hs=(e,t)=>{const n=e.location.href;let o=t.href||"";"string"!=typeof o&&(o="");try{return new URL(o,n).href}catch{return n}},vs=e=>!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0)),ys=e=>!!e&&!!e.onclick,_s=e=>{if("INPUT"===e.tagName){const t=e.getAttribute("type");if("submit"===t)return!0;if("image"===t&&e.src)return!0}return!1},ks=e=>"BUTTON"===e.tagName&&"submit"===e.type,Cs=e=>{const t=e.indexOf("?"),n=e.indexOf("#");return t>=0&&(t<n||n<0)?e.substring(0,t):n>=0?e.substring(0,n):e},ws=(e,t,n)=>{let o=!1;if(t)if(n&&n.download)o=!0;else if(e){const n=new RegExp(e),a=Cs(t).toLowerCase();o=n.test(a)}return o},Ps=(e,t)=>{let n=!1;if(t&&e.location.hostname){const o=e.location.hostname.toLowerCase();n=Cs(t).toLowerCase().indexOf(o)<0}return n},Es=e=>{const t=e.getContent();return void 0!==t.xdm&&void 0!==t.xdm.web&&void 0!==t.xdm.web.webPageDetails&&void 0!==t.xdm.web.webPageDetails.name},js=()=>{const e={};return{getItem:t=>e[t],setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}};const xs=os({window:window,getLinkName:e=>{let t=cs(e.innerText||e.textContent);const n=us(e);if(!t||n.includesUnsupportedNodes){const e=ms(n);t=cs(e.texts.join("")),t||(t=e.alt||e.title||e.inputValue||e.imgSrc)}return t||""},getLinkRegion:e=>{let t,n=e.parentNode;for(;n;){if(t=cs(n.id||fs(n)||bs(n)),t)return t;n=n.parentNode}return"BODY"},getAbsoluteUrlFromAnchorElement:hs,findClickableElement:e=>{let t=e;for(;t&&(!t.nodeName||"BODY"!==t.nodeName);){if(vs(t)||ys(t)||_s(t)||ks(t))return t;t=t.parentNode}return null},determineLinkType:(e,t,n,o)=>{let a="other";return Qt(n)&&(ws(t.downloadLinkQualifier,n,o)?a="download":Ps(e,n)&&(a="exit")),a}});let As;const qs=e=>{if(!As){const t=Vt(window)(e.orgId||""),n=js(),o=e.clickCollection.sessionStorageEnabled?t.session:n;As=is({storage:o})}},Ss=({config:e,eventManager:t,handleError:n,logger:o})=>{ss(e,o);const a=e.clickCollection;As||qs(e);const i=Xr({config:e,logger:o,clickActivityStorage:As,getClickedElementProperties:xs}),r=ns({clickActivityStorage:As}),s=rs({clickActivityStorage:As});return{lifecycle:{onComponentsRegistered(e){const{lifecycle:o}=e;Ur({eventManager:t,lifecycle:o,handleError:n})},onClick({event:e,clickedElement:t}){i({event:e,clickedElement:t})},onBeforeEvent({event:e}){Es(e)&&(a.eventGroupingEnabled&&r(e),s(e,o,As))}}}};Ss.namespace="ActivityCollector",Ss.configValidators=Gr,Ss.buildOnInstanceConfiguredExtraParams=({config:e,logger:t})=>(As||qs(e),{getLinkDetails:n=>xs({clickActivityStorage:As,clickedElement:n,
config:e,logger:t}).properties});const Is=e=>`URL destination succeeded: ${e.spec.url}`;var Os=({fireReferrerHideableImage:e,logger:t,cookieJar:n,isPageSsl:o})=>{const a=o?{sameSite:"none",secure:!0}:{},i=e=>{e.filter((e=>"cookie"===e.type)).forEach((e=>{const{name:t,value:o,domain:i,ttlDays:r}=e.spec;n.set(t,o||"",{domain:i||"",expires:r||10,...a})}))},r=n=>{const o=n.filter((e=>"url"===e.type));return Promise.all(o.map((n=>e(n.spec).then((()=>{t.info(Is(n))})).catch((()=>{}))))).then(Wt)};return e=>(i(e),r(e))},Ts=({processDestinations:e})=>{const t=({response:t})=>{const n=t.getPayloadsByType("activation:push");return e(n)},n=({response:e})=>({destinations:e.getPayloadsByType("activation:pull")});return({response:e})=>t({response:e}).then((()=>n({response:e})))};const Ds=({logger:e,fireReferrerHideableImage:t})=>{const n=pe.withConverter({write:e=>encodeURIComponent(e)}),o=he({logger:e,cookieJar:n}),a=Os({fireReferrerHideableImage:t,logger:e,cookieJar:o,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:Ts({processDestinations:a})},commands:{}}};Ds.namespace="Audiences";var Ns=({storedConsent:e,taskQueue:t,defaultConsent:n,consent:o,sendSetConsentRequest:a,validateSetConsentOptions:i,consentHashStore:r,doesIdentityCookieExist:s})=>{const c={[Yo]:n};let l=e.read();const d=s(),u=void 0!==l[Yo];d&&u||r.clear(),d||(e.clear(),l={}),o.initializeConsent(c,l);const p=()=>{if(0===t.length){const t=e.read();void 0!==t[Yo]&&o.setConsent(t)}};return{commands:{setConsent:{optionsValidator:i,run:({consent:e,identityMap:n,edgeConfigOverrides:i})=>{o.suspend();const s=r.lookup(e);return t.addTask((()=>s.isNew()?a({consentOptions:e,identityMap:n,edgeConfigOverrides:i}):Promise.resolve())).then((()=>s.save())).finally(p)}}},lifecycle:{onResponse:p,onRequestFailure:p}}},Rs=e=>gt(JSON.stringify(en(e)));const Ls=({standard:e,version:t})=>`${e}.${t}`;var Ms=({storage:e})=>({clear(){e.clear()},lookup(t){const n={},o=e=>{const t=Ls(e),{standard:o,version:a,...i}=e;return n[t]||(n[t]=Rs(i).toString()),n[t]};return{isNew:()=>t.some((t=>{const n=Ls(t),a=e.getItem(n);return null===a||a!==o(t)})),save(){t.forEach((t=>{const n=Ls(t);e.setItem(n,o(t))}))}}}}),Fs=()=>{const e={};return{...Ra({content:e,addIdentity:(t,n)=>{e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(n)},hasIdentity:t=>void 0!==(e.identityMap&&e.identityMap[t])}),setConsent:t=>{e.consent=t}}},Vs=({payload:e,datastreamIdOverride:t})=>Ta({payload:e,datastreamIdOverride:t,getAction:()=>"privacy/set-consent",getUseSendBeacon:()=>!1}),Bs=({parseConsentCookie:e,orgId:t,cookieJar:n})=>{const o=kt(t,Dt);return{read(){const t=n.get(o);return t?e(t):{}},clear(){n.remove(o)}}},Us=({createConsentRequestPayload:e,createConsentRequest:t,sendEdgeNetworkRequest:n,edgeConfigOverrides:o})=>({consentOptions:a,identityMap:i,edgeConfigOverrides:r})=>{const s=Fa({payload:e(),globalConfigOverrides:o,localConfigOverrides:r});s.payload.setConsent(a),ce(i)&&Object.keys(i).forEach((e=>{i[e].forEach((t=>{s.payload.addIdentity(e,t)}))}));const c=t(s);return n({request:c}).then((()=>{}))},zs=e=>e.split(";").reduce(((e,t)=>{const[n,o]=t.split("=");return e[n]=o,e}),{}),$s=Eo({consent:yo(vo()).required().nonEmpty(),identityMap:Ao,edgeConfigOverrides:qo}).noUnknownFields().required(),Gs=Eo({defaultConsent:xo(Ho,Qo,Wo).default(Ho)});const Hs=({config:e,consent:t,sendEdgeNetworkRequest:n,createNamespacedStorage:o})=>{const{orgId:a,defaultConsent:i}=e,r=Bs({parseConsentCookie:zs,orgId:a,cookieJar:pe}),s=ve(),c=Us({createConsentRequestPayload:Fs,createConsentRequest:Vs,sendEdgeNetworkRequest:n,edgeConfigOverrides:e.edgeConfigOverrides}),l=o(`${_t(a)}.consentHashes.`),d=Ms({storage:l.persistent}),u=Rt({orgId:a});return Ns({storedConsent:r,taskQueue:s,defaultConsent:i,consent:t,sendSetConsentRequest:c,validateSetConsentOptions:$s,consentHashStore:d,doesIdentityCookieExist:u})};Hs.namespace="Consent",Hs.configValidators=Gs;var Qs=()=>({eventMergeId:c()});t.createEventMergeId=Qs;var Ws=({createEventMergeId:e})=>({commands:{createEventMergeId:{run:e}}});const Ks=()=>Ws({createEventMergeId:Qs});Ks.namespace="EventMerge";var Js={PAUSE:"media.pauseStart",PLAY:"media.play",BUFFER_START:"media.bufferStart",AD_START:"media.adStart",Ad_BREAK_START:"media.adBreakStart",SESSION_END:"media.sessionEnd",SESSION_START:"media.sessionStart",SESSION_COMPLETE:"media.sessionComplete",PING:"media.ping",AD_BREAK_COMPLETE:"media.adBreakComplete",AD_COMPLETE:"media.adComplete",AD_SKIP:"media.adSkip",BITRATE_CHANGE:"media.bitrateChange",CHAPTER_COMPLETE:"media.chapterComplete",CHAPTER_SKIP:"media.chapterSkip",CHAPTER_START:"media.chapterStart",ERROR:"media.error",STATES_UPDATE:"media.statesUpdate"},Xs=({mediaRequestPayload:e,action:t})=>Ta({payload:e,edgeSubPath:"/va",getAction:()=>t,getUseSendBeacon:()=>!1}),Ys=({config:e,eventManager:t,consent:n,sendEdgeNetworkRequest:o,setTimestamp:a})=>({createMediaEvent({options:n}){const o=t.createEvent(),{xdm:i}=n;if(a(i),o.setUserXdm(i),i.eventType===Js.AD_START){const{advertisingDetails:t}=n.xdm.mediaCollection;o.mergeXdm({mediaCollection:{advertisingDetails:{playerName:t.playerName||e.streamingMedia.playerName}}})}return o},createMediaSession(n){const{playerName:o,channel:a,appVersion:i}=e.streamingMedia,r=t.createEvent(),{sessionDetails:s}=n.xdm.mediaCollection;return r.setUserXdm(n.xdm),r.mergeXdm({eventType:Js.SESSION_START,mediaCollection:{sessionDetails:{playerName:s.playerName||o,channel:s.channel||a,appVersion:s.appVersion||i}}}),r},augmentMediaEvent({event:e,playerId:t,getPlayerDetails:n,sessionID:o}){if(!t||!n)return e;const{playhead:a,qoeDataDetails:i}=n({playerId:t});return e.mergeXdm({mediaCollection:{playhead:rn(a),qoeDataDetails:i,sessionID:o}}),e},trackMediaSession({event:e,mediaOptions:n,edgeConfigOverrides:o}){const a={mediaOptions:n,edgeConfigOverrides:o};return t.sendEvent(e,a)},trackMediaEvent({event:e,action:t}){const a=Ma(),i=Xs({mediaRequestPayload:a,action:t});return a.addEvent(e),e.finalize(),n.awaitConsent().then((()=>o({request:i}).then((()=>({})))))}}),Zs={MAIN:"main",COMPLETED:"completed"},ec=()=>{let e;return{getSession:t=>e[t]||{},storeSession:({playerId:t,sessionDetails:n})=>{void 0===e&&(e={}),e[t]=n},stopPing:({playerId:t})=>{const n=e[t];n&&(clearTimeout(n.pingId),n.pingId=null,n.playbackState=Zs.COMPLETED)},savePing:({playerId:t,pingId:n,playbackState:o})=>{e[t]&&(e[t].pingId&&clearTimeout(e[t].pingId),e[t].pingId=n,e[t].playbackState=o)}}};const tc=(e,t)=>e===Js.AD_START||e===Js.Ad_BREAK_START||e===Js.AD_SKIP||e===Js.AD_COMPLETE?"ad":e===Js.AD_BREAK_COMPLETE||e===Js.CHAPTER_COMPLETE||e===Js.CHAPTER_START||e===Js.CHAPTER_SKIP||e===Js.SESSION_START?"main":e===Js.SESSION_END||e===Js.SESSION_COMPLETE?"completed":t;var nc=({mediaEventManager:e,mediaSessionCacheManager:t,config:n})=>{const o=a=>{const i=e.createMediaEvent({options:a}),{playerId:r,xdm:s}=a,{eventType:c}=s,l=c.split(".")[1],{getPlayerDetails:d,sessionPromise:u,playbackState:p}=t.getSession(r);return u.then((a=>a.sessionId?(e.augmentMediaEvent({event:i,eventType:c,playerId:r,getPlayerDetails:d,sessionID:a.sessionId}),e.trackMediaEvent({event:i,action:l}).then((()=>{if(r)if(c===Js.SESSION_COMPLETE||c===Js.SESSION_END)t.stopPing({playerId:r});else{const e=tc(c,p);if("completed"===e)return;const a="ad"===e?n.streamingMedia.adPingInterval:n.streamingMedia.mainPingInterval,i=setTimeout((()=>{const e={playerId:r,xdm:{eventType:Js.PING}};o(e)}),1e3*a);t.savePing({playerId:r,pingId:i,playbackState:e})}}))):Promise.reject(new Error(`Failed to trigger media event: ${c}. Session ID is not available for playerId: ${r}.`))))};return e=>o(e)},oc=({config:e,mediaEventManager:t,mediaSessionCacheManager:n,legacy:o=!1})=>a=>{if(!e.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));const{playerId:i,getPlayerDetails:r,edgeConfigOverrides:s}=a,c=t.createMediaSession(a);t.augmentMediaEvent({event:c,playerId:i,getPlayerDetails:r});const l=t.trackMediaSession({event:c,mediaOptions:{playerId:i,getPlayerDetails:r,legacy:o},edgeConfigOverrides:s});return n.storeSession({playerId:i,sessionDetails:{sessionPromise:l,getPlayerDetails:r,playbackState:Zs.MAIN}}),l},ac=e=>!Ht(e)||!e.trim(),ic=({mediaSessionCacheManager:e,config:t,trackMediaEvent:n})=>({response:o,playerId:a,getPlayerDetails:i})=>{const r=o.getPayloadsByType("media-analytics:new-session");if(Ne(r)){const{sessionId:o}=r[0];if(ac(o))return{};if(!a||!i)return{sessionId:o};const s=setTimeout((()=>{n({playerId:a,xdm:{eventType:Js.PING}})}),1e3*t.streamingMedia.mainPingInterval);return e.savePing({playerId:a,pingId:s,playbackState:Zs.MAIN}),{sessionId:o}}return{}};const rc={Video:"video",Audio:"audio"},sc={VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"},cc={FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"},lc={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"},dc={SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pauseStart",Error:"error",StateUpdate:"statesUpdate"},uc={MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"},pc={Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"},mc={Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"},gc={Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"};var fc=({trackMediaEvent:e,trackMediaSession:t,mediaResponseHandler:n,logger:o,createMediaHelper:a,createGetInstance:i,config:r})=>({lifecycle:{onBeforeEvent({mediaOptions:e,onResponse:t=Wt}){if(!e)return;const{legacy:o,playerId:a,getPlayerDetails:i}=e;o&&t((({response:e})=>n({playerId:a,getPlayerDetails:i,response:e})))}},commands:{getMediaAnalyticsTracker:{run:()=>{if(!r.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));o.info("Streaming media is configured in legacy mode.");const n=a({logger:o});return Promise.resolve({getInstance:()=>i({logger:o,trackMediaEvent:e,trackMediaSession:t,uuid:c}),Event:lc,MediaType:rc,PlayerState:cc,StreamType:sc,MediaObjectKey:uc,VideoMetadataKeys:pc,AudioMetadataKeys:mc,AdMetadataKeys:gc,...n})}}}}),bc=({logger:e})=>{const t=(t,n,o)=>{const a={friendlyName:t,offset:n,index:o},i=Eo({friendlyName:jo().nonEmpty(),offset:wo(),index:wo()});try{const e=i(a);return{advertisingPodDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index}}}catch(t){return e.warn("An error occurred while creating the Ad Break Object.",t),{}}},n=(t,n,o,a)=>{const i={friendlyName:t,name:n,podPosition:o,length:a},r=Eo({friendlyName:jo().nonEmpty(),name:jo().nonEmpty(),podPosition:wo(),length:wo()});try{const e=r(i);return{advertisingDetails:{friendlyName:e.friendlyName,name:e.name,podPosition:e.podPosition,length:e.length}}}catch(t){return e.warn("An error occurred while creating the Advertising Object.",t),{}}},o=(t,n,o,a)=>{const i={friendlyName:t,offset:n,length:o,index:a},r=Eo({friendlyName:jo().nonEmpty(),offset:wo(),length:wo(),index:wo()});try{const e=r(i);return{chapterDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index,length:e.length}}}catch(t){return e.warn("An error occurred while creating the Chapter Object.",t),{}}},a=t=>{const n=/^[a-zA-Z0-9_]{1,64}$/,o=jo().matches(n,"This is not a valid state name.");try{return{name:o(t)}}catch(t){return e.warn("An error occurred while creating the State Object.",t),{}}},i=(t,n,o,a)=>{const i={bitrate:t,droppedFrames:n,fps:o,startupTime:a},r=Eo({bitrate:wo(),droppedFrames:wo(),fps:wo(),startupTime:wo()});try{const e=r(i);return{bitrate:e.bitrate,droppedFrames:e.droppedFrames,framesPerSecond:e.fps,timeToStart:e.startupTime}}catch(t){return e.warn("An error occurred while creating the QOE Object.",t),{}}};return{createMediaObject:(t,n,o,a,i)=>{const r={friendlyName:t,name:n,length:o,streamType:i,contentType:a},s=Eo({friendlyName:jo().nonEmpty(),name:jo().nonEmpty(),length:wo().required(),streamType:jo().nonEmpty(),contentType:jo().nonEmpty()});try{const e=s(r);return{sessionDetails:{name:e.name,friendlyName:e.friendlyName,length:Math.round(e.length),streamType:e.streamType,contentType:e.contentType}}}catch(t){return e.warn("An error occurred while creating the Media Object.",t),{}}},createAdBreakObject:t,createAdObject:n,createChapterObject:o,createStateObject:a,createQoEObject:i}};const hc={"a.media.show":"show","a.media.season":"season","a.media.episode":"episode","a.media.asset":"assetID","a.media.genre":"genre","a.media.airDate":"firstAirDate","a.media.digitalDate":"firstDigitalDate","a.media.rating":"rating","a.media.originator":"originator","a.media.network":"network","a.media.type":"showType","a.media.adLoad":"adLoad","a.media.pass.mvpd":"mvpd","a.media.pass.auth":"authorized","a.media.dayPart":"dayPart","a.media.feed":"feed","a.media.format":"streamFormat","a.media.artist":"artist","a.media.album":"album","a.media.label":"label","a.media.author":"author","a.media.station":"station","a.media.publisher":"publisher","media.resumed":"hasResume"},vc={"a.media.ad.advertiser":"advertiser","a.media.ad.campaign":"campaignID","a.media.ad.creative":"creativeID","a.media.ad.placement":"placementID","a.media.ad.site":"siteID","a.media.ad.creativeURL":"creativeURL"};var yc=({logger:e,trackMediaSession:t,trackMediaEvent:n,uuid:o})=>{let a=null;const i=()=>{a={qoe:null,lastPlayhead:0,playerId:o()}},r=({eventType:e})=>e===lc.BufferComplete||e===lc.SeekComplete?dc.Play:e===lc.StateStart||e===lc.StateEnd?dc.StateUpdate:e===lc.SeekStart?dc.Pause:e,s=({eventType:e,mediaDetails:t={},contextData:n=[]})=>{const o=r({eventType:e});if(e===lc.StateStart)return{eventType:`media.${o}`,mediaCollection:{statesStart:[t]}};if(e===lc.StateEnd)return{eventType:`media.${o}`,mediaCollection:{statesEnd:[t]}};const a={eventType:`media.${o}`,mediaCollection:{...t}},i=[];return Object.keys(n).forEach((e=>{hc[e]?a.mediaCollection.sessionDetails[hc[e]]=n[e]:vc[e]?a.mediaCollection.advertisingDetails[vc[e]]=n[e]:i.push({name:e,value:n[e]})})),Ne(i)&&(a.mediaCollection.customMetadata=i),a};return{trackSessionStart:(n,o={})=>{if(se(n)||ut(n))return e.warn("Invalid media object"),{};null===a&&(e.warn("The Media Session was completed. Restarting a new session."),i());const r=s({eventType:dc.SessionStart,mediaDetails:n,contextData:o});return t({playerId:a.playerId,getPlayerDetails:()=>({playhead:a.lastPlayhead,qoeDataDetails:a.qoe}),xdm:r})},trackPlay:()=>{if(null===a)return e.warn("The Media Session was completed."),{};const t=s({eventType:dc.Play});return n({playerId:a.playerId,xdm:t})},trackPause:()=>{if(null===a)return e.warn("The Media Session was completed."),{};const t=s({eventType:dc.Pause});return n({playerId:a.playerId,xdm:t})},trackSessionEnd:()=>{if(null===a)return e.warn("The Media Session was completed."),{};const t=s({eventType:dc.SessionEnd});return n({playerId:a.playerId,xdm:t})},trackComplete:()=>{if(null===a)return e.warn("The Media Session was completed."),{};const t=s({eventType:dc.SessionComplete});return n({playerId:a.playerId,xdm:t})},trackError:t=>{if(e.warn(`trackError(${t})`),null===a)return e.warn("The Media Session was completed."),{};const o={name:t,source:"player"},i=s({eventType:dc.Error,mediaDetails:{errorDetails:o}});return n({playerId:a.playerId,xdm:i})},trackEvent:(t,o,i)=>{if(ut(o))return e.warn("Invalid media object."),{};if(null===a)return e.warn("The Media Session was completed."),{};if(!Object.values(lc).includes(t))return e.warn("Invalid event type"),{};const r=s({eventType:t,mediaDetails:o,contextData:i});return n({playerId:a.playerId,xdm:r})},updatePlayhead:t=>{null!==a?zt(t)&&(a.lastPlayhead=parseInt(t,10)):e.warn("The Media Session was completed.")},updateQoEObject:t=>{null!==a?t&&(a.qoe=t):e.warn("The Media Session was completed.")},destroy:()=>{e.warn("Destroy called, destroying the tracker."),a=null}}};const _c=({eventManager:e,sendEdgeNetworkRequest:t,config:n,logger:o,consent:a})=>{const i=ec(),r=Ys({sendEdgeNetworkRequest:t,config:n,consent:a,eventManager:e,setTimestamp:qi((()=>new Date))}),s=nc({mediaSessionCacheManager:i,mediaEventManager:r,config:n}),c=oc({config:n,mediaEventManager:r,mediaSessionCacheManager:i,legacy:!0}),l=ic({mediaSessionCacheManager:i,config:n,trackMediaEvent:s});return fc({mediaResponseHandler:l,trackMediaSession:c,trackMediaEvent:s,createMediaHelper:bc,createGetInstance:yc,logger:o,config:n})};_c.namespace="Legacy Media Analytics";const kc="web",Cc="webapp",wc="://",Pc="#",Ec=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,jc=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,xc=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,Ac=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,qc=(e="/")=>{let t=e.length;for(;t>0&&-1!=="/".indexOf(e.charAt(t-1));)t-=1;return e.substring(0,t)||"/"},Sc=e=>Qt(e)?e.toLowerCase():"",Ic=e=>Qt(e)?e.toLowerCase():"",Oc=e=>Qt(e)?qc(e):"/",Tc=e=>{const t=e.match(Ec);return t?{surfaceType:Sc(t[1]),authority:Ic(t[2]),path:Oc(t[3]),fragment:t[4]}:null},Dc=e=>`${e.surfaceType}${wc}${e.authority}${e.path||""}${e.fragment||""}`,Nc=e=>{const t=e(),n=t.host.toLowerCase(),o=t.pathname;return kc+wc+n+qc(o)},Rc=(e,t)=>e.startsWith(Pc)?Nc(t)+e:e,Lc=(e,t,n)=>{const o=e=>(n.warn(e),null);if(!Qt(e))return o(`Invalid surface: ${e}`);const a=Rc(e,t),i=Tc(a);return null===i?o(`Invalid surface: ${e}`):[kc,Cc].includes(i.surfaceType)?i.authority&&jc.test(i.authority)?i.path&&!xc.test(i.path)?o(`Invalid path ${i.path} in surface: ${e}`):i.fragment&&!Ac.test(i.fragment)?o(`Invalid fragment ${i.fragment} in surface: ${e}`):i:o(`Invalid authority ${i.authority} in surface: ${e}`):o(`Unsupported surface type ${i.surfaceType} in surface: ${e}`)},Mc=e=>!!e&&0===e.indexOf(kc+wc)&&-1===e.indexOf(Pc),Fc=(e=[],t,n)=>e.map((e=>Lc(e,t,n))).filter((e=>!se(e))).map(Dc),Vc="https://ns.adobe.com/personalization/default-content-item",Bc="https://ns.adobe.com/personalization/dom-action",Uc="https://ns.adobe.com/personalization/html-content-item",zc="https://ns.adobe.com/personalization/json-content-item",$c="https://ns.adobe.com/personalization/ruleset-item",Gc="https://ns.adobe.com/personalization/redirect-item",Hc="https://ns.adobe.com/personalization/message/in-app",Qc="https://ns.adobe.com/personalization/message/content-card",Wc="https://ns.adobe.com/personalization/eventHistoryOperation",Kc=e=>{e.includes(Ia)||e.push(Ia)},Jc=(e,t)=>{const n=Nc(t);e.includes(n)||e.push(n)},Xc=e=>e.filter(((t,n)=>e.indexOf(t)===n));var Yc=({getPageLocation:e,renderDecisions:t,decisionScopes:n,personalization:o,event:a,isCacheInitialized:i,logger:r})=>{const s=a.getViewName();return{isRenderDecisions:()=>t,isSendDisplayEvent:()=>!!o.sendDisplayEvent,shouldIncludeRenderedPropositions:()=>!!o.includeRenderedPropositions,getViewName:()=>s,hasScopes:()=>n.length>0||Ne(o.decisionScopes),hasSurfaces:()=>Ne(o.surfaces),hasViewName:()=>Qt(s),createQueryDetails(){const t=[...n];Ne(o.decisionScopes)&&t.push(...o.decisionScopes);const a=Fc(o.surfaces,e,r);this.shouldRequestDefaultPersonalization()&&(Kc(t),Jc(a,e));const i=[Vc,Uc,zc,Gc,$c,Hc,Qc];return t.includes(Ia)&&i.push(Bc),{schemas:i,decisionScopes:Xc(t),surfaces:Xc(a)}},isCacheInitialized:()=>i,shouldFetchData(){return this.hasScopes()||this.hasSurfaces()||this.shouldRequestDefaultPersonalization()},shouldUseCachedData(){return this.hasViewName()&&!this.shouldFetchData()},shouldRequestDefaultPersonalization(){return o.defaultPersonalizationEnabled||!this.isCacheInitialized()&&!1!==o.defaultPersonalizationEnabled}}};const Zc="Rendering is disabled for authoring mode.",el="decisioning.propositionDisplay",tl="decisioning.propositionInteract",nl="decisioning.propositionTrigger",ol="decisioning.propositionDismiss",al="decisioning.propositionSuppressDisplay",il=1,rl={DISPLAY:"display",INTERACT:"interact",TRIGGER:"trigger",DISMISS:"dismiss",SUPPRESS:"suppressDisplay"},sl={[el]:rl.DISPLAY,[tl]:rl.INTERACT,[nl]:rl.TRIGGER,[ol]:rl.DISMISS,[al]:rl.SUPPRESS},cl={[rl.DISPLAY]:el,[rl.INTERACT]:tl,[rl.TRIGGER]:nl,[rl.DISMISS]:ol,[rl.SUPPRESS]:al},ll=e=>sl[e],dl=e=>cl[e],ul={propositions:[]};var pl=({logger:e,options:t})=>{const n=Eo({propositions:yo(Eo({id:jo().required(),scope:jo().required(),scopeDetails:Eo({decisionProvider:jo().required()}).required(),items:yo(Eo({id:jo().required(),schema:jo().required(),data:Eo(vo())})).nonEmpty().required()}).required()).nonEmpty().required(),metadata:Eo(vo()),viewName:jo()}).required();try{return n(t)}catch(t){return e.warn("Invalid options for applyPropositions. No propositions will be applied.",t),ul}},ml=({getPageLocation:e,logger:t,fetchDataHandler:n,viewChangeHandler:o,onClickHandler:a,isAuthoringModeEnabled:i,mergeQuery:r,viewCache:s,showContainers:c,applyPropositions:l,setTargetMigration:d,mergeDecisionsMeta:u,renderedPropositions:p,onDecisionHandler:m,handleConsentFlicker:g})=>({lifecycle:{onComponentsRegistered(){g()},onDecision:m,onBeforeRequest:({request:e})=>(d(e),Promise.resolve()),onBeforeEvent({event:a,renderDecisions:l,decisionScopes:d=[],personalization:m={},onResponse:g=Wt,onRequestFailure:f=Wt}){if(g((()=>({propositions:[]}))),f((()=>c())),i())return t.warn(Zc),r(a,{enabled:!1}),Promise.resolve();const b=Yc({getPageLocation:e,renderDecisions:l,decisionScopes:d,personalization:m,event:a,isCacheInitialized:s.isInitialized(),logger:t}),h=[];if(b.shouldIncludeRenderedPropositions()&&h.push(p.clear()),b.shouldFetchData()){const e=s.createCacheUpdate(b.getViewName());f((()=>e.cancel())),n({cacheUpdate:e,personalizationDetails:b,event:a,onResponse:g})}else b.shouldUseCachedData()&&h.push(o({personalizationDetails:b,event:a,onResponse:g,onRequestFailure:f}));return Promise.all(h).then((e=>{const t=e.flatMap((e=>e));Ne(t)&&u(a,t,[rl.DISPLAY])}))},onClick({event:e,clickedElement:t}){a({event:e,clickedElement:t})}},commands:{applyPropositions:{optionsValidator:e=>pl({logger:t,options:e}),run:l}}}),gl=(e="undefined")=>Ee(qe,{},{innerHTML:e});const fl=":eq(",bl=/:eq\((\d+)\)/g,hl=e=>-1===e.indexOf(fl),vl=e=>e.split(bl).filter(Qt),yl=/(#|\.)(-?\w+)/g,_l=(e,t,n)=>`${t}${CSS.escape(n)}`,kl=e=>e.replace(yl,_l),Cl=e=>{const t=[],n=kl(e.trim()),o=vl(n),{length:a}=o;let i=0;for(;i<a;){const e=o[i],n=o[i+1];n?t.push({sel:e,eq:Number(n)}):t.push({sel:e}),i+=2}return t},wl=e=>{const t=document;if(hl(e))return $e(e,t);const n=Cl(e),{length:o}=n;let a=[],i=t,r=0;for(;r<o;){const{sel:e,eq:t}=n[r],s=$e(e,i),{length:c}=s;if(0===c)break;if(null!=t&&t>c-1)break;r<o-1&&(null==t?[i]=s:i=s[t]),r===o-1&&(a=null==t?s:[s[t]]),r+=1}return a};var Pl=(e,t=document)=>t.getElementById(e),El=(e,t,n)=>{e.setAttribute(t,n)},jl=(e,t)=>e.getAttribute(t),xl=(e,t)=>{e.removeAttribute(t)},Al=(e,t,n,o)=>{let a;a=o?`${t}:${n} !${o};`:`${t}:${n};`,e.style.cssText+=`;${a}`},ql=e=>e.parentNode,Sl=e=>e.nextElementSibling,Il=(e,t)=>{if(!e)return;const n=ql(e);n&&n.insertBefore(t,Sl(e))},Ol=(e,t)=>{if(!e)return;const n=ql(e);n&&n.insertBefore(t,e)},Tl=e=>{const{children:t}=e;return t?Re(t):[]},Dl=e=>{const{childNodes:t}=e;return t?Re(t):[]},Nl=e=>e.firstElementChild;let Rl;var Ll=(e=document)=>{if(void 0===Rl){const t=e.querySelector("[nonce]");Rl=t&&(t.nonce||t.getAttribute("nonce"))}return Rl};const Ml="src",Fl=e=>e.tagName===Ae,Vl=e=>Ee(Ae,{src:e}),Bl=e=>{$e(Ae,e).forEach((e=>{const t=jl(e,Ml);t&&Vl(t)}))},Ul=(e,t)=>e.tagName===t,zl=e=>Ul(e,Se)&&!jl(e,Ml);var $l=e=>{const t=$e(Se,e),{length:n}=t,o=Ll();if(o)for(let e=0;e<n;e+=1){const n=t[e];zl(n)&&(n.nonce=o)}};const Gl=(e,t)=>new Promise(((n,o)=>{t.onload=()=>{n(t)},t.onerror=()=>{o(new Error(`Failed to load script: ${e}`))}})),Hl=e=>{const t=document.createElement("script");t.src=e,t.async=!0;const n=Gl(e,t);return document.head.appendChild(t),n},Ql=(e,t)=>!!e&&e.tagName===t,Wl=e=>Ql(e,Ie)&&!jl(e,Ml),Kl=e=>Ql(e,Ie)&&jl(e,Ml),Jl=e=>{const t=$e(Ie,e),n=[],{length:o}=t,a=Ll(),i={...a&&{nonce:a}};for(let e=0;e<o;e+=1){const o=t[e];if(!Wl(o))continue;const{textContent:a}=o;a&&n.push(Ee(Ie,i,{textContent:a}))}return n},Xl=e=>{const t=$e(Ie,e),n=[],{length:o}=t;for(let e=0;e<o;e+=1){const o=t[e];if(!Kl(o))continue;const a=jl(o,Ml);a&&n.push(a)}return n},Yl=(e,t)=>{t.forEach((t=>{e.appendChild(t),e.removeChild(t)}))},Zl=e=>Promise.all(e.map(Hl));var ed=(e,t,n)=>{const o=gl(t);$l(o);const a=Dl(o),i=Jl(o),r=Xl(o);return Bl(o),a.forEach((t=>{we(e,t)})),n(e),Yl(e,i),Zl(r)};const td=e=>{Dl(e).forEach(st)};var nd=(e,t,n)=>(td(e),ed(e,t,n)),od=(e,t,n)=>{const o=gl(t);$l(o);const a=Dl(o),i=Jl(o),r=Xl(o),{length:s}=a;let c=s-1;for(Bl(o);c>=0;){const t=a[c];n(t);const o=Nl(e);o?Ol(o,t):we(e,t),c-=1}return Yl(e,i),Zl(r)};const ad="alloy-prehiding",id="{ visibility: hidden }",rd={},sd=e=>{if(rd[e])return;const t=Ll(),n={...t&&{nonce:t}},o=Ee(Se,n,{textContent:`${e} ${id}`});we(document.head,o),rd[e]=o},cd=e=>{const t=rd[e];t&&(st(t),delete rd[e])},ld=e=>t=>{if(!t)return;if(Pl(ad))return;const n=Ll(),o={id:ad,...n&&{nonce:n}},a=Ee(Se,o,{textContent:t});e.logOnContentHiding({status:"hide-containers",message:"Prehiding style applied to hide containers.",logLevel:"info"}),we(document.head,a)},dd=e=>()=>{const t=Pl(ad);t&&(e.logOnContentHiding({status:"show-containers",message:"Prehiding style removed to show containers.",logLevel:"info"}),st(t))};var ud=(e,t,n)=>{n(e),e.textContent=t},pd=(e,t,n)=>{const o=gl(t);$l(o);const a=Dl(o),i=Jl(o),r=Xl(o);return Bl(o),a.forEach((t=>{n(t),Ol(e,t)})),Yl(e,i),Zl(r)},md=(e,t,n)=>pd(e,t,n).then((()=>{st(e)})),gd=(e,t,n)=>{const o=gl(t);$l(o);const a=Dl(o),i=Jl(o),r=Xl(o);Bl(o);let s=e;return a.forEach((e=>{n(e),Il(s,e),s=e})),Yl(e,i),Zl(r)},fd=(e,t,n)=>{const{priority:o,...a}=t;Object.keys(a).forEach((t=>{Al(e,t,a[t],o)})),n(e)},bd=(e,t,n)=>{Object.keys(t).forEach((n=>{El(e,n,t[n])})),n(e)},hd=(e,t,n)=>{Fl(e)&&(Vl(t),n(e),xl(e,Ml),El(e,Ml,t))},vd=(e,{from:t,to:n},o)=>{const a=Tl(e),i=a[t],r=a[n];i&&r&&(t<n?Il(r,i):Ol(r,i),o(r),o(i))};const yd=({containers:e,content:t,decorateProposition:n,renderFunc:o,renderStatusHandler:a,alwaysRender:i})=>{const r=e.filter((e=>i||a.shouldRender(e))).map((async e=>{await o(e,t,n),a.markAsRendered(e)}));return Promise.all(r)},_d=(e,t=!1)=>async(n,o,a)=>{const{selector:i,prehidingSelector:r,content:s}=n;sd(r);try{const n=await it(i,wl);yd({containers:n,content:s,decorateProposition:o,renderFunc:e,renderStatusHandler:a,alwaysRender:t})}finally{cd(r)}},kd=e=>`${e}`.endsWith("px")?e:`${e}px`;var Cd=(e,t,n)=>{const{priority:o,...a}=t;Object.keys(a).forEach((t=>{let n=a[t];"left"!==t&&"top"!==t||(n=kd(n)),Al(e,t,n,o)})),n(e)},wd=(e,t,n)=>{n(e)},Pd=(e,t,n)=>{const{priority:o,...a}=t;Object.keys(a).forEach((t=>{let n=a[t];"width"!==t&&"height"!==t||(n=kd(n)),Al(e,t,n,o)})),n(e)};const Ed="setHtml",jd="customCode",xd="setText",Ad="setAttribute",qd="setImageSource",Sd="setStyle",Id="move",Od="resize",Td="rearrange",Dd="remove",Nd="insertAfter",Rd="insertBefore",Ld="replaceHtml",Md="prependHtml",Fd="appendHtml",Vd="click",Bd="collectInteractions";var Ud=()=>({[Ed]:_d(nd,!0),[jd]:_d(od),[xd]:_d(ud,!0),[Ad]:_d(bd,!0),[qd]:_d(hd,!0),[Sd]:_d(fd,!0),[Id]:_d(Cd,!0),[Od]:_d(Pd,!0),[Td]:_d(vd),[Dd]:_d(st,!0),[Nd]:_d(gd),[Rd]:_d(pd),[Ld]:_d(md,!0),[Md]:_d(od),[Fd]:_d(ed),[Bd]:_d(wd,!0)}),zd=({eventManager:e,mergeDecisionsMeta:t})=>({decisionsMeta:n=[],propositionAction:o,documentMayUnload:a=!1,eventType:i=el,propositionEventTypes:r=[ll(i)],viewName:s})=>{const c=e.createEvent(),l={eventType:i};return s&&(l.web={webPageDetails:{viewName:s}}),Ne(n)&&t(c,n,r,o),c.mergeXdm(l),a&&c.documentMayUnload(),e.sendEvent(c)};const $d="personalization:decisions";var Gd=({logger:e,prehidingStyle:t,showContainers:n,hideContainers:o,mergeQuery:a,processPropositions:i,createProposition:r,notificationHandler:s,consent:c})=>({cacheUpdate:l,personalizationDetails:d,event:u,onResponse:p})=>{const{state:m,wasSet:g}=c.current();"out"===m&&g||(d.isRenderDecisions()?o(t):n()),a(u,d.createQueryDetails());const f=s(d.isRenderDecisions(),d.isSendDisplayEvent(),d.getViewName());p((({response:t})=>{const o=t.getPayloadsByType($d);Ne(o)||e.logOnContentRendering({status:"no-offers",message:"No offers were returned.",logLevel:"info",detail:{query:d.createQueryDetails()}});const a=o.map((e=>r(e))),{page:s=[],view:c=[],proposition:u=[]}=Ct(a,(e=>e.getScopeType())),p=l.update(c);let m,g,b;return d.isRenderDecisions()?(({render:m,returnedPropositions:g,returnedDecisions:b}=i([...s,...p],u)),Ne(s)&&e.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for page-wide scope.",logLevel:"info",detail:{scope:Ia,propositions:s.map((e=>e.toJSON()))}}),Ne(p)&&e.logOnContentRendering({status:"rendering-started",message:`Rendering propositions started for view scope - ${d.getViewName()}.`,logLevel:"info",detail:{scope:d.getViewName(),propositions:p.map((e=>e.toJSON()))}}),m().then(f),n()):({returnedPropositions:g,returnedDecisions:b}=i([],[...s,...p,...u])),{propositions:g,decisions:b}}))},Hd=(e,t)=>{if(hl(e))return rt(e,t);const n=wl(e);let o=!1;for(let e=0;e<n.length;e+=1)if(n[e]===t){o=!0;break}return o};const Qd="view",Wd="page",Kd="proposition",Jd=e=>e.map((e=>{const{trackingLabel:t,scopeType:n,...o}=e;return o})),Xd=e=>e.filter(((t,n)=>{const o=JSON.stringify(t);return n===e.findIndex((e=>JSON.stringify(e)===o))})),Yd=(e,t,n)=>{const{documentElement:o}=document;let a=e,i=0;for(;a&&a!==o;){if(Hd(t,a)){const e=n(t),o={metas:e},a=e.find((e=>e.trackingLabel));a&&(o.label=a.trackingLabel,o.weight=i);const r=e.find((e=>e.scopeType===Qd));return r&&(o.viewName=r.scope,o.weight=i),o}a=a.parentNode,i+=1}return{metas:null}};var Zd=(e,t,n)=>{const o=[];let a,i="",r=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER;for(let c=0;c<t.length;c+=1){const{metas:l,label:d,weight:u,viewName:p}=Yd(e,t[c],n);l&&(d&&u<=r&&(i=d,r=u),p&&u<=s&&(a=p,s=u),o.push(...Jd(l)))}return{decisionsMeta:Xd(o),propositionActionLabel:i,propositionActionToken:void 0,viewName:a}},eu=(e=document)=>-1!==e.location.href.indexOf("adobe_authoring_enabled");const tu=(e,t,n,o)=>{if(0===t.length)return;const a={};n.forEach((e=>{a[e]=il}));const i={_experience:{decisioning:{propositions:t,propositionEventType:a}}};o&&(i._experience.decisioning.propositionAction=o),e.mergeXdm(i)},nu=(e,t)=>{e.mergeQuery({personalization:{...t}})},ou=(e,t)=>{if(!t&&!e)return;const n={};return e&&(n.label=e),t&&(n.tokens=[t]),n};var au=({mergeDecisionsMeta:e,collectInteractions:t,collectClicks:n,getInteractionMetas:o,getClickMetas:a,getClickSelectors:i,autoCollectPropositionInteractions:r})=>({event:s,clickedElement:c})=>{const l=[];let d,u,p;if([t(c,o,r),n(c,i(),a)].forEach((({decisionsMeta:e,propositionActionLabel:t,propositionActionToken:n,viewName:o})=>{Array.prototype.push.apply(l,e),!d&&t&&(d=t),!u&&n&&(u=n),!p&&o&&(p=o)})),Ne(l)){const t={eventType:tl};p&&(t.web={webPageDetails:{viewName:p}}),s.mergeXdm(t),e(s,l,[rl.INTERACT],ou(d,u))}},iu=({createProposition:e})=>{let t=!1,n=Promise.resolve({});const o=(t,n)=>{const o=t[n.toLowerCase()];return o&&o.length>0?o:[e({scope:n,scopeDetails:{characteristics:{scopeType:Qd}},items:[{schema:Vc}]},!1)]};return{createCacheUpdate:e=>{const a=ye();return t=!0,n=n.then((e=>a.promise.then((t=>({...e,...t}))).catch((()=>e)))),{update(t){const n=t.filter((e=>e.getScope())),i=Ct(n,(e=>e.getScope().toLowerCase()));return a.resolve(i),e?o(i,e):[]},cancel(){a.reject()}}},getView:e=>n.then((t=>o(t,e))),isInitialized:()=>t}},ru=({processPropositions:e,viewCache:t,logger:n})=>({personalizationDetails:o,onResponse:a})=>{let i,r;const s=o.getViewName();return a((()=>({propositions:i,decisions:r}))),t.getView(s).then((t=>{let a;return o.isRenderDecisions()?(({render:a,returnedPropositions:i,returnedDecisions:r}=e(t)),n.logOnContentRendering({status:"rendering-started",message:`Started rendering propositions for view scope - ${s}.`,logLevel:"info",detail:{scope:s,propositions:t.map((e=>e.toJSON()))}}),a()):(({returnedPropositions:i,returnedDecisions:r}=e([],t)),
[])}))};const su=e=>Object.keys(e).map((t=>({id:t,...e[t]})));var cu=()=>{const e={};return{storeClickMeta:({selector:t,meta:{id:n,scope:o,scopeDetails:a,trackingLabel:i,scopeType:r}})=>{e[t]||(e[t]={}),e[t][n]={scope:o,scopeDetails:a,trackingLabel:i,scopeType:r}},getClickSelectors:()=>Object.keys(e),getClickMetas:t=>e[t]?su(e[t]):{}}},lu=()=>{const e={},t={};return{storeInteractionMeta:(n,o,a,i,r)=>{r=parseInt(r,10),e[r]||(e[r]={},t[r]={}),t[r][n]||(t[r][n]=new Set),t[r][n].add(o),e[r][n]={...i,scopeType:a}},getInteractionMetas:n=>Array.isArray(n)&&0!==n.length?Object.values(n.map((e=>parseInt(e,10))).reduce(((n,o)=>(Object.keys(e[o]||{}).forEach((a=>{n[a]||(n[a]={proposition:e[o][a],items:new Set}),n[a].items=new Set([...n[a].items,...t[o][a]])})),n)),{})).map((({proposition:e,items:t})=>({...e,items:Array.from(t).map((e=>({id:e})))}))):[]}};const du=(e,t)=>e===zc&&t===Bd,uu={[Bc]:()=>!0,[Uc]:()=>!0,[zc]:du,[Hc]:()=>!0,[Vc]:()=>!0},pu=(e,t)=>"function"==typeof uu[e]&&uu[e](e,t);var mu=({processPropositions:e,createProposition:t,renderedPropositions:n,viewCache:o})=>{const a=({items:e,metadataForScope:t={}})=>{const{actionType:n,selector:o}=t;return e.filter((e=>pu(e.schema,n))).map((e=>{const{schema:a}=e;return a===Uc||du(a,n)?ut(t)?void 0:{...e,schema:du(a,n)?Bc:a,data:{...e.data,selector:o,type:n}}:{...e}})).filter((e=>e))},i=e=>!(e.scope===Ia&&e.renderAttempted),r=({propositions:e,metadata:t})=>e.filter(i).map((e=>{if(Ne(e.items)){const{id:n,scope:o,scopeDetails:i}=e;return{id:n,scope:o,scopeDetails:i,items:a({items:e.items,metadataForScope:t[e.scope]})}}return e})).filter((e=>Ne(e.items)));return({propositions:a=[],metadata:i={},viewName:s})=>{const c=ye();n.concat(c.promise);const l=r({propositions:a,metadata:i}).map((e=>t(e)));return Promise.resolve().then((()=>s?o.getView(s):[])).then((t=>{const{render:n,returnedPropositions:o}=e([...l,...t]);return n().then(c.resolve),{propositions:o}}))}},gu=({window:e})=>()=>e.location,fu=({targetMigrationEnabled:e})=>e?e=>{e.getPayload().mergeMeta({target:{migration:!0}})}:Wt;const bu="BODY > *:eq(0)";var hu=e=>{const{selector:t,type:n}=e;return n!==jd||t!==bu?e:{...e,selector:"BODY"}};const vu="SCRIPT,LINK,STYLE",yu=e=>{const t=gl(e);return $e(vu,t).map((e=>e.outerHTML)).join("")};var _u=e=>{const t={...e},{content:n,selector:o}=t;if(ac(n))return t;if(null==o)return t;const a=wl(o);return Ql(a[0],Oe)?(t.type=Fd,t.content=yu(n),t):t},ku=e=>t=>t?e.reduce(((e,t)=>({...e,...t(e)})),t):t,Cu=({preprocess:e,isPageWideSurface:t})=>{const n=(t,n)=>{const{id:o,schema:a,data:i,characteristics:{trackingLabel:r}={}}=t,s=i?i.type:void 0,c=e(i);return{getId:()=>o,getSchema:()=>a,getSchemaType:()=>s,getData:()=>c,getProposition:()=>n,getTrackingLabel:()=>r,getOriginalItem:()=>t,toString:()=>JSON.stringify(t),toJSON:()=>t}};return(e,o=!0,a=!1)=>{const{id:i,scope:r,scopeDetails:s,items:c=[]}=e,{characteristics:{scopeType:l}={}}=s||{};return{getScope:()=>r,getScopeType:()=>r===Ia||t(r)?Wd:l===Qd?Qd:Kd,getItems(){return c.map((e=>n(e,this)))},getNotification:()=>({id:i,scope:r,scopeDetails:s}),getId:()=>i,toJSON:()=>e,shouldSuppressDisplay:()=>a,addToReturnValues(t,n,a,i){o&&(t.push({...e,items:a.map((e=>e.getOriginalItem())),renderAttempted:i}),i||n.push({...e,items:a.map((e=>e.getOriginalItem()))}))}}}},wu=()=>{let e=Promise.resolve([]);return{concat(t){e=e.then((e=>t.then((t=>e.concat(t))).catch((()=>e))))},clear(){const t=e;return e=Promise.resolve([]),t}}},Pu=()=>({render:Wt,setRenderAttempted:!0,includeInNotification:!0});const Eu="always",ju="never",xu="decoratedElementsOnly",Au=[Eu,ju,xu],qu="data-aep-interact-id",Su="data-aep-click-label",Iu="data-aep-click-token";let Ou=0;const Tu=(e,t)=>t?parseInt(t,10):++Ou,Du=(e,t)=>!!e&&!!e[t]&&[Eu,xu].includes(e[t]),Nu=(e,t,n,o,a,i,r,s)=>{const{scopeDetails:c={}}=r,{decisionProvider:l}=c;return Du(e,l)||t===Vd?e=>{if(!e.tagName)return;const t=Tu(n,jl(e,qu));s(n,o,i,r,t),El(e,qu,t),a&&!jl(e,Su)&&El(e,Su,a)}:Wt};var Ru=(e,t)=>e!==Qd?{shouldRender:()=>!0,markAsRendered:()=>{}}:{shouldRender:e=>!e||!(e.dataset.adobePropositionIds??"").split(",").includes(t),markAsRendered:e=>{const n=(e.dataset.adobePropositionIds??"").split(",");n.includes(t)||n.push(t),e.dataset.adobePropositionIds=n.sort().join(",")}},Lu=({modules:e,logger:t,storeInteractionMeta:n,storeClickMeta:o,autoCollectPropositionInteractions:a})=>i=>{const{type:r,selector:s}=i.getData()||{};if(!r)return t.warn("Invalid DOM action data: missing type.",i.getData()),{setRenderAttempted:!1,includeInNotification:!1};if(r===Vd)return s?(o({selector:s,meta:{...i.getProposition().getNotification(),trackingLabel:i.getTrackingLabel(),scopeType:i.getProposition().getScopeType()}}),{setRenderAttempted:!0,includeInNotification:!1}):(t.warn("Invalid DOM action data: missing selector.",i.getData()),{setRenderAttempted:!1,includeInNotification:!1});if(!e[r])return t.warn("Invalid DOM action data: unknown type.",i.getData()),{setRenderAttempted:!1,includeInNotification:!1};const c=Ru(i.getProposition().getScopeType(),i.getId()),l=Nu(a,r,i.getProposition().getId(),i.getId(),i.getTrackingLabel(),i.getProposition().getScopeType(),i.getProposition().getNotification(),n);return{render:()=>e[r](i.getData(),l,c),setRenderAttempted:!0,includeInNotification:!0}},Mu=({modules:e,logger:t,storeInteractionMeta:n,autoCollectPropositionInteractions:o})=>a=>{const{type:i,selector:r}=a.getData()||{};if(!r||!i)return{setRenderAttempted:!1,includeInNotification:!1};if(!e[i])return t.warn("Invalid HTML content data",a.getData()),{setRenderAttempted:!1,includeInNotification:!1};const s=Nu(o,i,a.getProposition().getId(),a.getId(),a.getTrackingLabel(),a.getProposition().getScopeType(),a.getProposition().getNotification(),n),c=Ru(a.getProposition().getScopeType(),a.getId());return{render:()=>e[i](a.getData(),s,c),setRenderAttempted:!0,includeInNotification:!0}};const Fu="BODY";var Vu=({logger:e,executeRedirect:t,collect:n})=>o=>{const{content:a}=o.getData()||{};return a?{render:()=>(sd(Fu),n({decisionsMeta:[o.getProposition().getNotification()],documentMayUnload:!0}).then((()=>(e.logOnContentRendering({status:"rendering-redirect",detail:{propositionDetails:o.getProposition().getNotification(),redirect:a},message:`Redirect action ${o.toString()} executed.`,logLevel:"info"}),t(a)))).catch((e=>{throw cd(Fu),e}))),setRenderAttempted:!0,onlyRenderThis:!0}:(e.warn("Invalid Redirect data",o.getData()),{})},Bu=({schemaProcessors:e,logger:t})=>{const n=(e,n)=>()=>Promise.resolve().then(e).then((()=>(t.enabled&&t.info(`Action ${n.toString()} executed.`),n.toJSON()))).catch((e=>{const{message:o,stack:a}=e,i=`Failed to execute action ${n.toString()}. ${o} ${a}`;t.logOnContentRendering({status:"rendering-failed",detail:{propositionDetails:n.getProposition().getNotification(),item:n.toJSON()},error:e,message:i,logLevel:"warn"})})),o=async(e,t)=>{const n=(await Promise.allSettled(e.map((e=>e())))).filter((e=>"fulfilled"===e.status)).map((e=>e.value));if(t&&Ne(n))return{...t,items:n}},a=t=>{const n=e[t.getSchema()];return n?n(t):{}},i=({renderers:e,returnedPropositions:t,returnedDecisions:i,items:r,proposition:s})=>{let c,l,d,u,p=[...e],m=[...t],g=[...i],f=[],b=[],h=[],v=!1,y=!1,_=0;for(;r.length>_;){if(u=r[_],({render:c,setRenderAttempted:l,includeInNotification:d,onlyRenderThis:y}=a(u)),y){m=[],g=[],l?(f=[u],b=[]):(f=[],b=[u]),p=[],h=[c],v=d;break}c&&h.push(n(c,u)),d&&(v=!0),l?f.push(u):b.push(u),_+=1}if(h.length>0){const e=v?s.getNotification():void 0;p.push((()=>o(h,e)))}else v&&p.push((()=>Promise.resolve(s.getNotification())));return f.length>0&&s.addToReturnValues(m,g,f,!0),b.length>0&&s.addToReturnValues(m,g,b,!1),{renderers:p,returnedPropositions:m,returnedDecisions:g,onlyRenderThis:y}};return(e,n=[])=>{let o,a,r,s=[],c=[],l=[],d=0;for(;e.length>d&&(a=e[d],r=a.getItems(),({renderers:s,returnedPropositions:c,returnedDecisions:l,onlyRenderThis:o}=i({renderers:s,returnedPropositions:c,returnedDecisions:l,items:r,proposition:a})),!o);)d+=1;return o&&e.forEach(((e,t)=>{t!==d&&e.addToReturnValues(c,l,e.getItems(),!1)})),n.forEach((e=>{e.addToReturnValues(c,l,e.getItems(),!1)})),{returnedPropositions:c,returnedDecisions:l,render:()=>Promise.all(s.map((e=>e()))).then((e=>{const n=e.filter((e=>e)),o=n.map((e=>{const{id:t,scope:n,scopeDetails:o}=e;return{id:t,scope:n,scopeDetails:o}}));if(Ne(n)){const e=Ct(n,(e=>e.scope));t.logOnContentRendering({status:"rendering-succeeded",detail:{...e},message:`Scopes: ${JSON.stringify(e)} successfully executed.`,logLevel:"info"})}return o}))}}};const Uu=()=>{let e=0;return t=>{const{items:n=[]}=t;return!!n.some((e=>e.schema===Hc))&&(e+=1,e>1)}};var zu=({processPropositions:e,createProposition:t,notificationHandler:n})=>({renderDecisions:o,propositions:a,event:i,personalization:r={}})=>{if(!o)return Promise.resolve();const{sendDisplayEvent:s=!0}=r,c=i?i.getViewName():void 0,l=Uu(),d=a.map((e=>t(e,!0,l(e)))),{render:u,returnedPropositions:p}=e(d),m=n(o,s,c),g=d.reduce(((e,t)=>(e[t.getId()]=t,e)),{});return u().then((e=>{const t=e.filter((e=>!g[e.id].shouldSuppressDisplay())),n=e.filter((e=>g[e.id].shouldSuppressDisplay()));m(t,n)})),Promise.resolve({propositions:p})};const $u="text/html",Gu="application/json",Hu="defaultContent",Qu=["content","contentType"],Wu=["mobileParameters","webParameters","html"],Ku=(e,t)=>{for(let n=0;n<Qu.length;n+=1){const o=Qu[n];if(!Object.prototype.hasOwnProperty.call(e,o))return t.warn(`Invalid in-app message data: missing property '${o}'.`,e),!1}const{content:n,contentType:o}=e;if(o===Gu)for(let o=0;o<Wu.length;o+=1){const a=Wu[o];if(!Object.prototype.hasOwnProperty.call(n,a))return t.warn(`Invalid in-app message data.content: missing property '${a}'.`,e),!1}return!0};var Ju=({modules:e,logger:t})=>n=>{const o=n.getData(),a=n.getProposition(),i={...a.getNotification()},r=a.shouldSuppressDisplay();if(!o)return t.warn("Invalid in-app message data: undefined.",o),{};const{type:s=Hu}=o;return e[s]?Ku(o,t)?i?{render:()=>r?null:e[s]({...o,meta:i}),setRenderAttempted:!0,includeInNotification:!0}:(t.warn("Invalid in-app message meta: undefined.",i),{}):{}:(t.warn("Invalid in-app message data: unknown type.",o),{})};const Xu=e=>{const t=$e(`#${e}`,document);t&&t.length>0&&st(t[0])},Yu=e=>{const t={};if(!e||"a"!==e.tagName.toLowerCase())return t;const{href:n}=e;if(!n||!n.startsWith("adbinapp://"))return t;const o=n.split("?"),a=o[0].split("://")[1],i=e.innerText,r=e.getAttribute("data-uuid")||"";let s,c;if(Ne(o)){const e=re.default.parse(o[1]);s=e.interaction||"",c=mr(e.link||"")}return{action:a,interaction:s,link:c,label:i,uuid:r}};var Zu=e=>(t,n=!1)=>(n?e.location.href=t:e.location.replace(t),new Promise((()=>{})));const ep="alloy-messaging-container",tp="alloy-overlay-container",np="alloy-content-iframe",op=()=>[ep,tp].forEach(Xu),ap=(e,t=Zu(window))=>n=>{n.preventDefault(),n.stopImmediatePropagation();const{target:o}=n,a="a"===o.tagName.toLowerCase()?o:o.closest("a");if(!a)return;const{action:i,interaction:r,link:s,label:c,uuid:l}=Yu(a);e(i,{label:c,id:r,uuid:l,link:s}),"dismiss"===i&&op(),Qt(s)&&s.length>0&&t(s,!0)},ip=(e,t)=>{const n=(new DOMParser).parseFromString(e,$u),o=n.querySelector("script");o&&o.setAttribute("nonce",Ll());const a=Ee("iframe",{src:URL.createObjectURL(new Blob([n.documentElement.outerHTML],{type:"text/html"})),id:np});return a.addEventListener("load",(()=>{const{addEventListener:e}=a.contentDocument||a.contentWindow.document;e("click",t)})),a},rp=(e,t,n,o)=>{[{id:tp,element:o},{id:ep,element:n},{id:np,element:e}].forEach((({id:e,element:n})=>{const{style:o={},params:a={}}=t[e];Object.assign(n.style,o);const{parentElement:i="body",insertionMethod:r="appendChild",enabled:s=!0}=a,c=document.querySelector(i);s&&c&&"function"==typeof c[r]&&c[r](n)}))},sp=e=>{const{verticalAlign:t,width:n,horizontalAlign:o,backdropColor:a,height:i,cornerRadius:r,horizontalInset:s,verticalInset:c,uiTakeover:l=!1}=e,d={width:n?`${n}%`:"100%",backgroundColor:a||"rgba(0, 0, 0, 0.5)",borderRadius:r?`${r}px`:"0px",border:"none",position:l?"fixed":"relative",overflow:"hidden"};return"left"===o?d.left=s?`${s}%`:"0":"right"===o?d.right=s?`${s}%`:"0":"center"===o&&(d.left="50%",d.transform="translateX(-50%)"),"top"===t?d.top=c?`${c}%`:"0":"bottom"===t?(d.position="fixed",d.bottom=c?`${c}%`:"0"):"center"===t&&(d.top="50%",d.transform=("center"===o?`${d.transform} `:"")+"translateY(-50%)",d.display="flex",d.alignItems="center",d.justifyContent="center"),d.height=i?`${i}vh`:"100%",d},cp=e=>{const{backdropOpacity:t,backdropColor:n}=e;return{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",opacity:t||.5,backgroundColor:n||"#FFFFFF"}},lp=["enabled","parentElement","insertionMethod"],dp=e=>{if(!e)return!1;const t=Object.keys(e);if(!t.includes(ep))return!1;if(!t.includes(tp))return!1;const n=Object.values(e);for(let e=0;e<n.length;e+=1){if(!Eo(n[e],"style"))return!1;if(!Eo(n[e],"params"))return!1;for(let t=0;t<lp.length;t+=1)if(!Eo(n[e].params,lp[t]))return!1}return!0},up=e=>{if(!e)return;const{uiTakeover:t=!1}=e;return{[np]:{style:{border:"none",width:"100%",height:"100%"},params:{enabled:!0,parentElement:"#alloy-messaging-container",insertionMethod:"appendChild"}},[ep]:{style:sp(e),params:{enabled:!0,parentElement:"body",insertionMethod:"appendChild"}},[tp]:{style:cp(e),params:{enabled:!0===t,parentElement:"body",insertionMethod:"appendChild"}}}},pp=(e={},t)=>{op();const{content:n,contentType:o,mobileParameters:a}=e;let{webParameters:i}=e;if(o!==$u)return;const r=Ee("div",{id:ep}),s=ip(n,ap(t)),c=Ee("div",{id:tp});dp(i)||(i=up(a)),i&&rp(s,i,r,c)};var mp=(e,t)=>new Promise((n=>{const{meta:o}=e;pp(e,((e,n)=>{const a={};a[rl.INTERACT]=il,-1!==Object.values(rl).indexOf(e)&&(a[e]=il),t({decisionsMeta:[o],propositionAction:n,eventType:tl,propositionEventTypes:Object.keys(a)})})),n({meta:o})})),gp=e=>({defaultContent:t=>mp(t,e)}),fp=(e,t)=>(n,o,a)=>{if(!n)return()=>{};if(!o){const e=ye();return t.concat(e.promise),e.resolve}return(t=[],n=[])=>{Ne(t)&&e({decisionsMeta:t,viewName:a}),Ne(n)&&e({decisionsMeta:n,eventType:al,propositionAction:{reason:"Conflict"},viewName:a})}},bp=({showContainers:e,consent:t})=>()=>{const{state:n,wasSet:o}=t.current();n===Qo&&o?e():t.awaitConsent().catch(e)};const hp=e=>{const{documentElement:t}=document;let n=e;const o=new Set;let a,i;for(;n&&n!==t&&!(n instanceof ShadowRoot);){const e=jl(n,qu);e&&o.add(e),a=a||jl(n,Su),i=i||jl(n,Iu),n=n.parentNode}return{interactIds:[...o],clickLabel:a,clickToken:i}},vp=e=>{const t=e.find((e=>e.scopeType===Qd));return t?t.scope:void 0},yp=(e,t,n)=>o=>{const{scopeDetails:a={}}=o,{decisionProvider:i}=a;return e[i]===Eu||e[i]===xu&&(t||n)};var _p=(e,t,n)=>{const{interactIds:o,clickLabel:a="",clickToken:i}=hp(e),r=yp(n,a,i);if(0===o.length)return{};const s=t(o).filter(r);return{decisionsMeta:Jd(s),propositionActionLabel:a,propositionActionToken:i,viewName:vp(s)}};const kp="personalization:decisions",Cp="AJO",wp="TGT",Pp=({config:e,logger:t,eventManager:n,consent:o})=>{const{targetMigrationEnabled:a,prehidingStyle:i,autoCollectPropositionInteractions:r}=e,s=zd({eventManager:n,mergeDecisionsMeta:tu}),c=dd(t),l=ld(t),{storeInteractionMeta:d,getInteractionMetas:u}=lu(),{storeClickMeta:p,getClickSelectors:m,getClickMetas:g}=cu(),f=gu({window:window}),b=Ud(),h=ku([_u,hu]),v=Cu({preprocess:h,isPageWideSurface:Mc}),y=iu({createProposition:v}),_=Zu(window),k={[Vc]:Pu,[Bc]:Lu({modules:b,logger:t,storeInteractionMeta:d,storeClickMeta:p,autoCollectPropositionInteractions:r}),[Uc]:Mu({modules:b,logger:t,storeInteractionMeta:d,autoCollectPropositionInteractions:r}),[Gc]:Vu({logger:t,executeRedirect:_,collect:s}),[Hc]:Ju({modules:gp(s),logger:t})},C=Bu({schemaProcessors:k,logger:t}),w=wu(),P=fp(s,w),E=Gd({prehidingStyle:i,showContainers:c,hideContainers:l,mergeQuery:nu,processPropositions:C,createProposition:v,notificationHandler:P,consent:o,logger:t}),j=au({mergeDecisionsMeta:tu,collectInteractions:_p,collectClicks:Zd,getInteractionMetas:u,getClickMetas:g,getClickSelectors:m,autoCollectPropositionInteractions:r}),x=ru({processPropositions:C,viewCache:y,logger:t}),A=mu({processPropositions:C,createProposition:v,renderedPropositions:w,viewCache:y}),q=fu({targetMigrationEnabled:a}),S=zu({processPropositions:C,createProposition:v,notificationHandler:P}),I=bp({showContainers:c,consent:o});return ml({getPageLocation:f,logger:t,fetchDataHandler:E,viewChangeHandler:x,onClickHandler:j,isAuthoringModeEnabled:eu,mergeQuery:nu,viewCache:y,showContainers:c,applyPropositions:A,setTargetMigration:q,mergeDecisionsMeta:tu,renderedPropositions:w,onDecisionHandler:S,handleConsentFlicker:I})};Pp.namespace="Personalization";const Ep=Au.map((e=>Co(e)));Pp.configValidators=Eo({prehidingStyle:jo().nonEmpty(),targetMigrationEnabled:_o().default(!1),autoCollectPropositionInteractions:Eo({[Cp]:ho(Ep).default(Eu),[wp]:ho(Ep).default(ju)}).default({[Cp]:Eu,[wp]:ju}).noUnknownFields()});const jp=e=>null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype,xp=(e,t={},n=[])=>(Object.keys(e).forEach((o=>{jp(e[o])||Array.isArray(e[o])?xp(e[o],t,[...n,o]):t[[...n,o].join(".")]=e[o]})),t);var Ap=e=>jp(e)?xp(e):e,qp=({renderDecisions:e,decisionProvider:t,applyResponse:n,event:o,personalization:a,decisionContext:i})=>{const r={...Ap(o.getContent()),...i};return({response:i})=>{if(t.addPayloads(i.getPayloadsByType(kp)),!o.hasQuery())return{propositions:[]};const s=t.evaluate(r);return n({renderDecisions:e,propositions:s,event:o,personalization:a})}};const Sp={MATCHER:"matcher",GROUP:"group",HISTORICAL:"historical"},Ip={EQUALS:"eq",NOT_EQUALS:"ne",EXISTS:"ex",NOT_EXISTS:"nx",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"ge",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"le",CONTAINS:"co",NOT_CONTAINS:"nc",STARTS_WITH:"sw",ENDS_WITH:"ew"},Op={AND:"and",OR:"or"},Tp={ORDERED:"ordered",MOST_RECENT:"mostRecent"},Dp={[Ip.EQUALS]:d(),[Ip.NOT_EQUALS]:u(),[Ip.EXISTS]:p(),[Ip.NOT_EXISTS]:m(),[Ip.GREATER_THAN]:f(),[Ip.GREATER_THAN_OR_EQUAL_TO]:b(),[Ip.LESS_THAN]:h(),[Ip.LESS_THAN_OR_EQUAL_TO]:v(),[Ip.CONTAINS]:y(),[Ip.NOT_CONTAINS]:_(),[Ip.STARTS_WITH]:k(),[Ip.ENDS_WITH]:C()},Np="eventId",Rp="eventType",Lp=["iam.eventType",Rp,"type"],Mp=["iam.id","id"],Fp=(e,t,n)=>{switch(t){case Ip.GREATER_THAN:return e>n;case Ip.GREATER_THAN_OR_EQUAL_TO:return e>=n;case Ip.LESS_THAN:return e<n;case Ip.LESS_THAN_OR_EQUAL_TO:return e<=n;case Ip.EQUALS:return e===n;case Ip.NOT_EQUALS:return e!==n;default:return!1}},Vp=(e,t)=>{for(let n=0;n<t.length;n+=1)if(!P(e[t[n]]))return t[n];throw new Error("The event does not match the expected schema.")},Bp=e=>{const t=structuredClone(e);return[[Vp(t,Lp),Rp],[Vp(t,Mp),Np]].forEach((([e,n])=>{e!==n&&(t[n]=t[e],delete t[e])})),t},Up="TGT",zp="DEFAULT",$p="ECID",Gp="<key>",Hp="<identity>",Qp=J(Y,(e=>e.join("-"))),Wp=100,Kp=J(Z);var Jp=e=>{const t=structuredClone(e),n=Object.keys(t).sort().reduce(((e,n)=>{const o=t[n];return null==o||""===o?e:e+=`${n}:${o}`}),"");return gt(n)},Xp=e=>{const t=new Date;return t.setDate(t.getDate()-e),t};const Yp=1e3,Zp=30,em="events",tm=2097152,nm={TYPE:"~type",SOURCE:"~source"},om={EDGE:"com.adobe.eventType.edge",RULES_ENGINE:"com.adobe.eventType.rulesEngine"},am={REQUEST:"com.adobe.eventSource.requestContent"},im="cjmiam",rm="schema",sm="insert",cm="insertIfNotExists";var lm=(e=Zp,t=Yp)=>n=>{let o=Object.entries(n).reduce(((e,[t,{timestamps:n=[]}])=>(n.forEach((n=>{e.push({key:t,timestamp:n})})),e)),[]);const a=Xp(e);return o=o.filter((({timestamp:e})=>e>=a)),o.sort(((e,t)=>e.timestamp-t.timestamp)),o=o.slice(-t),o.reduce(((e,{key:t,timestamp:n})=>(e[t]||(e[t]={timestamps:[]}),e[t].timestamps.push(n),e)),{})},dm=e=>{const{_experience:t}=e||{};return!!t&&"object"==typeof t};const um=e=>e?.scopeDetails?.activity?.id,pm=e=>e?.scopeDetails?.decisionProvider,mm=(e,t)=>n=>{try{const n=e.getItem(t);return[JSON.parse(n),n.length]}catch{}return[n,0]},gm=(e,t)=>n=>{e.setItem(t,JSON.stringify(n))},fm=()=>{const e={};return{getItem:t=>t in e?e[t]:null,setItem:(t,n)=>{e[t]=n}}},bm=e=>{e.clear()};var hm=(e=[])=>Array.isArray(e)?e.flat(1/0):e,vm=(e,t,n)=>{const{html:o,mobileParameters:a}=n;return{schema:Hc,data:{mobileParameters:a,webParameters:{},content:o,contentType:$u},id:e}},ym=(e,t,n)=>{const{schema:o,data:a,id:i}=n;return{schema:o,data:a,id:i||e}};const _m={[im]:vm,[rm]:ym};var km=()=>e=>{const{id:t,type:n,detail:o}=e;return"function"==typeof _m[n]?_m[n](t,n,o):o};const Cm=e=>{const{schema:t,data:n}=e;if(t===$c)return!0;if(t!==zc)return!1;try{const e="string"==typeof n.content?JSON.parse(n.content):n.content;return e&&Object.prototype.hasOwnProperty.call(e,"version")&&Object.prototype.hasOwnProperty.call(e,"rules")}catch{return!1}};var wm=(e,t)=>{const n=km(),o=um(e),a=[],i=e=>{const{data:t={},schema:n}=e,o=n===$c?t:t.content;o&&a.push(ie("string"==typeof o?JSON.parse(o):o,{generateEventHash:Jp}))},r=i=>{const r=t.getEvent(el,o),s=r?.timestamps[0],c=hm(a.map((e=>e.execute(i)))).map(n).map((e=>{const n=t.addEvent({eventType:rl.TRIGGER,eventId:o}).timestamps[0];return{...e,data:{...e.data,qualifiedDate:n,displayedDate:s}}}));return{...e,items:c}};return Array.isArray(e.items)&&e.items.filter(Cm).forEach(i),{rank:e?.scopeDetails?.rank||1/0,evaluate:r,isEvaluable:a.length>0}},Pm=({eventRegistry:e})=>{const t={},n=n=>{const o=um(n);if(!o)return;const a=wm(n,e);a.isEvaluable&&(t[o]=a)};return{addPayload:n,addPayloads:e=>{e.forEach(n)},evaluate:(e={})=>Object.values(t).sort((({rank:e},{rank:t})=>e-t)).map((t=>t.evaluate(e))).filter((e=>e.items.length>0))}},Em=e=>{const t=[];return e.forEach((e=>{const n=[];e.items.forEach((e=>{e.schema===Wc?t.push({operation:e.data.operation,event:{eventId:e.data.content["iam.id"],eventType:e.data.content["iam.eventType"]}}):n.push(e)})),e.items=n})),t},jm=({lifecycle:e,eventRegistry:t})=>({renderDecisions:n=!1,propositions:o=[],event:a,personalization:i})=>{if(e){const r=Em(o);t.addEventPayloads(r),e.onDecision({renderDecisions:n,propositions:o,event:a,personalization:i})}return{propositions:o}},xm=({storage:e,logger:t})=>{let n,o,a,i=e;const r=e=>{i=e;const t=mm(i,em);if(n=gm(i,em),[o,a]=t({}),a>tm){const e=lm();o=e(o),n(o)}};r(e);const s=(e={eventType:null,eventId:null},a=sm)=>{const{eventType:i,eventId:r}=e;if(!i||!r)return;const s=Jp(e);if(a===cm&&o[s])return;o[s]&&Array.isArray(o[s].timestamps)||(o[s]={timestamps:[]});const c=(new Date).getTime();return o[s].timestamps.push(c),o[s].timestamps.sort(),t.info("[Event History] Added event for",e,"with hash",s,"and timestamp",c),n(o),o[s]},c=(e=[])=>e.map((({operation:e,event:t})=>s(t,e)));return{addExperienceEdgeEvent:e=>{const{xdm:t}=e.getContent();if(!dm(t))return;const{_experience:{decisioning:{propositionEventType:n={},propositionAction:{id:o}={},propositions:a=[]}={}}}=t;Object.keys(n).filter((e=>n[e]===il)).forEach((e=>{a.forEach((t=>{pm(t)===Cp&&s({eventId:um(t),eventType:e,action:o})}))}))},addEvent:s,addEventPayloads:c,getEvent:(e,t)=>{const n=Jp({eventType:e,eventId:t});if(o[n])return o[n]},toJSON:()=>o,setStorage:r}},Am=({eventRegistry:e,window:t,getBrowser:n})=>{const o=(new Date).getTime(),a=()=>({title:t.title,url:t.url,...Xt(t.url)}),i=()=>({url:t.referrer,...Xt(t.referrer)}),r=()=>{const e=new Date,t=e.getTime();return{pageLoadTimestamp:o,currentTimestamp:t,currentDate:e.getDate(),"~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek":e.getDay()+1,"~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday":e.getHours(),currentMinute:e.getMinutes(),currentMonth:e.getMonth(),currentYear:e.getFullYear(),pageVisitDuration:t-o,"~timestampu":t/1e3,"~timestampz":e.toISOString()}},s=()=>({height:t.height,width:t.width,scrollY:t.scrollY,scrollX:t.scrollX}),c={browser:{name:n()},page:a(),referringPage:i()},l=()=>({...c,...r(),window:s(),"~sdkver":Ii});return{getContext:(t={})=>{const n={...l(),...t};return{...Ap(n),events:e.toJSON()}}}};const qm=(e,...t)=>t,Sm=()=>!0,Im=()=>{let e=qm,t=Sm,n=0;const o={},a=e=>()=>{delete o[e]},i=(e,t)=>"function"!=typeof e?()=>{}:(n+=1,o[n]={callback:e,params:t},{id:n,unsubscribe:a(n)}),r=(...n)=>{Object.values(o).forEach((({callback:o,params:a})=>{const i=e(a,...n);t(a,...i)&&o(...i)}))},s=(n,...a)=>{if(!n||!o[n])return;const{callback:i,params:r}=o[n],s=e(r,...a);t(r,...s)&&i(...s)};return{add:i,emit:r,emitOne:s,hasSubscriptions:()=>Object.keys(o).length>0,setEmissionPreprocessor:t=>{"function"==typeof t&&(e=t)},setEmissionCondition:e=>{"function"==typeof e&&(t=e)}}},Om=({options:e})=>Eo({surfaces:yo(jo()).uniqueItems(),schemas:yo(jo()).uniqueItems(),callback:ko().required()}).noUnknownFields()(e),Tm=e=>{const{id:t,scope:n,scopeDetails:o}=e;return{id:t,scope:n,scopeDetails:o}};var Dm=({collect:e})=>{let t=()=>{};const n=new Set,o=e=>[rl.INTERACT,rl.DISMISS].includes(e),a=(e,t,a)=>{const i=[e,t].join("-"),r=!a.has(i)&&(o(e)||!n.has(i));return a.add(i),n.add(i),r},i=(t,n=[])=>{if(!(n instanceof Array))return Promise.resolve();if(!Object.values(rl).includes(t))return Promise.resolve();const o=[],i=new Set;return n.forEach((e=>{const n=Tm(e);a(t,n.id,i)&&o.push(n)})),o.length>0?e({decisionsMeta:o,eventType:dl(t),documentMayUnload:!0}):Promise.resolve()},r=Im(),s=(e,t)=>{const{surfacesFilter:n,schemasFilter:o}=e;return[{propositions:t.filter((e=>!n||n.includes(e.scope))).map((e=>{const{items:t=[]}=e;return{...e,items:t.filter((e=>!o||o.includes(e.schema)))}})).filter((e=>e.items.length>0))},i]};r.setEmissionPreprocessor(s);const c=({surfaces:e,schemas:n,callback:o})=>{const{id:a,unsubscribe:i}=r.add(o,{surfacesFilter:e instanceof Array?e:void 0,schemasFilter:n instanceof Array?n:void 0});return t(a),Promise.resolve({unsubscribe:i})};return{refresh:e=>{t=t=>{t?r.emitOne(t,e):r.emit(e)},t()},command:{optionsValidator:e=>Om({options:e}),run:c}}};const Nm=({options:e})=>Eo({renderDecisions:_o(),personalization:Eo({decisionContext:Eo({})})}).noUnknownFields()(e);var Rm=({contextProvider:e,decisionProvider:t})=>({optionsValidator:e=>Nm({options:e}),run:({renderDecisions:n,decisionContext:o,applyResponse:a})=>a({renderDecisions:n,propositions:t.evaluate(e.getContext(o))})});const Lm=({config:e,eventManager:t,createNamespacedStorage:n,consent:o,getBrowser:a,logger:i})=>{const{orgId:r,personalizationStorageEnabled:s}=e,c=zd({eventManager:t,mergeDecisionsMeta:tu}),l=n(`${_t(r)}.decisioning.`);s||bm(l.persistent);const d=xm({storage:fm(),logger:i}),u=Pm({eventRegistry:d}),p=Am({eventRegistry:d,window:window,getBrowser:a}),m=Rm({contextProvider:p,decisionProvider:u}),g=Dm({collect:c});let f;return{lifecycle:{onDecision({propositions:e}){g.refresh(e)},onComponentsRegistered(e){f=jm({lifecycle:e.lifecycle,eventRegistry:d}),s&&o.awaitConsent().then((()=>{d.setStorage(l.persistent)})).catch((()=>{l&&bm(l.persistent)}))},onBeforeEvent({event:e,renderDecisions:t,personalization:n={},onResponse:o=Wt}){const{decisionContext:a={}}=n;o(qp({renderDecisions:t,decisionProvider:u,applyResponse:f,event:e,personalization:n,decisionContext:p.getContext({[nm.TYPE]:om.EDGE,[nm.SOURCE]:am.REQUEST,...a})}))},onBeforeRequest({request:e}){const t=e.getPayload().toJSON(),{events:n=[]}=t;0!==n.length&&n.forEach((e=>d.addExperienceEdgeEvent(e)))}},commands:{evaluateRulesets:{run:({renderDecisions:e,personalization:t={}})=>{const{decisionContext:n={}}=t;return m.run({renderDecisions:e,decisionContext:{[nm.TYPE]:om.RULES_ENGINE,[nm.SOURCE]:am.REQUEST,...n},applyResponse:f})},optionsValidator:m.optionsValidator},subscribeRulesetItems:g.command}}};Lm.namespace="RulesEngine",Lm.configValidators=Eo({personalizationStorageEnabled:_o().default(!1)});var Mm=Eo({streamingMedia:Eo({channel:jo().nonEmpty().required(),playerName:jo().nonEmpty().required(),appVersion:jo(),mainPingInterval:wo().minimum(10).maximum(50).default(10),adPingInterval:wo().minimum(1).maximum(10).default(10)}).noUnknownFields()}),Fm=({options:e})=>ho([Eo({playerId:jo().required(),getPlayerDetails:ko().required(),xdm:Eo({mediaCollection:Eo({sessionDetails:Eo(vo()).required()})}),edgeConfigOverrides:qo}).required(),Eo({xdm:Eo({mediaCollection:Eo({playhead:wo().required(),sessionDetails:Eo(vo()).required()})}),edgeConfigOverrides:qo}).required()],"an object with playerId, getPlayerDetails and xdm.mediaCollection.sessionDetails, or an object with xdm.mediaCollection.playhead and xdm.mediaCollection.sessionDetails")(e),Vm=({options:e})=>ho([Eo({playerId:jo().required(),xdm:Eo({eventType:xo(...Object.values(Js)).required(),mediaCollection:Eo(vo())}).required()}).required(),Eo({xdm:Eo({eventType:xo(...Object.values(Js)).required(),mediaCollection:Eo({playhead:wo().integer().required(),sessionID:jo().required()}).required()}).required()}).required()],"Error validating the sendMediaEvent command options.")(e),Bm=({config:e,trackMediaEvent:t,trackMediaSession:n,mediaResponseHandler:o})=>({lifecycle:{onBeforeEvent({mediaOptions:e,onResponse:t=Wt}){if(!e)return;const{legacy:n,playerId:a,getPlayerDetails:i}=e;n||t((({response:e})=>o({playerId:a,getPlayerDetails:i,response:e})))}},commands:{createMediaSession:{optionsValidator:e=>Fm({options:e}),run:n},sendMediaEvent:{optionsValidator:e=>Vm({options:e}),run:n=>e.streamingMedia?t(n):Promise.reject(new Error("Streaming media is not configured."))}}});const Um=({config:e,logger:t,eventManager:n,sendEdgeNetworkRequest:o,consent:a})=>{const i=ec(),r=Ys({config:e,eventManager:n,consent:a,sendEdgeNetworkRequest:o,setTimestamp:qi((()=>new Date))}),s=nc({mediaSessionCacheManager:i,mediaEventManager:r,config:e}),c=oc({config:e,mediaEventManager:r,mediaSessionCacheManager:i}),l=ic({mediaSessionCacheManager:i,config:e,trackMediaEvent:s});return Bm({config:e,trackMediaEvent:s,mediaResponseHandler:l,trackMediaSession:c})};Um.namespace="Streaming media",Um.configValidators=Mm,Eo({advertising:Eo({id5PartnerId:jo(),rampIdJSPath:jo(),dspEnabled:_o(),advertiserSettings:yo(Eo({advertiserId:jo().required(),enabled:_o().required()}).noUnknownFields())}).noUnknownFields()}),Eo({pushNotifications:Eo({vapidPublicKey:jo().required(),appId:jo().required(),trackingDatasetId:jo().required()}).noUnknownFields()});const{console:zm}=window,$m=Vt(window),Gm=(e={})=>{const t=Eo({name:jo().default("alloy"),monitors:yo(Eo({})).default([]),components:yo(ko())}).noUnknownFields(),{name:n,monitors:o,components:a}=t(e),i=Io({console:zm,locationSearch:window.location.search,createLogger:Sa,instanceName:n,createNamespacedStorage:$m,getMonitors:Ci.bind(null,o)}),r=Vr({instanceName:n,logController:i,components:a});return i.logger.logOnInstanceCreated({instance:r}),r};t.createCustomInstance=Gm,t.components=[Ss,Ds,Hs,Ks,_c,Pp,Lm,Um]}},"adobe-alloy/dist/lib/instanceManager/createInstanceManager.js":{script:function(e){"use strict";e.exports=({turbine:e,window:t,createCustomInstance:n,components:o,createEventMergeId:a,orgId:i,wrapOnBeforeEventSend:r,getConfigOverrides:s})=>{const{instances:c}=e.getExtensionSettings(),l={},d={};return t.__alloyMonitors=t.__alloyMonitors||[],t.__alloyMonitors.push({onInstanceCreated:(...e)=>{d.onInstanceCreated||=[],d.onInstanceCreated.push(e)},onInstanceConfigured:(...e)=>{d.onInstanceConfigured||=[],d.onInstanceConfigured.push(e)},onBeforeCommand(...e){const{commandName:t}=e[0];"configure"===t&&(d.onBeforeCommand||=[],d.onBeforeCommand.push(e))}}),c.forEach((({name:a,edgeConfigId:c,stagingEdgeConfigId:d,developmentEdgeConfigId:u,onBeforeEventSend:p,...m})=>{const g=n({name:a,components:o});t[a]=g,t.__alloyNS||(t.__alloyNS=[]),t.__alloyNS.push(a),l[a]=g;const f=e.environment&&e.environment.stage,b="development"===f&&u||"staging"===f&&d||c;m.edgeConfigOverrides=s(m),g("configure",{...m,datastreamId:b,debugEnabled:e.debugEnabled,orgId:m.orgId||i,onBeforeEventSend:r(p)}),e.onDebugChanged((e=>{g("setDebug",{enabled:e})}))})),{getInstance:e=>l[e],createEventMergeId:()=>a(),addMonitor(e){t.__alloyMonitors.push(e),Object.keys(d).forEach((t=>{e[t]&&d[t].forEach((n=>{e[t](...n)}))}))}}}}},"adobe-alloy/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js":{script:function(e){"use strict";e.exports=({version:e})=>t=>n=>{if(n.xdm.implementationDetails.name=`${n.xdm.implementationDetails.name}/reactor`,n.xdm.implementationDetails.version=`${n.xdm.implementationDetails.version}+${e}`,t)return t(n)}}},"adobe-alloy/dist/lib/actions/updateVariable/createUpdateVariable.js":{script:function(e,t,n){"use strict";const{deletePath:o}=n("../../utils/pathUtils");e.exports=({variableStore:e,deepAssign:t})=>({data:n,dataElementId:a,transforms:i,customCode:r},s)=>{var c;const l=Object.keys(i||{}).reduce(((e,t)=>{const{clear:n}=i[t];return n?o(e,t):e}),e[a]||{});e[a]=t({},l,n),r&&r(e[a],s);const d=(null===(c=e[a])||void 0===c?void 0:c.__adobe)||{};return d.audienceManager&&(d.audiencemanager=d.audienceManager,delete d.audienceManager),Promise.resolve()}}},"adobe-alloy/dist/lib/utils/pathUtils.js":{script:function(e,t){"use strict"
;const n=/^-?[0-9]+$/,o=e=>e.split(".").map((e=>n.test(e)?parseInt(e,10):e)).filter((e=>""!==e)),a=e=>{const t=e||{};return"object"!=typeof t?{}:t},i=e=>{const t=e||[];return Array.isArray(t)?t:[]},r=(e,t,n)=>{if("number"==typeof t){const o=e.slice();return o[t]=n,o}return{...e,[t]:n}},s=(e,t)=>{if("number"==typeof t)return[...e.slice(0,t),...e.slice(t+1)];const n={...e};return delete n[t],n},c=(e,t,n,o,s)=>{if(o===n.length)return s(e,t);let l,d=n[o];return"number"==typeof d?(l=i(e[t]),d=d<0?l.length+d:d,d=d<0?0:d):l=a(e[t]),r(e,t,c(l,d,n,o+1,s))},l=e=>(t,n,a)=>c({value:t},"value",o(n),0,((t,n)=>e(t,n,a))).value;t.setValue=l(r),t.deletePath=l(s)}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP1b7d885611af4410a124781998596ed6/",modules:{"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-cookie");e.exports=function(e){return o.get(e.name)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),a=n("@adobe/reactor-query-string");e.exports=function(e){var t=a.parse(o.location.search);if(!e.caseInsensitive)return t[e.name];for(var n=e.name.toLowerCase(),i=Object.keys(t),r=0;r<i.length;r++){var s=i[r];if(s.toLowerCase()===n)return t[s]}}}},"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/constant.js":{name:"constant",displayName:"Constant",script:function(e){"use strict";e.exports=function(e){return e.value}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,n){"use strict";var o=n("./helpers/createBubbly")(),a=[];e.exports=function(e,t){var n=e.type;-1===a.indexOf(n)&&(a.push(n),window.addEventListener(n,o.evaluateEvent,!0)),o.addListener(e,(function(e){e.nativeEvent.type===n&&(e.detail=e.nativeEvent.detail,t(e))}))}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var o=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-cookie"),a=n("../helpers/textMatch");e.exports=function(e){var t=o.get(e.name);return!!t&&(Array.isArray(e.cookieValues)?e.cookieValues:[{value:e.value,valueIsRegex:Boolean(e.valueIsRegex)}]).some((function(e){var n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return a(t,n)}))}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n,o){"use strict";var a,i,r,s,c=n("@adobe/reactor-document"),l=n("@adobe/reactor-promise"),d=n("./helpers/decorateCode"),u=n("./helpers/loadCodeSequentially"),p=n("../../../node_modules/postscribe/dist/postscribe"),m=n("./helpers/unescapeHtmlCode"),g=n("../helpers/findPageScript").getTurbine,f=(i=function(e){p(c.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return a&&"script"===t&&(e.attrs.nonce=a),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=m(e.attrs[t])})),e.src&&(e.src=m(e.src))),e},error:function(e){o.logger.error(e.msg)}})},r=[],s=function(){if(c.body)for(;r.length;)i(r.shift());else setTimeout(s,20)},function(e){r.push(e),s()}),b=function(){if(c.currentScript)return c.currentScript.async;var e=g();return!e||e.async}();e.exports=function(e,t){var n;a=o.getExtensionSettings().cspNonce;var i={settings:e,event:t},r=i.settings.source;if(r)return i.settings.isExternal?u(r).then((function(e){return e?(n=d(i,e),f(n.code),n.promise):l.resolve()})):(n=d(i,r),b||"loading"!==c.readyState?f(n.code):c.write&&!1===o.propertySettings.ruleComponentSequencingEnabled?c.write(n.code):f(n.code),n.promise)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,n){"use strict";var o=n("../helpers/stringAndNumberUtils").isString,a=n("../helpers/stringAndNumberUtils").isNumber,i=n("../helpers/stringAndNumberUtils").castToStringIfNumber,r=n("../helpers/stringAndNumberUtils").castToNumberIfString,s=function(e,t){return t&&o(e)?e.toLowerCase():e},c=function(e){return function(t,n,a){return t=i(t),n=i(n),o(t)&&o(n)&&e(t,n,a)}},l=function(e){return function(t,n){return t=r(t),n=r(n),a(t)&&a(n)&&e(t,n)}},d=function(e){return function(t,n,o){return e(s(t,o),s(n,o))}},u={equals:d((function(e,t){return e==t})),doesNotEqual:function(){return!u.equals.apply(null,arguments)},contains:c(d((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!u.contains.apply(null,arguments)},startsWith:c(d((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!u.startsWith.apply(null,arguments)},endsWith:c(d((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!u.endsWith.apply(null,arguments)},matchesRegex:c((function(e,t,n){return new RegExp(t,n?"i":"").test(e)})),doesNotMatchRegex:function(){return!u.matchesRegex.apply(null,arguments)},lessThan:l((function(e,t){return e<t})),lessThanOrEqual:l((function(e,t){return e<=t})),greaterThan:l((function(e,t){return e>t})),greaterThanOrEqual:l((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return u[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),a=n("./helpers/createBubbly")(),i=new(n("./helpers/weakMap")),r=2,s=n("../helpers/stringAndNumberUtils").castToNumberIfString,c=function(e){if(!e.ctrlKey&&!e.metaKey&&e.button!==r)for(var t=e.target;t;){var n=t.tagName;if(n&&"a"===n.toLowerCase()){var a=t.getAttribute("href"),i=t.getAttribute("target");return a&&(!i||"_self"===i||"_top"===i&&o.top===o||i===o.name)?t:void 0}t=t.parentNode}};document.addEventListener("click",a.evaluateEvent,!0),e.exports=function(e,t){a.addListener(e,(function(n){var a=n.nativeEvent;if(!a.s_fe){var r=s(e.anchorDelay);if(r&&!i.has(a)){var l=c(a);l&&(a.preventDefault(),setTimeout((function(){o.location=l.href}),r)),i.set(a,!0)}t(n)}}))},e.exports.__reset=a.__reset}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,n,o){"use strict";var a={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var n=a[e];if(n){var i={identifier:e,detail:t};n.forEach((function(e){e(i)}));var r=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&r.push(t),o.logger.log.apply(o.logger,r)}else o.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var n=a[e.identifier];n||(n=a[e.identifier]=[]),n.push(t)}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,n){"use strict";var o=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerPageBottomTrigger(t)}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,n){"use strict";var o=n("./weakMap"),a=n("./matchesProperties"),i=n("./matchesSelector");e.exports=function(){var e=[],t=new o,n={addListener:function(t,n){e.push({settings:t,callback:n})},evaluateEvent:function(n,o){if(e.length&&!t.has(n)){for(var r=n.target,s=!1;r;){for(var c=!1,l=!1,d=0;d<e.length;d++){var u=e[d],p=u.settings.elementSelector,m=u.settings.elementProperties;if((!1!==u.settings.bubbleFireIfChildFired||!s)&&(r===n.target||!1!==u.settings.bubbleFireIfParent)&&(r===n.target||p||m&&Object.keys(m).length)&&(!p||i(r,p))&&(!m||a(r,m))){var g={};o?Object.keys(n).forEach((function(e){g[e]=n[e]})):g.nativeEvent=n,g.element=r,g.target=n.target,!1!==u.callback(g)&&(l=!0,u.settings.bubbleStop&&(c=!0))}}if(c)break;l&&(s=!0),r=r.parentNode}t.set(n,!0)}},__reset:function(){e=[]}};return n}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window").WeakMap;if(void 0===o){var a=Object.defineProperty,i=Date.now()%1e9;(o=function(){this.name="__st"+(1e9*Math.random()>>>0)+i+++"__"}).prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:a(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=o}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,n){"use strict";var o=n("./../../helpers/textMatch"),a=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var n=a(e,t.name),i=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return o(n,i)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,n,o){"use strict";e.exports=function(e,t){var n=e.matches||e.msMatchesSelector;if(n)try{return n.call(e,t)}catch(e){return o.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),a=n("@adobe/reactor-document"),i=-1!==o.navigator.appVersion.indexOf("MSIE 10"),r="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",l=[c,s,r],d=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};l.forEach((function(e){u[e]=[]}));var p=function(e,t){l.slice(0,g(e)+1).forEach((function(e){f(t,e)}))},m=function(){return"complete"===a.readyState?r:"interactive"===a.readyState?i?null:s:void 0},g=function(e){return l.indexOf(e)},f=function(e,t){u[t].forEach((function(t){b(e,t)})),u[t]=[]},b=function(e,t){var n=t.trigger,o=t.syntheticEventFn;n(o?o(e):null)};o._satellite=o._satellite||{},o._satellite.pageBottom=p.bind(null,c),a.addEventListener("DOMContentLoaded",p.bind(null,s),!0),o.addEventListener("load",p.bind(null,r),!0),o.setTimeout((function(){var e=m();e&&p(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[c].push({trigger:e})},registerDomReadyTrigger:function(e){u[s].push({trigger:e,syntheticEventFn:d.bind(null,a)})},registerWindowLoadedTrigger:function(e){u[r].push({trigger:e,syntheticEventFn:d.bind(null,o)})}}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,n){"use strict";var o=n("./decorators/decorateGlobalJavaScriptCode"),a=n("./decorators/decorateNonGlobalJavaScriptCode"),i={javascript:function(e,t){return e.settings.global?o(e,t):a(e,t)},html:n("./decorators/decorateHtmlCode")};e.exports=function(e,t){return i[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise"),a=n("./getSourceByUrl"),i=o.resolve();e.exports=function(e){var t=new o((function(t){var n=a(e);o.all([n,i]).then((function(e){var n=e[0];t(n)}))}));return i=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var n,o;n=this,o=function(){return function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(1));e.exports=a.default},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function i(){}function r(){var e=g.shift();if(e){var t=u.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,n){function o(e){e=n.beforeWrite(e),f.write(e),n.afterWrite(e)}(f=new d.default(e,n)).id=m++,f.name=n.name||f.id,c.streams[f.name]=f;var a=e.ownerDocument,s={close:a.close,open:a.open,write:a.write,writeln:a.writeln};l(a,{close:i,open:i,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t.join("")+"\n")}});var u=f.win.onerror||i;return f.win.onerror=function(e,t,o){n.error({msg:e+" - "+t+": "+o}),u.apply(f.win,[e,t,o])},f.write(t,(function(){l(a,s),f.win.onerror=u,n.done(),f=null,r()})),f}function c(e,t,n){if(u.isFunction(n))n={done:n};else if("clear"===n)return g=[],f=null,void(m=0);n=u.defaults(n,p);var o=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){o.stream?o.stream.abort():o[1]=i}},n.beforeEnqueue(o),g.push(o),f||r(),e.postscribe}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=c;var d=a(n(2)),u=o(n(4)),p={afterAsync:i,afterDequeue:i,afterStreamStart:i,afterWrite:i,autoFix:!0,beforeEnqueue:i,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:i,error:function(e){throw new Error(e.msg)},releaseAsync:!1},m=0,g=[],f=null;l(c,{streams:{},queue:g,WriteStream:d.default})},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){var n=p+t,o=e.getAttribute(n);return d.existy(o)?String(o):o}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=p+t;d.existy(n)&&""!==n?e.setAttribute(o,n):e.removeAttribute(o)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=a(n(3)),d=o(n(4)),u=!1,p="data-ps-",m="ps-style",g="ps-script",f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.root=t,this.options=n,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new l.default("",{autoFix:n.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();d.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,o=void 0,a=[];(t=this.parser.readToken())&&!(n=d.isScript(t))&&!(o=d.isStyle(t));)(t=this.options.beforeWriteToken(t))&&a.push(t);a.length>0&&this._writeStaticTokens(a),n&&this._handleScriptToken(t),o&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,u&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),u&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],o=[],a=[],i=e.length,r=0;r<i;r++){var s=e[r],c=s.toString();if(n.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var l=t++;o.push(c.replace(/(\/?>)/," "+p+"id="+l+" $1")),s.attrs.id!==g&&s.attrs.id!==m&&a.push("atomicTag"===s.type?"":"<"+s.tagName+" "+p+"proxyof="+l+(s.unary?" />":">"))}}else o.push(c),a.push("endTag"===s.type?c:"")}return{tokens:e,raw:n.join(""),actual:o.join(""),proxy:a.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];d.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!r(e,"proxyof")){n&&(this.actuals[r(e,"id")]=e,s(e,"id"));var o=e.parentNode&&r(e.parentNode,"proxyof");o&&this.actuals[o].appendChild(e)}t.unshift.apply(t,d.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,m),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),d.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),o=this._shouldRelease(n),a=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,o?a:function(){t(),a()}));try{this._insertCursor(n,g),n.src&&!o||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return d.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}function o(){n(),null!=t&&t(),t=null}function a(e){n(),r(e),null!=t&&t(),t=null}function i(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var r=this.options.error;i(e,"load"),i(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){a({msg:"onload handler failed "+t+" @ "+e.src})}o()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void a({msg:"onerror handler failed "+t+" @ "+e.src})}a({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&o()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=f},function(e){var t;t=function(){return function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(1));e.exports=a.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=a(n(2)),s=a(n(3)),c=o(n(6)),l=n(5),d={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.stream=n;var a=!1,s={};for(var l in r)r.hasOwnProperty(l)&&(o.autoFix&&(s[l+"Fix"]=!0),a=a||s[l+"Fix"]);a?(this._readToken=(0,c.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in d)if(d.hasOwnProperty(e)&&d[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var p in t.default=u,u.tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,l.escapeQuotes)(e[n],null));return t},u.supports=r,r)r.hasOwnProperty(p)&&(u.browserHasFlaw=u.browserHasFlaw||!r[p]&&p)},function(e,t){"use strict";t.__esModule=!0;var n=!1,o=!1,a=window.document.createElement("div");try{var i="<P><I></P></I>";a.innerHTML=i,t.tagSoup=n=a.innerHTML!==i}catch(e){t.tagSoup=n=!1}try{a.innerHTML="<P><i><P></P></i></P>",t.selfClose=o=2===a.childNodes.length}catch(e){t.selfClose=o=!1}a=null,t.tagSoup=n,t.selfClose=o},function(e,t,n){"use strict";function o(e){var t=e.indexOf("-->");if(t>=0)return new l.CommentToken(e.substr(4,t-1),t+3)}function a(e){var t=e.indexOf("<");return new l.CharsToken(t>=0?t:e.length)}function i(e){var t,n,o;if(-1!==e.indexOf(">")){var a=e.match(d.startTag);if(a){var i=(t={},n={},o=a[2],a[2].replace(d.attr,(function(e,a){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[a]=arguments[2]||arguments[3]||arguments[4]||d.fillAttr.test(a)&&a||"":t[a]="",o=o.replace(e,"")})),{v:new l.StartTagToken(a[1],a[0].length,t,n,!!a[3],o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===i?"undefined":c(i)))return i.v}}}function r(e){var t=i(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var o=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(o)return new l.AtomicTagToken(t.tagName,o[0].length+t.length,t.attrs,t.booleanAttrs,o[1])}}}function s(e){var t=e.match(d.endTag);if(t)return new l.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=o,t.chars=a,t.startTag=i,t.atomicTag=r,t.endTag=s;var l=n(4),d={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var a=n(5),i=(t.Token=function e(t,n){o(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=function(){function e(t,n){o(this,e),this.type="comment",this.length=n||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){o(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,n,a,i,r){o(this,e),this.type=t,this.length=a,this.text="",this.tagName=n,this.attrs=i,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="<"+e.tagName;for(var o in e.attrs)if(e.attrs.hasOwnProperty(o)){n+=" "+o;var i=e.attrs[o];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[o]||(n+='="'+(0,a.escapeQuotes)(i)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=t&&(n+=t+"</"+e.tagName+">"),n},e}());t.StartTagToken=function(){function e(t,n,a,i,r,s){o(this,e),this.type="startTag",this.length=n,this.text="",this.tagName=t,this.attrs=a,this.booleanAttrs=i,this.html5Unary=!1,this.unary=r,this.rest=s}return e.prototype.toString=function(){return i.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,n,a,i,r){o(this,e),this.type="atomicTag",this.length=n,this.text="",this.tagName=t,this.attrs=a,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1,this.content=r}return e.prototype.toString=function(){return i.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,n){o(this,e),this.type="endTag",this.length=n,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=n},function(e,t){"use strict";function n(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function o(e,t){var o=e.stream,a=n(t());return e.stream=o,a}function a(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}function i(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}function r(e,t,r){function s(){var t=o(e,r);t&&d[t.type]&&d[t.type](t)}var l=i(),d={startTag:function(n){var o=n.tagName;"TR"===o.toUpperCase()&&l.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&c.test(o)&&l.containsTagName(o)?l.lastTagNameEq(o)?a(e,l):(e.prepend("</"+n.tagName+">"),s()):n.unary||l.push(n)},endTag:function(n){l.last()?t.tagSoupFix&&!l.lastTagNameEq(n.tagName)?a(e,l):l.pop():t.tagSoupFix&&(r(),s())}};return function(){return s(),n(r())}}t.__esModule=!0,t.default=r;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function n(e){return null!=e}function o(e){return"function"==typeof e}function a(e,t,n){var o=void 0,a=e&&e.length||0;for(o=0;o<a;o++)t.call(n,e[o],o)}function i(e,t,n){for(var o in e)e.hasOwnProperty(o)&&t.call(n,o,e[o])}function r(e,t){return e=e||{},i(t,(function(t,o){n(e[t])||(e[t]=o)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(o){var t=(n=[],a(e,(function(e){n.push(e)})),{v:n});if("object"===(void 0===t?"undefined":p(t)))return t.v}var n}function c(e){return e[e.length-1]}function l(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function d(e){return l(e,"script")}function u(e){return l(e,"style")}t.__esModule=!0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=o,t.each=a,t.eachKey=i,t.defaults=r,t.toArray=s,t.last=c,t.isTag=l,t.isScript=d,t.isStyle=u}])},"object"==typeof t&&"object"==typeof e?e.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof t?t.postscribe=o():n.postscribe=o()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document").createElement("div");e.exports=function(e){return o.innerHTML=e,o.textContent||o.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document"),a=function(e){for(var t=o.querySelectorAll("script"),n=0;n<t.length;n++){var a=t[n];if(e.test(a.src))return a}},i=function(){return a(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:i,byRegexPattern:a}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:o.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise"),a=0;e.exports=function(e,t){var n="_runScript"+ ++a,i=new o((function(t,a){_satellite[n]=function(i){delete _satellite[n],new o((function(t){t(i.call(e.event.element,e.event,e.event.target,o))})).then(t,a)}}));return{code:'<script>_satellite["'+n+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:i}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,n,o){"use strict";var a=n("@adobe/reactor-promise"),i=0,r={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=r[e];t&&(delete r[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=r[e];t&&(delete r[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},l=function(e){return e.settings.isExternal};e.exports=function(e,t){var n;return l(e)&&(t=o.replaceTokens(t,e.event)),s(t)?(n=new a((function(e,t){r[String(i)]={resolve:e,reject:t}})),t=c(t,i),i+=1):n=a.resolve(),{code:t,promise:n}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-load-script"),a=n("@adobe/reactor-promise"),i=n("../../helpers/findPageScript").byRegexPattern,r={},s={},c=function(e){return s[e]||(s[e]=o(e)),s[e]};_satellite.__registerScript=function(e,t){var n;if(document.currentScript)n=document.currentScript.getAttribute("src");else{var o=new RegExp(".*"+e+".*");n=i(o).getAttribute("src")}r[n]=t},e.exports=function(e){return r[e]?a.resolve(r[e]):new a((function(t){c(e).then((function(){t(r[e])}),(function(){t()}))}))}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},o=function(e){return t(e)?String(e):e},a=function(e){return n(e)?Number(e):e};e.exports={isNumber:t,isString:n,castToStringIfNumber:o,castToNumberIfString:a}}}}},"gcoe-adobe-client-data-layer":{displayName:"Adobe Client Data Layer",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP6e4c031a8b7640d7ac3fab013fa28b17/",settings:{dataLayerName:"digitalData",injectLibrary:!1},modules:{"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js":{name:"datalayer-computed-state",displayName:"Data Layer Computed State",script:function(e,t,n){"use strict";e.exports=function(e){if(null!=e){var t=o();if(void 0!==t)return""!==e.path?t.getState(e.path):t.getState()}};var o=n("../util/getDataLayer")}},"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js":{name:"datalayer-push",displayName:"Data Pushed",script:function(e,t,n){"use strict";e.exports=function(e,t){if(null!=e){
var n=e.method,a=e.eventKey,i=e.scope,r=o(),s=function(e){var n={message:e,beforeState:{},afterState:{},fullState:r.getState()};t(n)},c={};void 0!==i&&(c.scope=i),"allData"===n?r.push((function(e){e.addEventListener("adobeDataLayer:change",s,c)})):"allEvents"===n?r.push((function(e){e.addEventListener("adobeDataLayer:event",s,c)})):"specificEvent"===n&&""!==a&&r.push((function(e){e.addEventListener(a,s,c)}))}};var o=n("../util/getDataLayer")}},"gcoe-adobe-client-data-layer/src/lib/main.js":{script:function(e,t,n,o){var a=o.getExtensionSettings(),i=a.dataLayerName,r=a.injectLibrary;if(window.adobeDataLayer=window.adobeDataLayer||[],"object"!=typeof window.adobeDataLayer&&(o.logger.log("Initializing adobeDataLayer to [] as it isn't an object yet."),window.adobeDataLayer=[]),"adobeDataLayer"!==i&&("object"==typeof window[i]?(o.logger.log('Using "'+i+'" instead of "adobeDataLayer" as data layer name.'),window.adobeDataLayer.push((function(e){for(var t=0;t<window[i].length;t++)e.push(window[i][t]);window[i]=e}))):o.logger.warn('Could not use "'+i+'" instead of "adobeDataLayer", because the object does not exist!')),r&&void 0===window.adobeDataLayer.getState){function s(e,t){return d(e)||l(e,t)||p(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,a=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}return n}}function d(e){if(Array.isArray(e))return e}function u(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=p(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a,i=!0,r=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return i=e.done,e},e:function(e){r=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(r)throw a}}}}function p(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o.logger.log("Initializing adobeDataLayer as it wasn't found during the initialization."),function e(t,o,a){function i(s,c){if(!o[s]){if(!t[s]){var l="function"==typeof n&&n;if(!c&&l)return l(s,!0);if(r)return r(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=o[s]={exports:{}};t[s][0].call(u.exports,(function(e){return i(t[s][1][e]||e)}),u,u.exports,e,t,o,a)}return o[s].exports}for(var r="function"==typeof n&&n,s=0;s<a.length;s++)i(a[s]);return i}({1:[function(e,t,n){(function(e){(function(){function o(e,t){for(var n=-1,o=null==e?0:e.length,a=0,i=[];++n<o;){var r=e[n];t(r,n,e)&&(i[a++]=r)}return i}function a(e,t){for(var n=-1,o=null==e?0:e.length,a=Array(o);++n<o;)a[n]=t(e[n],n,e);return a}function i(e,t){for(var n=-1,o=t.length,a=e.length;++n<o;)e[a+n]=t[n];return e}function r(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}function s(e,t,n){var o=e.length;for(n+=-1;++n<o;)if(t(e[n],n,e))return n;return-1}function c(e){return e!=e}function l(e){return function(t){return e(t)}}function d(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}function u(e){var t=Object;return function(n){return e(t(n))}}function p(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function m(){}function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function b(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function h(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function v(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new h;++t<n;)this.add(e[t])}function y(e){this.size=(this.__data__=new b(e)).size}function _(e,t){var n,o=yn(e),a=!o&&vn(e),i=!o&&!a&&_n(e),r=!o&&!a&&!i&&wn(e);if(o=o||a||i||r){a=e.length;for(var s=String,c=-1,l=Array(a);++c<a;)l[c]=s(c);a=l}else a=[];for(n in s=a.length,e)!t&&!yt.call(e,n)||o&&("length"==n||i&&("offset"==n||"parent"==n)||r&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||te(n,s))||a.push(n);return a}function k(e,t,n){(n===Ve||me(e[t],n))&&(n!==Ve||t in e)||P(e,t,n)}function C(e,t,n){var o=e[t];yt.call(e,t)&&me(o,n)&&(n!==Ve||t in e)||P(e,t,n)}function w(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1}function P(e,t,n){"__proto__"==t&&Dt?Dt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function E(e,t,n,o,a,i){var r,s=1&t,c=2&t,l=4&t;if(n&&(r=a?n(e,o,a,i):n(e)),r!==Ve)return r;if(!ve(e))return e;if(o=yn(e)){if(r=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&yt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return U(e,r)}else{var d=sn(e),u="[object Function]"==d||"[object GeneratorFunction]"==d;if(_n(e))return F(e,s);if("[object Object]"==d||"[object Arguments]"==d||u&&!a){if(r=c||u?{}:Z(e),!s)return c?function(e,t){return z(e,rn(e),t)}(e,function(e,t){return e&&z(t,Ie(t),e)}(r,e)):function(e,t){return z(e,an(e),t)}(e,function(e,t){return e&&z(t,Se(t),e)}(r,e))}else{if(!tt[d])return a?e:{};r=function(e,t,n){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return V(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return t=n?V(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return B(e,n);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return(t=new e.constructor(e.source,We.exec(e))).lastIndex=e.lastIndex,t;case"[object Symbol]":return Yt?Object(Yt.call(e)):{}}}(e,d,s)}}if(a=(i=i||new y).get(e))return a;if(i.set(e,r),Cn(e))return e.forEach((function(o){r.add(E(o,t,n,o,e,i))})),r;if(kn(e))return e.forEach((function(o,a){r.set(a,E(o,t,n,a,e,i))})),r;c=l?c?W:Q:c?Ie:Se;var p=o?Ve:c(e);return function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););}(p||e,(function(o,a){p&&(o=e[a=o]),C(r,a,E(o,t,n,a,e,i))})),r}function j(e,t){for(var n=0,o=(t=M(t,e)).length;null!=e&&n<o;)e=e[re(t[n++])];return n&&n==o?e:Ve}function x(e,t,n){return t=t(e),yn(e)?t:i(t,n(e))}function A(e){if(null==e)e=e===Ve?"[object Undefined]":"[object Null]";else if(Tt&&Tt in Object(e)){var t=yt.call(e,Tt),n=e[Tt];try{e[Tt]=Ve;var o=!0}catch(e){}var a=kt.call(e);o&&(t?e[Tt]=n:delete e[Tt]),e=a}else e=kt.call(e);return e}function q(e,t){return null!=e&&yt.call(e,t)}function S(e,t){return null!=e&&t in Object(e)}function I(e){return ye(e)&&"[object Arguments]"==A(e)}function O(e,t,n,o,a){if(e===t)t=!0;else if(null==e||null==t||!ye(e)&&!ye(t))t=e!=e&&t!=t;else e:{var i,r,s=yn(e),c=yn(t),l="[object Object]"==(i="[object Arguments]"==(i=s?"[object Array]":sn(e))?"[object Object]":i);if(c="[object Object]"==(r="[object Arguments]"==(r=c?"[object Array]":sn(t))?"[object Object]":r),(r=i==r)&&_n(e)){if(!_n(t)){t=!1;break e}l=!(s=!0)}if(r&&!l)a=a||new y,t=s||wn(e)?H(e,t,n,o,O,a):function(e,t,n,o,a,i,r){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!i(new jt(e),new jt(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return me(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=d;case"[object Set]":if(s=s||p,e.size!=t.size&&!(1&o))break;return(n=r.get(e))?n==t:(o|=2,r.set(e,t),t=H(s(e),s(t),o,a,i,r),r.delete(e),t);case"[object Symbol]":if(Yt)return Yt.call(e)==Yt.call(t)}return!1}(e,t,i,n,o,O,a);else{if(!(1&n)&&(s=l&&yt.call(e,"__wrapped__"),i=c&&yt.call(t,"__wrapped__"),s||i)){t=O(e=s?e.value():e,t=i?t.value():t,n,o,a=a||new y);break e}if(r)t:if(a=a||new y,s=1&n,i=Q(e),c=i.length,r=Q(t).length,c==r||s){for(l=c;l--;){var u=i[l];if(!(s?u in t:yt.call(t,u))){t=!1;break t}}if((r=a.get(e))&&a.get(t))t=r==t;else{r=!0,a.set(e,t),a.set(t,e);for(var m=s;++l<c;){var g=e[u=i[l]],f=t[u];if(o)var b=s?o(f,g,u,t,e,a):o(g,f,u,e,t,a);if(b===Ve?g!==f&&!O(g,f,n,o,a):!b){r=!1;break}m=m||"constructor"==u}r&&!m&&(n=e.constructor)!=(o=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof o&&o instanceof o)&&(r=!1),a.delete(e),a.delete(t),t=r}}else t=!1;else t=!1}}return t}function T(e){return"function"==typeof e?e:null==e?De:"object"==g(e)?yn(e)?function(e,t){return ne(e)&&t==t&&!ve(t)?ae(re(e),t):function(n){var o=Ae(n,e);return o===Ve&&o===t?qe(n,e):O(t,o,3)}}(e[0],e[1]):function(e){var t=function(e){for(var t=Se(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,a==a&&!ve(a)]}return t}(e);return 1==t.length&&t[0][2]?ae(t[0][0],t[0][1]):function(n){return n===e||function(e,t){var n=t.length,o=n;if(null==e)return!o;for(e=Object(e);n--;)if((a=t[n])[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1;for(;++n<o;){var a,i=(a=t[n])[0],r=e[i],s=a[1];if(a[2]){if(r===Ve&&!(i in e))return!1}else if(a=new y,void 0!==Ve||!O(s,r,3,void 0,a))return!1}return!0}(n,t)}}(e):Re(e)}function D(e){if(!oe(e))return Lt(e);var t,n=[];for(t in Object(e))yt.call(e,t)&&"constructor"!=t&&n.push(t);return n}function N(e,t,n,o,a){e!==t&&nn(t,(function(i,r){if(ve(i)){var s=a=a||new y,c="__proto__"==r?Ve:e[r],l="__proto__"==r?Ve:t[r];if(g=s.get(l))k(e,r,g);else{var d=(g=o?o(c,l,r+"",e,t,s):Ve)===Ve;if(d){var u=yn(l),p=!u&&_n(l),m=!u&&!p&&wn(l),g=l;u||p||m?g=yn(c)?c:fe(c)?U(c):p?F(l,!(d=!1)):m?B(l,!(d=!1)):[]:_e(l)||vn(l)?vn(g=c)?g=je(c):(!ve(c)||n&&be(c))&&(g=Z(l)):d=!1}d&&(s.set(l,g),N(g,l,n,o,s),s.delete(l)),k(e,r,g)}}else(s=o?o("__proto__"==r?Ve:e[r],i,r+"",e,t,a):Ve)===Ve&&(s=i),k(e,r,s)}),Ie)}function R(e){if("string"==typeof e)return e;if(yn(e))return a(e,R)+"";if(Ce(e))return Zt?Zt.call(e):"";var t=e+"";return"0"==t&&1/e==-Be?"-0":t}function L(e,t){var n;if((t=M(t,e)).length<2)n=e;else{var o=0,a=-1,i=-1,r=(n=t).length;for(o<0&&(o=r<-o?0:r+o),(a=r<a?r:a)<0&&(a+=r),r=a<o?0:a-o>>>0,o>>>=0,a=Array(r);++i<r;)a[i]=n[i+o];n=j(e,a)}null==(e=n)||delete e[re(de(t))]}function M(e,t){return yn(e)?e:ne(e,t)?[e]:fn(xe(e))}function F(e,t){if(t)return e.slice();var n=e.length;return n=xt?xt(n):new e.constructor(n),e.copy(n),n}function V(e){var t=new e.constructor(e.byteLength);return new jt(t).set(new jt(e)),t}function B(e,t){return new e.constructor(t?V(e.buffer):e.buffer,e.byteOffset,e.length)}function U(e,t){var n=-1,o=e.length;for(t=t||Array(o);++n<o;)t[n]=e[n];return t}function z(e,t,n){var o=!n;n=n||{};for(var a=-1,i=t.length;++a<i;){var r=t[a],s=Ve;s===Ve&&(s=e[r]),o?P(n,r,s):C(n,r,s)}return n}function $(e){return function(e){return gn(ie(e,void 0,De),e+"")}((function(t,n){var o,a=-1,i=n.length,r=1<i?n[i-1]:Ve,s=2<i?n[2]:Ve;if(r=3<e.length&&"function"==typeof r?(i--,r):Ve,o=s){o=n[0];var c=n[1];if(ve(s)){var l=g(c);o=!!("number"==l?ge(s)&&te(c,s.length):"string"==l&&c in s)&&me(s[c],o)}else o=!1}for(o&&(r=i<3?Ve:r,i=1),t=Object(t);++a<i;)(s=n[a])&&e(t,s,a,r);return t}))}function G(e){return _e(e)?Ve:e}function H(e,t,n,o,a,i){var s=1&n,c=e.length;if(c!=(l=t.length)&&!(s&&c<l))return!1;if((l=i.get(e))&&i.get(t))return l==t;var l=-1,d=!0,u=2&n?new v:Ve;for(i.set(e,t),i.set(t,e);++l<c;){var p=e[l],m=t[l];if(o)var g=s?o(m,p,l,t,e,i):o(p,m,l,e,t,i);if(g!==Ve){if(g)continue;d=!1;break}if(u){if(!r(t,(function(e,t){if(!u.has(t)&&(p===e||a(p,e,n,o,i)))return u.push(t)}))){d=!1;break}}else if(p!==m&&!a(p,m,n,o,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function Q(e){return x(e,Se,an)}function W(e){return x(e,Ie,rn)}function K(e,t){var n=(n=m.iteratee||Ne)===Ne?T:n;return arguments.length?n(e,t):n}function J(e,t){var n=e.__data__,o=g(t);return("string"==o||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function X(e,t){var n=null==e?Ve:e[t];return!ve(n)||_t&&_t in n||!(be(n)?wt:Xe).test(se(n))?Ve:n}function Y(e,t,n){for(var o=-1,a=(t=M(t,e)).length,i=!1;++o<a;){var r=re(t[o]);if(!(i=null!=e&&n(e,r)))break;e=e[r]}return i||++o!=a?i:!!(a=null==e?0:e.length)&&he(a)&&te(r,a)&&(yn(e)||vn(e))}function Z(e){return"function"!=typeof e.constructor||oe(e)?{}:en(At(e))}function ee(e){return yn(e)||vn(e)||!!(Ot&&e&&e[Ot])}function te(e,t){var n=g(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ze.test(e))&&-1<e&&0==e%1&&e<t}function ne(e,t){if(yn(e))return!1;var n=g(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ce(e))||$e.test(e)||!ze.test(e)||null!=t&&e in Object(t)}function oe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||bt)}function ae(e,t){return function(n){return null!=n&&n[e]===t&&(t!==Ve||e in Object(n))}}function ie(e,t,n){return t=Mt(t===Ve?e.length-1:t,0),function(){for(var o=arguments,a=-1,i=Mt(o.length-t,0),r=Array(i);++a<i;)r[a]=o[t+a];for(a=-1,i=Array(t+1);++a<t;)i[a]=o[a];return i[t]=n(r),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,i)}}function re(e){if("string"==typeof e||Ce(e))return e;var t=e+"";return"0"==t&&1/e==-Be?"-0":t}function se(e){if(null==e)return"";try{return vt.call(e)}catch(e){}return e+""}function ce(e,t,n){var o=null==e?0:e.length;return o?((n=null==n?0:Pe(n))<0&&(n=Mt(o+n,0)),s(e,K(t,3),n)):-1}function le(e){return null!=e&&e.length?function e(t,n,o,a,r){var s=-1,c=t.length;for(o=o||ee,r=r||[];++s<c;){var l=t[s];0<n&&o(l)?1<n?e(l,n-1,o,a,r):i(r,l):a||(r[r.length]=l)}return r}(e,1):[]}function de(e){var t=null==e?0:e.length;return t?e[t-1]:Ve}function ue(e,t){function n(){var o=arguments,a=t?t.apply(this,o):o[0],i=n.cache;return i.has(a)?i.get(a):(o=e.apply(this,o),n.cache=i.set(a,o)||i,o)}if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");return n.cache=new(ue.Cache||h),n}function pe(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function me(e,t){return e===t||e!=e&&t!=t}function ge(e){return null!=e&&he(e.length)&&!be(e)}function fe(e){return ye(e)&&ge(e)}function be(e){return!!ve(e)&&("[object Function]"==(e=A(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function he(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}function ve(e){var t=g(e);return null!=e&&("object"==t||"function"==t)}function ye(e){return null!=e&&"object"==g(e)}function _e(e){return!(!ye(e)||"[object Object]"!=A(e))&&(null===(e=At(e))||"function"==typeof(e=yt.call(e,"constructor")&&e.constructor)&&e instanceof e&&vt.call(e)==Ct)}function ke(e){return"string"==typeof e||!yn(e)&&ye(e)&&"[object String]"==A(e)}function Ce(e){return"symbol"==g(e)||ye(e)&&"[object Symbol]"==A(e)}function we(e){return e?(e=Ee(e))===Be||e===-Be?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Pe(e){var t=(e=we(e))%1;return e==e?t?e-t:e:0}function Ee(e){if("number"==typeof e)return e;if(Ce(e))return Ue;if(ve(e)&&(e=ve(e="function"==typeof e.valueOf?e.valueOf():e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(He,"");var t=Je.test(e);return t||Ye.test(e)?ot(e.slice(2),t?2:8):Ke.test(e)?Ue:+e}function je(e){return z(e,Ie(e))}function xe(e){return null==e?"":R(e)}function Ae(e,t,n){return(e=null==e?Ve:j(e,t))===Ve?n:e}function qe(e,t){return null!=e&&Y(e,t,S)}function Se(e){return ge(e)?_(e):D(e)}function Ie(e){if(ge(e))e=_(e,!0);else if(ve(e)){var t,n=oe(e),o=[];for(t in e)("constructor"!=t||!n&&yt.call(e,t))&&o.push(t);e=o}else{if(t=[],null!=e)for(n in Object(e))t.push(n);e=t}return e}function Oe(e){return null==e?[]:function(e,t){return a(t,(function(t){return e[t]}))}(e,Se(e))}function Te(e){return function(){return e}}function De(e){return e}function Ne(e){return T("function"==typeof e?e:E(e,1))}function Re(e){return ne(e)?function(e){return function(t){return null==t?Ve:t[e]}}(re(e)):function(e){return function(t){return j(t,e)}}(e)}function Le(){return[]}function Me(){return!1}function Fe(){}var Ve,Be=1/0,Ue=NaN,ze=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$e=/^\w*$/,Ge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,He=/^\s+|\s+$/g,Qe=/\\(\\)?/g,We=/\w*$/,Ke=/^[-+]0x[0-9a-f]+$/i,Je=/^0b[01]+$/i,Xe=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var tt={};tt["[object Arguments]"]=tt["[object Array]"]=tt["[object ArrayBuffer]"]=tt["[object DataView]"]=tt["[object Boolean]"]=tt["[object Date]"]=tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Map]"]=tt["[object Number]"]=tt["[object Object]"]=tt["[object RegExp]"]=tt["[object Set]"]=tt["[object String]"]=tt["[object Symbol]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt["[object Error]"]=tt["[object Function]"]=tt["[object WeakMap]"]=!1;var nt,ot=parseInt,at="object"==g(e)&&e&&e.Object===Object&&e,it="object"==("undefined"==typeof self?"undefined":g(self))&&self&&self.Object===Object&&self,rt=at||it||Function("return this")(),st="object"==g(n)&&n&&!n.nodeType&&n,ct=st&&"object"==g(t)&&t&&!t.nodeType&&t,lt=ct&&ct.exports===st,dt=lt&&at.process;e:{try{nt=dt&&dt.binding&&dt.binding("util");break e}catch(l){}nt=void 0}var ut,pt=nt&&nt.isMap,mt=nt&&nt.isSet,gt=nt&&nt.isTypedArray,ft=Array.prototype,bt=Object.prototype,ht=rt["__core-js_shared__"],vt=Function.prototype.toString,yt=bt.hasOwnProperty,_t=(ut=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||""))?"Symbol(src)_1."+ut:"",kt=bt.toString,Ct=vt.call(Object),wt=RegExp("^"+vt.call(yt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pt=lt?rt.Buffer:Ve,Et=rt.Symbol,jt=rt.Uint8Array,xt=Pt?Pt.a:Ve,At=u(Object.getPrototypeOf),qt=Object.create,St=bt.propertyIsEnumerable,It=ft.splice,Ot=Et?Et.isConcatSpreadable:Ve,Tt=Et?Et.toStringTag:Ve,Dt=function(){try{var e=X(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Nt=Object.getOwnPropertySymbols,Rt=Pt?Pt.isBuffer:Ve,Lt=u(Object.keys),Mt=Math.max,Ft=Date.now,Vt=X(rt,"DataView"),Bt=X(rt,"Map"),Ut=X(rt,"Promise"),zt=X(rt,"Set"),$t=X(rt,"WeakMap"),Gt=X(Object,"create"),Ht=se(Vt),Qt=se(Bt),Wt=se(Ut),Kt=se(zt),Jt=se($t),Xt=Et?Et.prototype:Ve,Yt=Xt?Xt.valueOf:Ve,Zt=Xt?Xt.toString:Ve,en=function(e){return ve(e)?qt?qt(e):(Fe.prototype=e,e=new Fe,Fe.prototype=Ve,e):{}};f.prototype.clear=function(){this.__data__=Gt?Gt(null):{},this.size=0},f.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},f.prototype.get=function(e){var t=this.__data__;return Gt?"__lodash_hash_undefined__"===(e=t[e])?Ve:e:yt.call(t,e)?t[e]:Ve},f.prototype.has=function(e){var t=this.__data__;return Gt?t[e]!==Ve:yt.call(t,e)},f.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Gt&&t===Ve?"__lodash_hash_undefined__":t,this},b.prototype.clear=function(){this.__data__=[],this.size=0},b.prototype.delete=function(e){var t=this.__data__;return!((e=w(t,e))<0||(e==t.length-1?t.pop():It.call(t,e,1),--this.size,0))},b.prototype.get=function(e){var t=this.__data__;return(e=w(t,e))<0?Ve:t[e][1]},b.prototype.has=function(e){return-1<w(this.__data__,e)},b.prototype.set=function(e,t){var n=this.__data__,o=w(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this},h.prototype.clear=function(){this.size=0,this.__data__={hash:new f,map:new(Bt||b),string:new f}},h.prototype.delete=function(e){return e=J(this,e).delete(e),this.size-=e?1:0,e},h.prototype.get=function(e){return J(this,e).get(e)},h.prototype.has=function(e){return J(this,e).has(e)},h.prototype.set=function(e,t){var n=J(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this},v.prototype.add=v.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},v.prototype.has=function(e){return this.__data__.has(e)},y.prototype.clear=function(){this.__data__=new b,this.size=0},y.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},y.prototype.get=function(e){return this.__data__.get(e)},y.prototype.has=function(e){return this.__data__.has(e)},y.prototype.set=function(e,t){var n=this.__data__;if(n instanceof b){var o=n.__data__;if(!Bt||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new h(o)}return n.set(e,t),this.size=n.size,this};var tn=function(e,t){if(null==e)return e;if(!ge(e))return function(e,t){return e&&nn(e,t,Se)}(e,t);for(var n=e.length,o=-1,a=Object(e);++o<n&&!1!==t(a[o],o,a););return e},nn=function(e,t,n){for(var o=-1,a=Object(e),i=(n=n(e)).length;i--;){var r=n[++o];if(!1===t(a[r],r,a))break}return e},on=Dt?function(e,t){return Dt(e,"toString",{configurable:!0,enumerable:!1,value:Te(t),writable:!0})}:De,an=Nt?function(e){return null==e?[]:(e=Object(e),o(Nt(e),(function(t){return St.call(e,t)})))}:Le,rn=Nt?function(e){for(var t=[];e;)i(t,an(e)),e=At(e);return t}:Le,sn=A;(Vt&&"[object DataView]"!=sn(new Vt(new ArrayBuffer(1)))||Bt&&"[object Map]"!=sn(new Bt)||Ut&&"[object Promise]"!=sn(Ut.resolve())||zt&&"[object Set]"!=sn(new zt)||$t&&"[object WeakMap]"!=sn(new $t))&&(sn=function(e){var t=A(e);if(e=(e="[object Object]"==t?e.constructor:Ve)?se(e):"")switch(e){case Ht:return"[object DataView]";case Qt:return"[object Map]";case Wt:return"[object Promise]";case Kt:return"[object Set]";case Jt:return"[object WeakMap]"}return t});var cn,ln,dn,un,pn,mn,gn=(un=on,mn=pn=0,function(){var e=Ft(),t=16-(e-mn);if(mn=e,0<t){if(800<=++pn)return arguments[0]}else pn=0;return un.apply(Ve,arguments)}),fn=(dn=(ln=ue(ln=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ge,(function(e,n,o,a){t.push(o?a.replace(Qe,"$1"):n||e)})),t},(function(e){return 500===dn.size&&dn.clear(),e}))).cache,ln),bn=(cn=ce,function(e,t,n){var o=Object(e);if(!ge(e)){var a=K(t,3);e=Se(e),t=function(e){return a(o[e],e,o)}}return-1<(t=cn(e,t,n))?o[a?e[t]:t]:Ve});ue.Cache=h;var hn,vn=I(function(){return arguments}())?I:function(e){return ye(e)&&yt.call(e,"callee")&&!St.call(e,"callee")},yn=Array.isArray,_n=Rt||Me,kn=pt?l(pt):function(e){return ye(e)&&"[object Map]"==sn(e)},Cn=mt?l(mt):function(e){return ye(e)&&"[object Set]"==sn(e)},wn=gt?l(gt):function(e){return ye(e)&&he(e.length)&&!!et[A(e)]},Pn=$((function(e,t,n){N(e,t,n)})),En=$((function(e,t,n,o){N(e,t,n,o)})),jn=gn(ie(hn=function(e,t){var n={};if(null==e)return n;var o=!1;t=a(t,(function(t){return t=M(t,e),o=o||1<t.length,t})),z(e,W(e),n),o&&(n=E(n,7,G));for(var i=t.length;i--;)L(n,t[i]);return n},Ve,le),hn+"");m.constant=Te,m.flatten=le,m.iteratee=Ne,m.keys=Se,m.keysIn=Ie,m.memoize=ue,m.merge=Pn,m.mergeWith=En,m.negate=pe,m.omit=jn,m.property=Re,m.reject=function(e,t){return(yn(e)?o:function(e,t){var n=[];return tn(e,(function(e,o,a){t(e,o,a)&&n.push(e)})),n})(e,pe(K(t,3)))},m.toPlainObject=je,m.values=Oe,m.cloneDeep=function(e){return E(e,5)},m.cloneDeepWith=function(e,t){return E(e,5,t="function"==typeof t?t:Ve)},m.eq=me,m.find=bn,m.findIndex=ce,m.get=Ae,m.has=function(e,t){return null!=e&&Y(e,t,q)},m.hasIn=qe,m.identity=De,m.includes=function(e,t,n,o){if(e=ge(e)?e:Oe(e),n=n&&!o?Pe(n):0,o=e.length,n<0&&(n=Mt(o+n,0)),ke(e))e=n<=o&&-1<e.indexOf(t,n);else{if(o=!!o){if(t==t)e:{for(n-=1,o=e.length;++n<o;)if(e[n]===t){e=n;break e}e=-1}else e=s(e,c,n);o=-1<e}e=o}return e},m.isArguments=vn,m.isArray=yn,m.isArrayLike=ge,m.isArrayLikeObject=fe,m.isBuffer=_n,m.isEmpty=function(e){if(null==e)return!0;if(ge(e)&&(yn(e)||"string"==typeof e||"function"==typeof e.splice||_n(e)||wn(e)||vn(e)))return!e.length;var t=sn(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(oe(e))return!D(e).length;for(var n in e)if(yt.call(e,n))return!1;return!0},m.isEqual=function(e,t){return O(e,t)},m.isFunction=be,m.isLength=he,m.isMap=kn,m.isNull=function(e){return null===e},m.isObject=ve,m.isObjectLike=ye,m.isPlainObject=_e,m.isSet=Cn,m.isString=ke,m.isSymbol=Ce,m.isTypedArray=wn,m.last=de,m.stubArray=Le,m.stubFalse=Me,m.toFinite=we,m.toInteger=Pe,m.toNumber=Ee,m.toString=xe,m.VERSION="4.17.5",ct&&((ct.exports=m)._=m,st._=m)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t){t.exports={itemType:{DATA:"data",FCTN:"fctn",EVENT:"event",LISTENER_ON:"listenerOn",LISTENER_OFF:"listenerOff"},dataLayerEvent:{CHANGE:"adobeDataLayer:change",EVENT:"adobeDataLayer:event"},listenerScope:{PAST:"past",FUTURE:"future",ALL:"all"}}},{}],3:[function(e,t){var n=e("../custom-lodash"),o=e("../version.json").version,a=n.cloneDeep,i=n.get,r=e("./item"),s=e("./listener"),c=e("./listenerManager"),l=e("./constants"),d=e("./utils/customMerge");t.exports=function(e){function t(e){h=d(h,e.data)}function n(e){function n(e){return 0===f.length||e.index>f.length-1?[]:f.slice(0,e.index).map((function(e){return r(e)}))}e.valid?{data:function(e){t(e),m.triggerListeners(e)},fctn:function(e){e.config.call(f,f)},event:function(e){e.data&&t(e),m.triggerListeners(e)},listenerOn:function(e){var t=s(e);switch(t.scope){case l.listenerScope.PAST:var o,a=u(n(e));try{for(a.s();!(o=a.n()).done;){var i=o.value;m.triggerListener(t,i)}}catch(e){a.e(e)}finally{a.f()}break;case l.listenerScope.FUTURE:m.register(t);break;case l.listenerScope.ALL:if(m.register(t)){var r,c=u(n(e));try{for(c.s();!(r=c.n()).done;){var d=r.value;m.triggerListener(t,d)}}catch(e){c.e(e)}finally{c.f()}}}},listenerOff:function(e){m.unregister(s(e))}}[e.type](e):p(e)}function p(e){var t="The following item cannot be handled by the data layer because it does not have a valid format: "+JSON.stringify(e.config);console.error(t)}var m,g=e||{},f=[],b=[],h={},v={getState:function(){return h},getDataLayer:function(){return f}};return Array.isArray(g.dataLayer)||(g.dataLayer=[]),b=g.dataLayer.splice(0,g.dataLayer.length),(f=g.dataLayer).version=o,h={},m=c(v),f.push=function(e){var t=arguments,o=arguments;if(Object.keys(t).forEach((function(e){var a=r(t[e]);switch(a.valid||(p(a),delete o[e]),a.type){case l.itemType.DATA:case l.itemType.EVENT:n(a);break;case l.itemType.FCTN:delete o[e],n(a);break;case l.itemType.LISTENER_ON:case l.itemType.LISTENER_OFF:delete o[e]}})),o[0])return Array.prototype.push.apply(this,o)},f.getState=function(e){return e?i(a(h),e):a(h)},f.addEventListener=function(e,t,o){n(r({on:e,handler:t,scope:o&&o.scope,path:o&&o.path}))},f.removeEventListener=function(e,t){n(r({off:e,handler:t}))},function(){for(var e=0;e<b.length;e++)f.push(b[e])}(),v}},{"../custom-lodash":1,"../version.json":14,"./constants":2,"./item":5,"./listener":7,"./listenerManager":8,"./utils/customMerge":10}],4:[function(e,t){var n={Manager:e("./dataLayerManager")};window.adobeDataLayer=window.adobeDataLayer||[],window.adobeDataLayer.version?console.warn("Adobe Client Data Layer v".concat(window.adobeDataLayer.version," has already been imported/initialized on this page. You may be erroneously loading it a second time.")):n.Manager({dataLayer:window.adobeDataLayer}),t.exports=n},{"./dataLayerManager":3}],5:[function(e,t){var n=e("../custom-lodash"),o=n.isPlainObject,a=n.isEmpty,i=n.omit,r=n.find,s=e("./utils/dataMatchesContraints"),c=e("./itemConstraints"),l=e("./constants");t.exports=function(e,t){var n=e,d=t,u=r(Object.keys(c),(function(e){return s(n,c[e])}))||"function"==typeof n&&l.itemType.FCTN||o(n)&&l.itemType.DATA,p=function(){var e=i(n,Object.keys(c.event));if(!a(e))return e}();return{config:n,type:u,data:p,valid:!!u,index:d}}},{"../custom-lodash":1,"./constants":2,"./itemConstraints":6,"./utils/dataMatchesContraints":11}],6:[function(e,t){t.exports={event:{event:{type:"string"},eventInfo:{optional:!0}},listenerOn:{on:{type:"string"},handler:{type:"function"},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}},listenerOff:{off:{type:"string"},handler:{type:"function",optional:!0},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}}}},{}],7:[function(e,t){var n=e("./constants");t.exports=function(e){return{event:e.config.on||e.config.off,handler:e.config.handler||null,scope:e.config.scope||e.config.on&&n.listenerScope.ALL||null,path:e.config.path||null}}},{"./constants":2}],8:[function(e,t){var n=e("../custom-lodash").cloneDeep,o=e("./constants"),a=e("./utils/listenerMatch"),i=e("./utils/indexOfListener");t.exports=function(e){function t(e,t){if(a(e,t)){var o=[n(t.config)];e.handler.apply(s.getDataLayer(),o)}}var r={},s=e,c=i.bind(null,r);return{register:function(e){var t=e.event;return Object.prototype.hasOwnProperty.call(r,t)?-1===c(e)&&(r[e.event].push(e),!0):(r[e.event]=[e],!0)},unregister:function(e){var t=e.event;if(Object.prototype.hasOwnProperty.call(r,t))if(e.handler||e.scope||e.path){var n=c(e);-1<n&&r[t].splice(n,1)}else r[t]=[]},triggerListeners:function(e){(function(e){var t=[];switch(e.type){case o.itemType.DATA:t.push(o.dataLayerEvent.CHANGE);break;case o.itemType.EVENT:t.push(o.dataLayerEvent.EVENT),e.data&&t.push(o.dataLayerEvent.CHANGE),e.config.event!==o.dataLayerEvent.CHANGE&&t.push(e.config.event)}return t})(e).forEach((function(n){if(Object.prototype.hasOwnProperty.call(r,n)){var o,a=u(r[n]);try{for(a.s();!(o=a.n()).done;)t(o.value,e)}catch(n){a.e(n)}finally{a.f()}}}))},triggerListener:function(e,n){t(e,n)}}}},{"../custom-lodash":1,"./constants":2,"./utils/indexOfListener":12,"./utils/listenerMatch":13}],9:[function(e,t){var n=e("../../custom-lodash"),o=n.has,a=n.get;t.exports=function(e,t){for(var n=t.substring(0,t.lastIndexOf("."));n;){if(o(e,n)&&null==a(e,n))return!0;n=n.substring(0,n.lastIndexOf("."))}return!1}},{"../../custom-lodash":1}],10:[function(e,t){var n=e("../../custom-lodash"),o=n.cloneDeepWith,a=n.isObject,i=n.isArray,r=n.reject,s=n.mergeWith,c=n.isNull;t.exports=function(e,t){return s(e,t,(function(e,t){if(null==t)return null})),function(e,t){return o(e,(n=1<arguments.length&&void 0!==t?t:function(e){return!e},function e(t){if(a(t)){if(i(t))return r(t,n).map((function(t){return o(t,e)}));for(var s={},c=0,l=Object.keys(t);c<l.length;c++){var d=l[c];n(t[d])||(s[d]=o(t[d],e))}return s}}));var n}(e,c)}},{"../../custom-lodash":1}],11:[function(e,t){var n=e("../../custom-lodash"),o=n.find,a=n.includes;t.exports=function(e,t){return void 0===o(Object.keys(t),(function(n){var o=t[n].type,i=n&&t[n].values,r=!t[n].optional,s=e[n],c=g(s),l=o&&c!==o,d=i&&!a(i,s);return r?!s||l||d:s&&(l||d)}))}},{"../../custom-lodash":1}],12:[function(e,t){var n=e("../../custom-lodash").isEqual;t.exports=function(e,t){var o=t.event;if(Object.prototype.hasOwnProperty.call(e,o)){var a,i=u(e[o].entries());try{for(i.s();!(a=i.n()).done;){var r=s(a.value,2),c=r[0],l=r[1];if(n(l.handler,t.handler))return c}}catch(e){i.e(e)}finally{i.f()}}return-1}},{"../../custom-lodash":1}],
13:[function(e,t){function n(e,t){return!t.data||!e.path||o(t.data,e.path)||i(t.data,e.path)}var o=e("../../custom-lodash").has,a=e("../constants"),i=e("./ancestorRemoved");t.exports=function(e,t){var o=e.event,i=t.config,r=!1;return t.type===a.itemType.DATA?o===a.dataLayerEvent.CHANGE&&(r=n(e,t)):t.type===a.itemType.EVENT&&(o!==a.dataLayerEvent.EVENT&&o!==i.event||(r=n(e,t)),t.data&&o===a.dataLayerEvent.CHANGE&&(r=n(e,t))),r}},{"../../custom-lodash":1,"../constants":2,"./ancestorRemoved":9}],14:[function(e,t){t.exports={version:"2.0.2"}},{}]},{},[4])}}},"gcoe-adobe-client-data-layer/src/lib/util/getDataLayer.js":{script:function(e,t,n,o){"use strict";e.exports=function(){var e=o.getExtensionSettings();return window[e.dataLayerName]}}}}}},company:{orgId:"540F2C4B5DE59DB80A495E4C@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"ViaBCP (WebSDK)",settings:{domains:["viabcp.com"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!0},id:"PR4c037e9215c34ec89f42aabaa7d66f60"},rules:[{id:"RL015b983ca899413fb835e18a1cdf9388",name:"[FN] Pixel Linkiden - producto-evaluate",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:pymes:producto-evaluate"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'_linkedin_partner_id = "2567833";\nwindow._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];\nwindow._linkedin_data_partner_ids.push(_linkedin_partner_id);\n\n(function(l) {\nif (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};\nwindow.lintrk.q=[]}\nvar s = document.getElementsByTagName("script")[0];\nvar b = document.createElement("script");\nb.type = "text/javascript";b.async = true;\nb.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";\ns.parentNode.insertBefore(b, s);})(window.lintrk);\nconsole.log(\'carga exitosa de pixel linkiden\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL02add1eee75444f0975bae191caab602",name:"[AHORRO] Tiktok Pixel - viabcp:inversiones:fondos-mutuos",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:inversiones:fondos-mutuos"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'!function (w, d, t) {\n  w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(\nvar e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")\n;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};\n\n\n  ttq.load(\'D2IF26RC77U4ENLNFLNG\');\n  ttq.page();\n}(window, document, \'ttq\');\n',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL040bd7bee1ec4c9f801aaa598c462e50",name:"Application Submit",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackSubmitApplication"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop4:"%Page%",eVar25:"%Application Code%:%Application Product Category%:%Application Product%",events:"event152",prop13:"%Platform%",prop19:"%User Agent%",linkName:"Application Submit",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL0747efb117c14927a94f05cb382c7925",name:"[FN] Pixel Linkiden - facturas",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:empresas:financiamiento:descuentos-de-letras-y-facturas:facturas"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'_linkedin_partner_id = "2567833";\nwindow._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];\nwindow._linkedin_data_partner_ids.push(_linkedin_partner_id);\n\n(function(l) {\nif (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};\nwindow.lintrk.q=[]}\nvar s = document.getElementsByTagName("script")[0];\nvar b = document.createElement("script");\nb.type = "text/javascript";b.async = true;\nb.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";\ns.parentNode.insertBefore(b, s);})(window.lintrk);\nconsole.log(\'carga exitosa de pixel linkiden\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL0b27a0058e8e4fbe8e9393348f863737",name:"[AHORROS] Meta pixel  - beneficios 2",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:ahorra-y-gana-bcp"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"    const scriptFirst = document.createElement('script');\n    scriptFirst.src = 'https://www.googletagmanager.com/gtag/js?id=AW-16451689511'\n\n\n    const scriptSecund = document.createElement('script');\n    scriptSecund.textContent = `window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'AW-16451689511');`\n\n    const scriptThree = document.createElement('script');\n    scriptThree.textContent = `function gtag_report_conversion(url) { var callback = function () { if (typeof(url) != 'undefined') {} }; gtag('event', 'conversion', { 'send_to': 'AW-16451689511/3UysCKftjewZEKe446Q9', 'event_callback': callback }); return false; }`\n\n    document.head.appendChild(scriptFirst);\n    document.head.appendChild(scriptSecund);\n    document.head.appendChild(scriptThree);\n\n    var mensajeConfirmacionRegistroAdobe = document.querySelector(\".vedi-confirmacion-campana.vedi-registro-campana\");\n    var listenerOptionsFBQAdobe = {\n        attributes: true\n    }\n\n    function fbqCallbackAdobe(mutationList, observer) {\n        mutationList.forEach(function (mutation) {\n            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n                console.log(mutation.target.classList)\n                if (!mutation.target.classList.contains('vedi-ocultar')) {\n                    return gtag_report_conversion('https://www.viabcp.com/ahorra-y-gana-bcp')\n                }\n            }\n        })\n    }\n\n    var successSubmitFormObserverAdobe = new MutationObserver(fbqCallbackAdobe);\n    successSubmitFormObserverAdobe.observe(mensajeConfirmacionRegistroAdobe, listenerOptionsFBQAdobe);\n",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL0dce4b3d0132417993479bb6242f2384",name:"Modal Consentimiento Cookies - SDK",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:'<style>\n    .bcp_politica_uso_cookieAdobe {\n        transition: background .4s linear\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_contenedor_dialog {\n        display: flex;\n        flex-direction: row;\n        justify-content: center\n    }\n\n    .bcp_politica_uso_cookieAdobe h2,\n    .bcp_politica_uso_cookieAdobe h3 {\n        margin: 0;\n        padding: 0\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_contenedor_aviso {\n        align-items: center;\n        background: #fdfdfd;\n        border-radius: 8px;\n        bottom: -100%;\n        box-shadow: 0 1px 8px #52709433;\n        display: flex;\n        justify-content: center;\n        margin: auto;\n        padding: 28px;\n        position: fixed;\n        transition: bottom .8s linear;\n        z-index: -1\n    }\n\n    .bcp_politica_uso_cookieAdobe.mostrar .bcp_contenedor_aviso {\n        border-radius: 8px;\n        box-shadow: 0 24px 38px #c2ccdc33, 0 9px 46px #5270941f, 0 11px 15px #52709433;\n        z-index: 9999999999\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_contenedor_aviso .bcp_titulo {\n        color: #202e44;\n        font-family: var(--bcp-font-family-primary-demi);\n        font-style: normal;\n        font-weight: 400\n    }\n\n    .bcp_politica_uso_cookieAdobe svg {\n        border-radius: 12px\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_mensaje {\n        color: #4d5b70;\n        font-size: 16px;\n        font-style: normal;\n        font-weight: 400;\n        line-height: 24px\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_grupo_botones {\n        align-items: center;\n        display: flex;\n        flex-direction: row\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_btn_configurar {\n        margin-right: 16px\n    }\n\n    .bcp_politica_uso_cookieAdobe.mostrar .bcp_configuracion_politica_cookie {\n        background-color: #f8f8f8;\n        height: 100%;\n        overflow: auto;\n        padding-left: 24px;\n        padding-right: 24px;\n        position: fixed;\n        top: -100%;\n        transition: all .4s linear;\n        width: 100%;\n        z-index: 9999999999\n    }\n\n    .bcp_politica_uso_cookieAdobe.mostrar .bcp_configuracion_politica_cookie.mostrar {\n        top: 0;\n        z-index: 9999999999\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_configuracion_politica_cookie .bcp_titulo {\n        color: #002a8d;\n        font-family: var(--bcp-font-family-primary-demi);\n        font-style: normal;\n        font-weight: 400\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_configuracion_politica_cookie .bcp_descripcion,\n    .bcp_politica_uso_cookieAdobe .bcp_configuracion_politica_cookie .bcp_legal {\n        color: #4d5b70;\n        font-style: normal;\n        font-weight: 400\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_botones {\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-end\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie {\n        box-shadow: 0 1px 0 #d2d5dc\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie:last-child {\n        box-shadow: none\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie .bcp_tipo_titulo {\n        align-items: center;\n        color: #002a8d;\n        display: flex;\n        font-family: var(--bcp-font-family-primary-demi);\n        font-style: normal;\n        font-weight: 400;\n        justify-content: space-between\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie .switch {\n        background-color: #ff7800;\n        border-radius: 30px;\n        cursor: pointer;\n        display: inline-block;\n        height: 24px;\n        margin-bottom: 0;\n        min-width: 44px;\n        position: relative;\n        text-align: left\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie .switch.disbled {\n        background-color: #d2d5dc\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie .switch>input[type=checkbox] {\n        opacity: 0;\n        position: absolute\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie .switch>span:after,\n    .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie .switch>span:before {\n        content: "";\n        cursor: pointer;\n        position: absolute\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie .switch>span {\n        border-radius: 60px;\n        display: block;\n        height: 100%;\n        width: 100%\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie .switch>span:before {\n        background-color: #d2d5dc;\n        border-radius: 60px;\n        box-sizing: border-box;\n        height: 100%;\n        opacity: 1;\n        transform: scale(1.01);\n        transition: opacity .2s ease-out .1s, transform .2s ease-out .1s;\n        width: 100%\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie .switch>span:after {\n        background-color: #fff;\n        border-radius: 100%;\n        box-shadow: 0 2px 5px #0000004d;\n        height: 20px;\n        top: 50%;\n        transform: translate3d(2px, -50%, 0);\n        transition: transform .4s cubic-bezier(.44, -.12, .07, 1.15);\n        width: 20px;\n        z-index: 3\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie .switch>input[type=checkbox]:checked~span:before {\n        opacity: .7;\n        transform: scale(0)\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie .switch>input[type=checkbox]:checked~span:after {\n        transform: translate3d(22px, -50%, 0)\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_mostrar_ocultar_lista:after {\n        content: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSI2IiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgMTAgNiI+PHBhdGggZmlsbD0iI0ZGNzgwMCIgZD0iTTAgLjY2N0EuNjcuNjcgMCAwIDEgLjQ2Ny4wNGEuNzUuNzUgMCAwIDEgLjc5LjE5Mkw1IDQuMzMzbDMuNzQzLTQuMUEuNzUuNzUgMCAwIDEgOS43NS4xNmMuMy4yNC4zMzUuNjYuMDc5Ljk0TDUuNTQzIDUuNzY3QS43NC43NCAwIDAgMSA1IDZhLjc0Ljc0IDAgMCAxLS41NDMtLjIzM0wuMTcxIDEuMUEuNjQuNjQgMCAwIDEgMCAuNjY3Ii8+PC9zdmc+");\n        margin-left: 16px;\n        margin-right: auto;\n        transition: transform .4s linear\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_mostrar_ocultar_lista.down:after,\n    .bcp_politica_uso_cookieAdobe .bcp_mostrar_ocultar_lista.mostrar:after {\n        transform: rotate(180deg)\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_cerrar_modal {\n        align-items: end;\n        background: #0000;\n        border: unset;\n        cursor: pointer;\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-end;\n        position: absolute\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_lista_cookies .bcp_box,\n    .bcp_politica_uso_cookieAdobe .bcp_lista_cookies .bcp_box.nombre_tipo {\n        color: #4d5b70;\n        font-style: normal;\n        font-weight: 400\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_contenedor_cabecera,\n    .bcp_politica_uso_cookieAdobe .bcp_grupo_detalle {\n        display: grid;\n        grid-template-columns: 250px auto 200px;\n        grid-gap: 16px\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_contenedor_cabecera {\n        font-family: var(--bcp-font-family-primary-demi)\n    }\n\n    .bcp_politica_uso_cookieAdobe .bcp_contenedor_cabecera,\n    .bcp_politica_uso_cookieAdobe .bcp_grupo_detalle {\n        color: #4d5b70;\n        font-size: 14px;\n        font-style: normal;\n        font-weight: 400;\n        line-height: 20px;\n        margin-bottom: 24px\n    }\n\n    @media (width >=1px) {\n        .bcp_politica_uso_cookieAdobe .bcp_contenedor_aviso {\n            flex-direction: column\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_contenedor_aviso .bcp_titulo {\n            font-size: 20px;\n            line-height: 16px;\n            margin-bottom: 12px\n        }\n\n        .bcp_politica_uso_cookieAdobe.mostrar .bcp_contenedor_aviso {\n            bottom: 0\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_grupo_botones {\n            justify-content: center\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_mensaje {\n            font-size: 14px;\n            line-height: 20px;\n            margin-bottom: 12px\n        }\n\n        .bcp_politica_uso_cookieAdobe a {\n            color: #ff7800\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_configuracion_politica_cookie {\n            padding-bottom: 224px;\n            padding-top: 88px;\n            position: fixed;\n            z-index: -1\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_configuracion_politica_cookie .bcp_titulo {\n            font-size: 28px;\n            line-height: 32px;\n            margin-bottom: 16px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_configuracion_politica_cookie .bcp_descripcion {\n            font-size: 13px;\n            line-height: 20px;\n            margin-bottom: 32px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_configuracion_politica_cookie .bcp_legal {\n            font-size: 13px;\n            line-height: 20px;\n            margin-bottom: 32px;\n            margin-top: 32px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie .bcp_tipo_titulo {\n            font-size: 16px;\n            line-height: 20px;\n            margin-bottom: 16px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie {\n            padding-bottom: 20px;\n            padding-top: 16px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_lista_cookies {\n            display: grid;\n            grid-template-columns: repeat(1, 1fr)\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_lista_cookies .bcp_box {\n            font-size: 14px;\n            line-height: 20px;\n            margin-bottom: 16px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_lista_cookies .bcp_box:nth-child(-n+3) {\n            display: none\n        }\n\n        .bcp_politica_uso_cookieAdobe .oculta_desktop {\n            display: block;\n            font-family: var(--bcp-font-family-primary-demi);\n            font-size: 14px;\n            font-style: normal;\n            font-weight: 600;\n            line-height: 20px;\n            margin-bottom: 8px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_lista_cookies .bcp_box.nombre_tipo {\n            font-size: 16px;\n            line-height: 20px;\n            margin-bottom: 24px;\n            margin-top: 24px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_cerrar_modal {\n            padding: 8px;\n            right: 12px;\n            top: 24px\n        }\n    }\n\n    @media (width >=768px) {\n        .bcp_politica_uso_cookieAdobe .bcp_configuracion_politica_cookie {\n            padding-bottom: 224px;\n            padding-top: 112px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_configuracion_politica_cookie .bcp_titulo {\n            font-size: 32px;\n            line-height: 40px;\n            margin-bottom: 16px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_contenedor_aviso {\n            flex-direction: row\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_contenedor_aviso .bcp_titulo {\n            font-size: 20px;\n            line-height: 16px;\n            margin-bottom: 12px\n        }\n\n        .bcp_politica_uso_cookieAdobe.mostrar .bcp_contenedor_aviso {\n            bottom: 36px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_grupo_botones {\n            justify-content: flex-end;\n            padding-left: 120px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_mensaje {\n            font-size: 14px;\n            line-height: 20px;\n            margin-bottom: 12px\n        }\n\n        .bcp_politica_uso_cookieAdobe a {\n            color: #ff7800\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_configuracion_politica_cookie .bcp_descripcion {\n            font-size: 13px;\n            line-height: 20px;\n            margin-bottom: 32px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_configuracion_politica_cookie .bcp_legal {\n            font-size: 13px;\n            line-height: 20px;\n            margin-bottom: 32px;\n            margin-top: 32px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie {\n            padding-bottom: 14px;\n            padding-top: 16px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_tipo_cookie .bcp_tipo_titulo {\n            font-size: 20px;\n            line-height: 24px;\n            margin-bottom: 16px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_lista_cookies {\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n            margin-top: 28px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_lista_cookies .bcp_box:nth-child(-n+3) {\n            display: block;\n            font-family: var(--bcp-font-family-primary-demi);\n            font-size: 14px;\n            font-weight: 700;\n            line-height: 20px;\n            margin-bottom: 24px;\n            margin-right: 24px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_lista_cookies .bcp_box:nth-child(n+4) {\n            color: #4d5b70;\n            font-size: 14px;\n            font-style: normal;\n            font-weight: 400;\n            line-height: 20px;\n            margin-bottom: 24px;\n            margin-right: 24px\n        }\n\n        .bcp_politica_uso_cookieAdobe .oculta_desktop {\n            display: none\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_lista_cookies .bcp_box.nombre_tipo {\n            font-size: 14px;\n            line-height: 20px;\n            margin-bottom: 0;\n            margin-top: 0\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_cerrar_modal {\n            right: 40px\n        }\n\n        .bcp_politica_uso_cookieAdobe .bcp_cerrar_modal:before {\n            align-items: center;\n            color: #ff7800;\n            content: "Cerrar";\n            display: flex;\n            font-family: var(--bcp-font-family-primary-demi);\n            font-size: 16px;\n            font-style: normal;\n            font-weight: 600;\n            line-height: 24px;\n            margin-right: 12px;\n            text-align: center\n        }\n    }\n</style>\n<section role="region" aria-label="Pol\xedtica de Cookies" class="bcp_politica_uso_cookieAdobe" data-translate-comp="true">\n    <!-- entrada politica -->\n    <div class="bcp_contenedor_dialog bcp_modal_dialog_politica cookies-sdk" role="dialog" aria-modal="true" aria-labelledby="dialogTitleModalConsentimiento" aria-describedby="dialogDescriptionModalConsentimiento">\n        <div class="bcp_contenedor_aviso container">\n            <div class="bcp_grupo_texto">\n                <div data-translate="true" class="bcp_titulo" tabindex="0" id="dialogTitleModalConsentimiento">\n                    Pol\xedtica de Cookies\n                </div>\n                <div class="bcp_mensaje" tabindex="0" id="dialogDescriptionModalConsentimiento">\n                    <span data-translate="true">Esta web utiliza cookies necesarias y, con tu consentimiento, utilizaremos cookies de personalizaci\xf3n y marketing.</span>\n                    <span data-translate="true">Para m\xe1s informaci\xf3n revisa nuestra </span><a data-translate="true" href="/transparencia/#protecciondedatos" rel="noopener noreferrer" target="_blank" title="">Pol\xedtica de Privacidad y Pol\xedtica de Cookies.</a>\n                </div>\n            </div>\n            <div class="bcp_grupo_botones">\n                <button class="bcp_btn_configurar bcp_boton_blanco" data-translate="true">\n                    Configuraci\xf3n\n                </button>\n                <button class="bcp_btn_aceptar bcp_boton_naranja" data-translate="true">\n                    Aceptar todo\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <!-- configuraci\xf3n politica -->\n    <div class="bcp_configuracion_politica_cookie" role="dialog" aria-modal="true" style="display: none;">\n        <div class="container">\n            <button class="bcp_cerrar_modal" aria-label="Cerrar la configuraci\xf3n de pol\xedtica de cookies">\n                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path fill-rule="even       odd" clip-rule="evenodd" d="M5.2097 5.3871L5.29289 5.29289C5.65338 4.93241 6.22061 4.90468 6.6129 5.2097L6.70711 5.29289L12 10.585L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.415 12L18.7071 17.2929C19.0676 17.6534 19.0953 18.2206 18.7903 18.6129L18.7071 18.7071C18.3466 19.0676 17.7794 19.0953 17.3871 18.7903L17.2929 18.7071L12 13.415L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.585 12L5.29289 6.70711C4.93241 6.34662 4.90468 5.77939 5.2097 5.3871L5.29289 5.29289L5.2097 5.3871Z" fill="#FF7800"></path>\n                </svg>\n            </button>\n            <div class="bcp_titulo" tabindex="0" data-translate="true">\n                Pol\xedtica de Cookies\n            </div>\n            <div class="bcp_descripcion" tabindex="0" data-translate="true">\n                Si autorizas, cuando visites este sitio web almacenaremos o recuperaremos informaci\xf3n en el navegador a trav\xe9s de cookies no necesarias. La informaci\xf3n que captemos permitir\xe1 que el sitio funcione como esperas que lo haga y se adecue de mejor manera a tus preferencias. No autorizar algunos tipos de cookies puede afectar tu experiencia en el sitio, as\xed como los servicios que te podemos ofrecer. Debajo encontrar\xe1s el detalle: </div>\n\n            <div class="bcp_grupo_tipo_cookiees">\n                <div class="bcp_tipo_cookie">\n                    <div class="bcp_tipo_titulo" attr-label="Personalizaci\xf3n">\n                        <span data-translate="true">Cookies de Personalizaci\xf3n</span>\n                        <label id="cookiePersonalizacionLabel" aria-label="Al seleccionar est\xe1s aceptando las cookies de personalizaci\xf3n" class="switch" role="button" tabindex="0" aria-selected="false">\n                            <input for="cookiePersonalizacionLabel" id="cookie_personalizacion" type="checkbox" aria-hidden="true" tabindex="-1">\n                            <span></span>\n                        </label>\n                    </div>\n\n                    <div class="bcp_mostrar_ocultar_lista bcp_boton_naranja_sin_fondo_y_borde down" data-translate="true">\n                        Ver detalle\n                    </div>\n                    <div class="bcp_descripcion_detalle" style="display: block; box-sizing: border-box;">\n                        <div class="bcp_descripcion" data-translate="true">\n                            Estas cookies nos permiten conocer un poco mejor tus intereses. Gracias a ellas, podemos ajustar nuestros contenidos a tus preferencias.\n                        </div>\n                        <div class="bcp_lista_cookies ">\n                            <!-- fila 1-header -->\n                            <div class="bcp_box" data-translate="true">Nombre</div>\n                            <div class="bcp_box" data-translate="true"> \xbfQu\xe9 hace? </div>\n                            <div class="bcp_box" data-translate="true">\xbfPara qu\xe9 las necesitamos?</div>\n                            <!-- fila 2 detalle -->\n                            <div class="bcp_box nombre_tipo" data-translate="true">Adobe Target</div>\n                            <div class="bcp_box oculta_desktop" data-translate="true"> \xbfQu\xe9 hace? </div>\n                            <div class="bcp_box" data-translate="true">Recoge informaci\xf3n de uso y detalles del navegador</div>\n                            <div class="bcp_box oculta_desktop" data-translate="true">\xbfPara qu\xe9 las necesitamos?</div>\n                            <div class="bcp_box">Para ajustar nuestro sitio a tus preferencias</div>\n                            <!-- fila 3 detalle -->\n                            <div class="bcp_box nombre_tipo" data-translate="true">Google Optimize</div>\n                            <div class="bcp_box oculta_desktop" data-translate="true"> \xbfQu\xe9 hace? </div>\n                            <div class="bcp_box" data-translate="true">Recoge informaci\xf3n de uso y detalles del navegador</div>\n                            <div class="bcp_box oculta_desktop" data-translate="true">\xbfPara qu\xe9 las necesitamos?</div>\n                            <div class="bcp_box" data-translate="true">Para ajustar nuestro sitio a tus preferencias</div>\n                            <!-- fila 4 detalle -->\n                        </div>\n                    </div>\n                </div>\n                <div class="bcp_tipo_cookie">\n                    <div class="bcp_tipo_titulo" attr-label="Marketing">\n                        <span data-translate="true">Cookies de Marketing</span>\n                        <label aria-label="Al seleccionar est\xe1ss aceptando las cookies de marketing" class="switch" role="button" tabindex="0" aria-selected="false">\n                            <input id="cookie_marketing_analitica" type="checkbox" aria-hidden="true" tabindex="-1">\n                            <span></span>\n                        </label>\n                    </div>\n\n                    <div class="bcp_mostrar_ocultar_lista bcp_boton_naranja_sin_fondo_y_borde down" data-translate="true">\n                        Ver detalle\n                    </div>\n                    <div class="bcp_descripcion_detalle" style="display: block; box-sizing: border-box;">\n                        <div class="bcp_descripcion" data-translate="true">\n                            Con estas cookies te mostramos mensajes de productos que te pueden interesar seg\xfan tu historial de navegaci\xf3n.\n                        </div>\n                        <div class="bcp_lista_cookies ">\n                            <!-- fila 1-header -->\n                            <div class="bcp_box" data-translate="true">Nombre</div>\n                            <div class="bcp_box" data-translate="true"> \xbfQu\xe9 hace? </div>\n                            <div class="bcp_box" data-translate="true">\xbfPara qu\xe9 las necesitamos?</div>\n                            <!-- fila 2 detalle -->\n                            <div class="bcp_box nombre_tipo" data-translate="true">Facebook Ads</div>\n                            <div class="bcp_box oculta_desktop" data-translate="true"> \xbfQu\xe9 hace? </div>\n                            <div class="bcp_box" data-translate="true">Identifica desde que dispositivo nos navegas.</div>\n                            <div class="bcp_box" data-translate="true">Para mostrarte avisos que te interesen.</div>\n                            <!-- fila 3 detalle -->\n                            <div class="bcp_box nombre_tipo" data-translate="true">Google Ads</div>\n                            <div class="bcp_box oculta_desktop" data-translate="true"> \xbfQu\xe9 hace? </div>\n                            <div class="bcp_box" data-translate="true">Identifica desde que dispositivo nos navegas.</div>\n                            <div class="bcp_box" data-translate="true">Para mostrarte avisos que te interesen.</div>\n                            <!-- fila 4 detalle -->\n                            <div class="bcp_box nombre_tipo" data-translate="true">Hotjar</div>\n                            <div class="bcp_box oculta_desktop" data-translate="true"> \xbfQu\xe9 hace? </div>\n                            <div class="bcp_box" data-translate="true">Identifica c\xf3mo navegas nuestro sitio, que contenidos consumes y c\xf3mo\n                                prefieres que te presentemos la informaci\xf3n.</div>\n                            <div class="bcp_box oculta_desktop" data-translate="true">\xbfPara qu\xe9 las necesitamos?</div>\n                            <div class="bcp_box" data-translate="true">Para saber que interesa, ofrecerte contenidos y conocer tendencias en\n                                nuestro sitio.</div>\n                            <!-- fila 5 detalle -->\n                            <div class="bcp_box nombre_tipo" data-translate="true">Google Analytics</div>\n                            <div class="bcp_box oculta_desktop" data-translate="true"> \xbfQu\xe9 hace? </div>\n                            <div class="bcp_box" data-translate="true">Identifica desde que dispositivo nos navegas, con qu\xe9 navegador, desde qu\xe9\n                                regi\xf3n, tu actividad y los t\xe9rminos de b\xfasqueda que usas.</div>\n                            <div class="bcp_box oculta_desktop" data-translate="true">\xbfPara qu\xe9 las necesitamos?</div>\n                            <div class="bcp_box" data-translate="true">Para saber que interesa, ofrecerte contenidos y conocer tendencias en\n                                nuestro sitio.</div>\n                            <!-- fila 6 detalle -->\n                            <div class="bcp_box nombre_tipo" data-translate="true">Adobe Analytics</div>\n                            <div class="bcp_box oculta_desktop" data-translate="true"> \xbfQu\xe9 hace? </div>\n                            <div class="bcp_box" data-translate="true">Identifica desde que dispositivo nos navegas, con qu\xe9 navegador, desde qu\xe9\n                                regi\xf3n, tu actividad y los t\xe9rminos de b\xfasqueda que usas.</div>\n                            <div class="bcp_box oculta_desktop" data-translate="true">\xbfPara qu\xe9 las necesitamos?</div>\n                            <div class="bcp_box" data-translate="true">Para saber que interesa, ofrecerte contenidos y conocer tendencias en\n                                nuestro sitio.</div>\n                        </div>\n                    </div>\n\n                </div>\n                <div class="bcp_tipo_cookie">\n                    <div class="bcp_tipo_titulo">\n                        <span data-translate="true">Cookies Esenciales</span>\n                        <label class="switch disbled">\n                            <input id="cookie_escenciales" type="checkbox" checked="" disabled="" aria-hidden="true" tabindex="-1">\n                            <span></span>\n                        </label>\n                    </div>\n                    <div class="bcp_descripcion" data-translate="true">\n                        Necesitamos de ellas para que el sitio se ejecute con normalidad. No las podr\xe1s deshabilitar. Si no estas de acuerdo con ellas, deber\xe1s dejar de navegar en nuestro sitio.\n                    </div>\n                    <div class="bcp_mostrar_ocultar_lista bcp_boton_naranja_sin_fondo_y_borde down" data-translate="true">\n                        Ver detalle\n                    </div>\n                    <div class="bcp_descripcion_detalle" style="display: block; box-sizing: border-box;">\n\n                        <div class="bcp_lista_cookies ">\n                            <!-- fila 1-header -->\n                            <div class="bcp_box" data-translate="true">Nombre</div>\n                            <div class="bcp_box" data-translate="true"> \xbfQu\xe9 hace? </div>\n                            <div class="bcp_box" data-translate="true">\xbfPara qu\xe9 las necesitamos?</div>\n                            <!-- fila 2 detalle -->\n                            <div class="bcp_box nombre_tipo" data-translate="true">Cookies Propias</div>\n                            <div class="bcp_box oculta_desktop" data-translate="true"> \xbfQu\xe9 hace? </div>\n                            <div class="bcp_box" data-translate="true">Garantizan un correcto despliegue de todos los componentes del sitio</div>\n                            <div class="bcp_box oculta_desktop" data-translate="true">\xbfPara qu\xe9 las necesitamos?</div>\n                            <div class="bcp_box" data-translate="true">Para que todo funcione como tu lo esperas.</div>\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="bcp_botones">\n                <button class="bcp_guardar_preferencia bcp_boton_naranja" role="button" aria-label="Al seleccionar est\xe1s aceptando la pol\xedtica de cookies con la configuraci\xf3n establecida" data-translate="true">\n                    Guardar preferencias\n                </button>\n            </div>\n            <div class="bcp_legal" data-translate="true">\n                La aceptaci\xf3n o no del uso de cookies no necesarias no condiciona la navegaci\xf3n en el sitio web ni la prestaci\xf3n de los servicios que nos solicites. En cualquier momento podr\xe1s ejercer tu derecho de desactivaci\xf3n en nuestra secci\xf3n de <a href="/transparencia/#protecciondedatos" target="_blank" title="">Protecci\xf3n de Datos</a> o eliminaci\xf3n de las no necesarias en la secci\xf3n de Privacidad de tu navegador. Si lo autorizas, al tratamiento de la informaci\xf3n que captemos le resultar\xe1 aplicable nuestra <a href="/transparencia/#protecciondedatos" target="_blank" title="">Pol\xedtica de Privacidad</a>.\n            </div>\n        </div>\n    </div>\n</section>\n<script>\n    const politicaCookieAdobe = document.querySelector(".bcp_politica_uso_cookieAdobe");\n\n    setTimeout(() => {\n        MostrarCookiePoliticaPrivacidadAdobe(true);\n    }, 100);\n\n    politicaCookieAdobe.querySelector(".bcp_btn_configurar").addEventListener("click", () => {\n        fnMostrarDetalleCookiePoliticaPrivicidadAdobe(true, true);\n    });\n\n    politicaCookieAdobe.querySelector(".bcp_cerrar_modal").addEventListener("click", () => {\n        fnMostrarDetalleCookiePoliticaPrivicidadAdobe(false, true);\n        politicaCookieAdobe.querySelector(".bcp_btn_configurar").focus();\n    });\n\n    politicaCookieAdobe.querySelector(".bcp_btn_aceptar").addEventListener("click", () => {\n        fnAceptaPoliticaPrivicidadAdobe(false);\n        aceptarCookiesTGAB(true);\n        // detectarBotonTGAB("Aceptar", "Modal", true);\n\n        //Taggeo Adicional\n        dataLayer.push({ "event": "cookieSet" });\n    });\n\n    politicaCookieAdobe.querySelector(".bcp_guardar_preferencia").addEventListener("click", (btn) => {\n        fnAceptaPoliticaPrivicidadAdobe(true, true);\n        aceptarCookiesTGAB(false);\n        document.querySelector(\'.bcp_configuracion_politica_cookie\').classList.remove(\'mostrar\');\n        // detectarBotonTGAB("Guardar preferencias", "Configurar", true);\n        \n        //Taggeo Adicional\n        dataLayer.push({ "event": "cookieSet" });\n    });\n    for (const ele of politicaCookieAdobe.querySelectorAll(".bcp_mostrar_ocultar_lista")) {\n        ele.addEventListener("click", (btn) => {\n            slideToggle(btn.currentTarget.nextElementSibling);\n            if (btn.currentTarget.classList.contains("down")) {\n                btn.currentTarget.classList.remove("down");\n            } else {\n                btn.currentTarget.classList.add("down");\n            }\n\n        });\n    };\n\n    //Taggeo Provisional\n    for (const checked of politicaCookieAdobe.querySelectorAll(\'input[type="checkbox"]\')) {\n        checked.addEventListener("click", (e) => {\n            const selectorChk = e.currentTarget;\n            const selectorTitulo = fnGetParent(selectorChk, ".bcp_tipo_titulo");\n            let modoONOFF = "OFF";\n\n            if (selectorChk.checked) {\n                modoONOFF = "ON";\n            }\n\n            const categoryTaggeo = `Configurar Switch ${modoONOFF}`;\n\n            digitalData.push({\n                "action": {\n                    "group": "Politicas de Cookies",\n                    "category": categoryTaggeo,\n                    "name": "Click",\n                    "label": selectorTitulo.getAttribute("attr-label")\n                },\n                "event": "trackAction"\n            });\n        });\n    };\n\n    function MostrarCookiePoliticaPrivacidadAdobe(boolMostrar = true) {\n        const politica = politicaCookieAdobe;\n\n        if (boolMostrar && getCookie("politica_privacidad_escenciales") == "") {\n            politica.classList.add("mostrar");\n            politica.querySelector(".bcp_modal_dialog_politica").removeAttribute("style");\n        } else {\n            politica.classList.remove("mostrar");\n            politica.querySelector(".bcp_modal_dialog_politica").setAttribute("style", "display:none");\n        }\n    }\n\n    function fnMostrarDetalleCookiePoliticaPrivicidadAdobe(boolMostrar = true, modificarConfiguracion = false) {\n        const DetallePolitica = politicaCookieAdobe.querySelector(".bcp_configuracion_politica_cookie");\n\n        if (boolMostrar) {\n            if (modificarConfiguracion) {\n                politicaCookieAdobe.classList.add("mostrar");\n                mostrarCookiesConfiguradas();\n            }\n            DetallePolitica.style.display = "block";\n            setTimeout(() => {\n                DetallePolitica.classList.add("mostrar");\n            }, 100);\n        } else {\n            if (modificarConfiguracion) {\n                politicaCookieAdobe.classList.add("mostrar");\n                mostrarCookiesConfiguradas();\n            } else {\n                politicaCookieAdobe.classList.remove("mostrar");\n            }\n            DetallePolitica.classList.remove("mostrar");\n            setTimeout(() => {\n                DetallePolitica.style.display = "none";\n            }, 500);\n        }\n    }\n\n    function setCookieAllDomain(strNombreCookie, strValorCookie, tiempoExperirar) {\n        const date = new Date;\n        date.setTime(date.getTime() + tiempoExperirar);\n        const tiempoExpirar = "; expires=" + date.toGMTString();\n        document.cookie = strNombreCookie + "=" + strValorCookie + ";" + tiempoExpirar + ";path=/;domain=.viabcp.com;";\n    }\n\n    const getCookieMC = function (strNombreCookie) {\n        for (let o, n = strNombreCookie + "=", r = decodeURIComponent(document.cookie), s = r.split(";"), u = 0; u < s.length; u++) {\n            for (o = s[u];\n                " " == o.charAt(0);) o = o.substring(1);\n    \n            if (0 === o.indexOf(n)) return o.substring(n.length, o.length);\n        }\n        return "";\n    }\n    \n    function setPrimeraCargaCookieWeb(){\n        console.log(\'llamada setPrimeraCargaCookieWeb\')\n        var mk = getCookieMC(\'politica_privacidad_marketing_analitica\');\n        var pe = getCookieMC(\'politica_privacidad_personalizacion\') ;\n        var general = (mk || pe) ? \'in\' : \'out\';\n        \n        console.log(mk,pe,general)\n        \n        if(general==\'out\'){\n            document.querySelector(\'.bcp_politica_uso_cookieAdobe\').classList.add(\'mostrar\');\n        }\n                \n        alloy("setConsent", {\n            consent: [{ standard: "Adobe", version: "1.0", value: { general } }]\n        })\n        .then(()=>{\n             \n        });\n      \n        let tempDigitalData = digitalData;\n        setTimeout(() => {\n            if(mk == true && general == \'in\' && !sessionStorage.getItem(\'setCookiesAccepted\')){\n                tempDigitalData.forEach(it=>digitalData.push(it));\n                tempDigitalData = [];\n                sessionStorage.setItem(\'setCookiesAccepted\',\'1\')\n            }\n        }, 1000);\n\n    }\n\n    function fnAceptaPoliticaPrivicidadAdobe(boolConfiguropoliticaCookieAdobe = false, modificarConfiguracion = false) {\n        const cookie_personalizacion = politicaCookieAdobe.querySelector("#cookie_personalizacion").checked;\n        const cookie_marketing_analitica = politicaCookieAdobe.querySelector("#cookie_marketing_analitica").checked;\n        const cookie_escenciales = politicaCookieAdobe.querySelector("#cookie_escenciales").checked;\n\n        if (boolConfiguropoliticaCookieAdobe) {\n            setCookieAllDomain("politica_privacidad_personalizacion", cookie_personalizacion, (1000 * 60 * 60 * 24 * 265));//365 dias\n            setCookieAllDomain("politica_privacidad_marketing_analitica", cookie_marketing_analitica, (1000 * 60 * 60 * 24 * 265));//365 dias\n            setCookieAllDomain("politica_privacidad_escenciales", cookie_escenciales, (1000 * 60 * 60 * 24 * 265));//365 dias\n        } else {\n            setCookieAllDomain("politica_privacidad_personalizacion", true, (1000 * 60 * 60 * 24 * 265));//365 dias\n            setCookieAllDomain("politica_privacidad_marketing_analitica", true, (1000 * 60 * 60 * 24 * 265));//365 dias\n            setCookieAllDomain("politica_privacidad_escenciales", true, (1000 * 60 * 60 * 24 * 265));//365 dias\n        }\n\n        setCookieAllDomain("politica_privacidad_configurado_x_usuario", boolConfiguropoliticaCookieAdobe, (1000 * 60 * 60 * 24 * 265));//365 dias\n        MostrarCookiePoliticaPrivacidadAdobe(false);\n\n        setPrimeraCargaCookieWeb();\n        //Update de las pol\xedticas\n        //updatePoliticaPrivacidadGoogle();\n\n        //lanzar evento de adobe\n        const newEvent = new Event("adobeDataConsent");\n        globalThis.dispatchEvent(newEvent);\n\n        // console.log(\'Cookies seteadas::::\');\n        // console.log(\'personaliacion: \',getCookie("politica_privacidad_personalizacion"));\n        // console.log(\'marketing: \',getCookie("politica_privacidad_marketing_analitica"));\n        // console.log(\'escenciales: \',getCookie("politica_privacidad_escenciales"));\n        // console.log(\'politica_privacidad_configurado_x_usuario: \',getCookie("politica_privacidad_configurado_x_usuario"));\n    }\n\n    function setPrimeraCargaGoogleExpAdobe() {\n        if (getCookie("politica_privacidad_escenciales") == "") { //cuando se va mostrar el inicio de politica de privacidad\n            globalThis.dataLayer = globalThis.dataLayer || [];\n\n            function gtag() {\n                dataLayer.push(arguments);\n            }\n\n            gtag("consent",\n                "default",\n                {\n                    "personalization_storage": "denied",\n                    "analytics_storage": "denied"\n                }\n            );\n            dataLayer.push({ "event": "default_consent" });\n        }\n    }\n\n    function updatePoliticaPrivacidadGoogle() {\n        const strEstPrivacidadPersonalizacion = getCookie("politica_privacidad_personalizacion");\n        const strEstMarketingAnalitica = getCookie("politica_privacidad_marketing_analitica");\n\n        let strEstado_personalization_storage = "denied";\n        let strEstado_analytics_storage = "denied";\n\n        if (strEstPrivacidadPersonalizacion == "true") {\n            strEstado_personalization_storage = "granted";\n        }\n\n        if (strEstMarketingAnalitica == "true") {\n            strEstado_analytics_storage = "granted";\n        }\n\n        globalThis.dataLayer = globalThis.dataLayer || [];\n\n        function gtag() {\n            dataLayer.push(arguments);\n        }\n\n        gtag("consent",\n            "default",\n            {\n                "personalization_storage": strEstado_personalization_storage,\n                "analytics_storage": strEstado_analytics_storage\n            }\n        );\n\n        dataLayer.push({ "event": "default_consent" });\n    }\n\n    //Taggeos\n    function aceptarCookiesTGAB(actionBtnAceptar = false) {\n        let cookie_personalizacion = "";\n        let cookie_marketing_analitica = "";\n        let cookie_escenciales = "";\n\n        if (actionBtnAceptar) {\n            cookie_personalizacion = true;\n            cookie_marketing_analitica = true;\n            cookie_escenciales = true;\n        } else {\n            cookie_personalizacion = politicaCookieAdobe.querySelector("#cookie_personalizacion").checked;\n            cookie_marketing_analitica = politicaCookieAdobe.querySelector("#cookie_marketing_analitica").checked;\n            cookie_escenciales = politicaCookieAdobe.querySelector("#cookie_escenciales").checked;\n        }\n        const estadoCookie = (cookie) => { return cookie ? "Activo" : "Desactivo"; };\n        // console.log(`Personalizacion=>${estadoCookie(cookie_personalizacion)}|Analitica=>${estadoCookie(cookie_marketing_analitica)}|Esenciales=>${estadoCookie(cookie_escenciales)}`);\n    }\n\n    function detectarBotonTGAB(btn, category, permiso) {\n        setTimeout(() => {\n            const jsonPermisos = adobe.optIn.permissions;\n            const aa = jsonPermisos.aa;\n            const aam = jsonPermisos.aam;\n            const target = jsonPermisos.target;\n            const ecid = jsonPermisos.ecid;\n\n            let permisos = "";\n            if (permiso) {\n                permisos = ` - permisos: aa:${aa}-aam:${aam}-target:${target}-ecid:${ecid}`;\n            }\n\n            digitalData.push({\n                "action": {\n                    "group": "Politicas de Cookies",\n                    "category": "Modal",\n                    "name": "Click",\n                    "label": `${cleanLabel(btn)}${permisos}`\n                },\n                "event": "trackAction"\n            });\n        }, 100);\n    }\n\n    const mostrarCookiesConfiguradas = () => {\n        const cookie_personalizacion = politicaCookieAdobe.querySelector("#cookie_personalizacion");\n        const cookie_marketing_analitica = politicaCookieAdobe.querySelector("#cookie_marketing_analitica");\n        const cookie_escenciales = politicaCookieAdobe.querySelector("#cookie_escenciales");\n\n        if (getCookie("politica_privacidad_personalizacion") == "true") {\n            cookie_personalizacion.checked = true;\n        } else {\n            cookie_personalizacion.checked = false;\n        }\n\n        if (getCookie("politica_privacidad_marketing_analitica") == "true") {\n            cookie_marketing_analitica.checked = true;\n        } else {\n            cookie_marketing_analitica.checked = false;\n        }\n        cookie_escenciales.checked = true;\n    };\n\n</script>',
language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL12ba0ee27499499791a4564cb02fdffb",name:"[SEGUROS] Tiktok Pixel - viabcp:seguro-devolucion-total",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:seguros:complementarios:seguro-devolucion-total"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'!function (w, d, t) {\n    w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};\n    ttq.load(\'CCB6BPRC77U85D4J5PN0\');\n    ttq.page();\n  }(window, document, \'ttq\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL16980f76f9a348a5b1259ee2d0df5cc2",name:"Insurances Requests",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackInsurancesRequests"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL v2%",prop4:"%Page Name%",eVar51:"%Application Subflow%:%Application Product Category%:%Application Product%",events:"event166",prop13:"%Platform%",prop19:"%User Agent%",linkName:"Insurances Requests",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL1cd1f46140fc4ca4b09b1212ec960a53",name:"Application Start",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackStartApplication"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop4:"%Page%",eVar51:"%Application Code%:%Application Product Category%:%Application Product%",events:"event151",prop13:"%Platform%",prop19:"%User Agent%",linkName:"Application Start",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL1cdcd7b619f9487eb6ccee19a704b89b",name:"Error",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackError"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar1:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop4:"%Page%",eVar16:"%Error Code%:%Error Message%",eVar24:"%Subflow Name%",prop11:"%Error Code%:%Error Message%",prop13:"%Platform%",prop19:"%User Agent%",linkName:"Error",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL287b368169ed4e679d485239af0ec678",name:"[VEDI] Taggs Sorteos y campanas p2",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".bcp_boton_seccion[enlace='https://www.viabcp.com/ruleta-cuy-bcp']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Page%",rightOperand:"viabcp:sorteos-y-campanas-ahorros"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/06a50d0f42e4/ff009d563e44/68214667940f/RC82368a31c31f47bc9a02f662e755c24c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL29d2ef6db65b41ee9e422e947cf31495",name:"Flow",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackFlow"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop4:"%Page%",prop13:"%Platform%",prop19:"%User Agent%",prop28:"%Flow Name%:%Flow Step%:%Flow Product%:%Flow Version%",linkName:"Flow",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL2c880efeec794ac4b230aaff6f1b2f08",name:"All Pages",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar1:"%Audience Digital ID(Cookie)%",eVar2:"%Audience Profile ID(Merge)%",eVar4:"%Identity Source(Cookie)%:%Identity State(Cookie)%",eVar6:"%Internal Campaign%",prop1:"ViaBCP",prop2:"%Page URL%",prop3:"%Page Parameters%",prop4:"%Page%",prop7:"%Keyword%",prop8:"%Internal Reference%",prop9:"%Internal Campaign%",eVar18:"%Platform%",eVar31:"%Tenant Name%",eVar49:"%AdvisorID%",prop13:"%Platform%",prop19:"%User Agent%",server:"%Server%",campaign:"%Campaign%",pageName:"%Page%"}}},customCode:function(e){e.__adobe=e.__adobe||{},e.__adobe.analytics=e.__adobe.analytics||{},e.__adobe.analytics.prop4=_satellite.getVar("Page")},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:3e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'var getUrlParameter=function r(t){var e,i,n=window.location.search.substring(1).split("&");for(i=0;i<n.length;i++)if((e=n[i].split("="))[0]===t)return void 0===e[1]||decodeURIComponent(e[1]);return!1};\n\nvar profile = getUrlParameter("transport");\n\nif(profile != false)\n{\n  _satellite.cookie.set("audience.profileid", profile, { expires: 365, domain: ".viabcp.com", path: "/" });\n  _satellite.cookie.set("audience.identity.source", "Email", { expires: 365, domain: ".viabcp.com", path: "/" });\n  _satellite.cookie.set("audience.identity.state", "Non-Authenticated", { expires: 365, domain: ".viabcp.com", path: "/" });\n}',language:"javascript"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webpagedetails.pageViews",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL305d7d108a8f4eda87b6b92b8c0821c3",name:"Audience - Mi Espacio",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formSolicitalo > div.bcp_grupo_documento_btndescubrir > button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/06a50d0f42e4/ff009d563e44/68214667940f/RC3a9777877ee54b9c8dcdf749f38ab44f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL31f152d2189a4fd0b0a9196511236637",name:"Audience",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackAudience"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobeDataConsent"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar1:"%Audience Digital ID%",eVar2:"%Audience Profile ID(Merge)%",eVar4:"%Identity Source%:%Identity State%",prop1:"ViaBCP",prop4:"%Page%",linkName:"Audience",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL3a3d61100785416c8600cfef965ae09c",name:"[SEGUROS] Meta Pixel - viabcp:seguro-sos-salud",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:seguros:salud:sos-salud"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<!-- Meta Pixel Code -->\n<script>\n!function(f,b,e,v,n,t,s)\n{if(f.fbq)return;n=f.fbq=function(){n.callMethod?\nn.callMethod.apply(n,arguments):n.queue.push(arguments)};\nif(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\nn.queue=[];t=b.createElement(e);t.async=!0;\nt.src=v;s=b.getElementsByTagName(e)[0];\ns.parentNode.insertBefore(t,s)}(window, document,'script',\n'https://connect.facebook.net/en_US/fbevents.js');\nfbq('init', '1508307513133317');\nfbq('track', 'PageView');\n</script>\n<noscript><img height=\"1\" width=\"1\" style=\"display:none\"\nsrc=\"https://www.facebook.com/tr?id=1508307513133317&ev=PageView&noscript=1\"\n/></noscript>\n<!-- End Meta Pixel Code -->\n\n",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL40079ad07ee6434b83fedc5a5cf17bac",name:"BMO | Meta & Google | viabcp:sorteo-banca-movil-bcp:quiz-cambiar-clave-pin | ViewContent & Outbound Click",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:sorteo-banca-movil-bcp:quiz-cambiar-clave-pin"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\nvar btnIniciarQuiz = document.querySelector('.bcp_iniciar_quiz');\n\nbtnIniciarQuiz.addEventListener('click', function(){\n  fbq('track', 'ViewContent');\n  gtag('event', 'conversion', {\n      'send_to': 'AW-11403503822/l38ZCKWitu0ZEM7Rzr0q',\n  });\n})\n</script>",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL4294aa9f90e34b5398819196d7d67a47",name:"[VEDI] Pixel Bing - viabcp:Wardaditos ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackPage"},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Page%",rightOperand:"viabcp:wardaditos"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/06a50d0f42e4/ff009d563e44/68214667940f/RCd681e45fc2d947e8ad643277050b41e1-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL44414b32d6ef439da14049e482c2c714",name:"[AHORRO] Tiktok Pixel - viabcp:inversiones-fondos-mutuos",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:inversiones-fondos-mutuos"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'!function (w, d, t) {\n  w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(\nvar e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")\n;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};\n\n\n  ttq.load(\'D2IF26RC77U4ENLNFLNG\');\n  ttq.page();\n}(window, document, \'ttq\');\n',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL4e5170a402274d07815e257d407f703a",name:"[AHORRO] Gtag - viabcp:inversiones-fondos-mutuos",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:inversiones-fondos-mutuos"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"\n    const scriptFirst = document.createElement('script');\n    scriptFirst.src = 'https://www.googletagmanager.com/gtag/js?id=AW-17180122656'\n\n    const scriptSecund = document.createElement('script');\n    scriptSecund.textContent = `window.dataLayer = window.dataLayer || [];\n    function gtag() { dataLayer.push(arguments); }\n    gtag('js', new Date());\n    gtag('config', 'AW-17180122656');`\n\n    const scriptThree = document.createElement('script');\n    scriptThree.textContent = `function gtag_report_conversion(url) {\n        var callback = function () {\n            if (typeof (url) != 'undefined') {\n            }\n        };\n        gtag('event', 'conversion', {\n            'send_to': 'AW-17180122656/Y4ecCNGo540bEKC8j4BA',\n            'event_callback': callback\n        });\n        return false;\n    }`\n\n    document.head.appendChild(scriptFirst);\n    document.head.appendChild(scriptSecund);\n    document.head.appendChild(scriptThree);\n\n    var mensajeConfirmacionRegistroAdobe = document.querySelector(\".bcp_confirmacion_registro\");\n    var listenerOptionsFBQAdobe = {\n        attributes: true\n    }\n\n    function fbqCallbackAdobe(mutationList, observer) {\n        mutationList.forEach(function (mutation) {\n            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n                console.warn(mutation.target.classList)\n                if (!mutation.target.classList.contains('ocultar')) {\n                    fbq('track', 'Lead', {\n                       content_ids: 'webinarffmm'\n                    });\n                    return gtag_report_conversion('https://www.viabcp.com/inversiones-fondos-mutuos')\n                }\n            }\n        })\n    }\n\n    var successSubmitFormObserverAdobe = new MutationObserver(fbqCallbackAdobe);\n    successSubmitFormObserverAdobe.observe(mensajeConfirmacionRegistroAdobe, listenerOptionsFBQAdobe);\n",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL52580cdafd054cbd82a8b3efe700392a",name:"[CARDS] Tiktok Pixel - viabcp:solicitar-tarjeta",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:solicitar-tarjeta"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'!function (w, d, t) {w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++\n)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};ttq.load(\'CAKFLNBC77UCMC06MIPG\');\n\t\t  ttq.page();}(window, document, \'ttq\');\n\n!function (w, d, t) {\n w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};\n\n  ttq.load(\'CBDCALJC77UFDP4P8ING\');\n  ttq.page();\n}(window, document, \'ttq\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL542a60cabf6d4158af3fdedaa0a80ae1",name:"Indigitall",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'window.addEventListener(\'load\',()=>{\n    /*\n      Lista de topics que se van a subscribir de manera forzada\n      Ejemplo:\n        var EXTRA_TOPICS = ["contrata"];\n    */\n    var EXTRA_TOPICS = [];\n    /*\n      N\u02d9mero m\xb7ximo de topics seg\u02d9n el tipo por cada usuario\n      MAX_NAV_TOPICS: topics que indican por qu\xc8 URLs navega el usuario\n      MAX_DL_TOPICS: topics que indican qu\xc8 variables tiene el usuario en el data layer\n    */\n    var MAX_NAV_TOPICS = 10;\n    /*\n      Variable de referencia que se usa para buscar el objeto relevante dentro del dataLayer\n    */\n    var DL_USER_CONTRACT_ATTR_NAME = "userContract";\n    /*\n      Prefijos para los c\xdbdigos de topic en la consola de indigitall\n      NAVIGATION_PREFIX: todos los topics de navegaci\xdbn deben tener un c\xdbdigo que incluya este prefijo\n      DL_PREFIX: todos los topics del dataLayer deben tener un c\xdbdigo que incluya este prefijo\n    */\n    var NAVIGATION_PREFIX = "nav";\n    /*\n      Claves que se usar\xb7n en LocalStorage para cachear los topics a los que est\xb7 suscrito el usuario\n    */\n    var NAVIGATION_LS_KEY = "ind.navTopics";\n    /*\n      Caracter de sustituci\xdbn para eliminar las barras / de los c\xdbdigos de los topics\n    */\n    var SEPARATOR = "_";\n    /*\n      UTILS\n    */\n    function getNavigationTopics(topicCodesAvailable) {\n        var navigationTopicCodes = location.pathname\n            .split("/")\n            .filter(function (pathFolder) {\n                return pathFolder.length > 0;\n            });\n        if (navigationTopicCodes.length == 0) {\n            return navigationTopicCodes;\n        }\n        navigationTopicCodes = navigationTopicCodes\n            .map(function (pathFolder, index) {\n                var topicCode = pathFolder;\n                for (var i = index - 1; i >= 0; i--) {\n                    topicCode = navigationTopicCodes[i] + SEPARATOR + topicCode;\n                }\n                return NAVIGATION_PREFIX + SEPARATOR + topicCode;\n            })\n            .filter(function (topicCode) {\n                return topicCodesAvailable.includes(topicCode);\n            });\n        return navigationTopicCodes;\n    }\n    \n    function getTopicCodeFromHostname() {\n        return location.hostname.replace(/\\./g, \'\');\n    }\n    \n    function filterTopicsAlreadySubscribed(currentTopicCodes, topicsAvailable) {\n        var topicCodesNotSubscribed = topicsAvailable\n            .filter(function (topic) {\n                return !topic.subscribed;\n            })\n            .map(function (topic) {\n                return topic.code;\n            });\n            \n        var topicCodesFiltered = currentTopicCodes.filter(function (topicCode) {\n            return topicCodesNotSubscribed.includes(topicCode);\n        });\n        return topicCodesFiltered;\n    }\n    \n    function filterMaxTopics(topicCodes, localStorageKey, maxTopics) {\n        var topicsOn = [];\n        var topicsOff = [];\n        var prevTopics = JSON.parse(localStorage.getItem(localStorageKey) || "[]");\n        for (var i = 0; i < topicCodes.length; i++) {\n            var topic = topicCodes[i];\n            if (topic !== "" && topic != null && !prevTopics.includes(topic)) {\n                prevTopics.push(topic);\n                if (prevTopics.length > maxTopics) {\n                    topicsOff.push(prevTopics[0]);\n                    prevTopics.splice(0, 1);\n                }\n                localStorage.setItem(localStorageKey, JSON.stringify(prevTopics));\n                topicsOn.push(topic);\n            }\n        }\n        return {\n            topicsOn: topicsOn,\n            topicsOff: topicsOff\n        };\n    }\n    \n    function unionArrays(x, y) {\n        var obj = {};\n        for (var i = x.length - 1; i >= 0; --i) {\n            obj[x[i]] = x[i];\n        }\n        for (var i = y.length - 1; i >= 0; --i) {\n            obj[y[i]] = y[i];\n        }\n        var res = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                res.push(obj[k]);\n            }\n        }\n        return res;\n    }\n    /*\n      MAIN\n    */\n    function onIndigitallInitialized(permissions, device) {\n        if (permissions.push != "granted") {\n            return;\n        }\n        indigitall.topicsList(function (topics) {\n            var topicsAvailable = topics;\n            var topicCodesAvailable = topics.map(function (topic) {\n                return topic.code;\n            });\n            /* Topics en base a navegaci\xdbn */\n            var currentNavigationTopicCodes = getNavigationTopics(topicCodesAvailable);\n            currentNavigationTopicCodes = filterTopicsAlreadySubscribed(currentNavigationTopicCodes, topicsAvailable);\n            var navigationTopicsChanges = filterMaxTopics(currentNavigationTopicCodes, NAVIGATION_LS_KEY, MAX_NAV_TOPICS);\n            /* Topics en base a hostname */\n            var currentHostnameTopicCode = getTopicCodeFromHostname();\n            currentHostnameTopicCode = filterTopicsAlreadySubscribed([currentHostnameTopicCode], topicsAvailable);\n            /* Sync con backend */\n            var topicsOn = unionArrays(navigationTopicsChanges.topicsOn, currentHostnameTopicCode);\n            topicsOn = unionArrays(topicsOn, EXTRA_TOPICS);\n            var topicsOff = navigationTopicsChanges.topicsOff;\n            if (topicsOff.length > 0) {\n                indigitall.topicsUnsubscribe(topicsOff, function () {\n                    if (topicsOn.length > 0) {\n                        indigitall.topicsSubscribe(topicsOn);\n                    }\n                });\n            } else if (topicsOn.length > 0) {\n                indigitall.topicsSubscribe(topicsOn);\n            }\n        });\n    }\n\n    const renderizarInditall = (linkjs) => {\n        return  new Promise(function (resolve, reject) {\n            let scriprenderGenesys = document.createElement(\'script\');\n            scriprenderGenesys.src = linkjs;\n            scriprenderGenesys.async = true;\n            scriprenderGenesys.onload = () => resolve(scriprenderGenesys);\n            scriprenderGenesys.onerror = () => reject(new Error(`Error al cargar cxbus`));\n            document.head.append(scriprenderGenesys);\n        });\n    }\n\n    renderizarInditall(\'https://www.viabcp.com/wcm/connect/765d8b1e-d1e3-45d6-8080-b31132e90703/sdk.min.js?MOD=AJPERES\').then((result) => {\n        console.log(\'renderizaci\xf3n correcta indigitall\');\n        indigitall.init({\n            appKey: \'0d4ac988-058a-41b1-9a6d-00a297a6d12f\',\n            urlDeviceApi: \'https://eu2.device-api.indigitall.com/v1\',\n            workerPath: \'https://www.viabcp.com/wcm/connect/93adb98c-b595-4b24-b130-10841ed6951a/worker.min.js?MOD=AJPERES\',\n            requestLocation: true,\n            onInitialized: onIndigitallInitialized\n            })\n    }).catch((err) => {\n        console.error(err);\n    });\n    \n    });\n',language:"javascript"},timeout:3e3,delayNext:!0}]},{id:"RL548ca8efc4d943dba06796218d64c9c0",name:"[VEDI] Tiktok Pixel - viabcp:sorteos-y-campanas-ahorros",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:sorteos-y-campanas-ahorros"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'\nif (typeof window.ttq === \'undefined\') {\n  !function (w, d, t) {w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++\n  )ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};ttq.load(\'CAKFLNBC77UCMC06MIPG\');\n            ttq.page();}(window, document, \'ttq\');\n\n  !function (w, d, t) {\n   w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};\n\n    ttq.load(\'CBDCB8JC77U9114T8CGG\');\n    ttq.page();\n  }(window, document, \'ttq\');\n}',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL5510eb89e077448d8434eb037861a2dc",name:"[FN] Meta & Google Event - Simulador",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:pymes:financiamiento:adelanto-pago:factoring"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{
modulePath:"core/src/lib/actions/customCode.js",settings:{source:'(function(){\n    function waitForElm(selector) {\n        return new Promise(resolve => {\n            if (document.querySelector(selector)) {\n                return resolve(document.querySelector(selector));\n            }\n            const observer = new MutationObserver(mutations => {\n                if (document.querySelector(selector)) {\n                    observer.disconnect();\n                    resolve(document.querySelector(selector));\n                }\n            });\n            observer.observe(document.body, {\n                childList: true,\n                subtree: true\n            });\n        });\n    }\n    waitForElm(\'.bcp-respuesta-registro-correcto\').then((elm) => {\n        const observerThankPageMeta = new MutationObserver((mutationsList,observer) => {\n            for (const mutation of mutationsList) {\n                if (mutation.type === "attributes" && mutation.attributeName === "class") {\n                    if (contentThankPage.classList.contains("mostrar")) {\n                        console.log("Facebook Pixel - CompleteRegistration event triggered");\n                        fbq(\'track\', \'CompleteRegistration\', {content_ids: \' PYME -Factoring - Simular factura \',});\n                        dataLayer.push({\n                          event: "virtualEvent",\n                          category: "PYME -Factoring",\n                          action: "Simular factura",\n                          label: "Simulaci\xf3n exitosa",\n                        });\n                    }\n                }\n            }\n        });\n        observerThankPageMeta.observe(elm, { attributes: true });\n    });\n\n})();',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL58389d89e420428d85ec96da38dba37b",name:"MetadataList",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackMetadataList"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobeDataConsent"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop4:"%Page%",prop13:"%Platform%",prop19:"%User Agent%",prop23:"%Metadata List%",linkName:"Metadata List",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL5a63763cc01b41619c5ce86dc8197ba2",name:"BMO | Meta & Google | viabcp:sorteo-banca-movil-bcp:quiz-compras-cuotas | CompleteRegistration & Sign-Up",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:sorteo-banca-movil-bcp:quiz-compras-cuotas"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\nlet encuestaMensaje = document.querySelector('.bcp_mensaje_correcto');\nlet btnFinalizarEncuesta = document.querySelector('.bcp_boton_naranja.large.bcp_finalizar');\n\nbtnFinalizarEncuesta.addEventListener('click', function(){\n  if(encuestaMensaje.className.includes('mostrar')){\n     fbq('track', 'CompleteRegistration');\n     gtag('event', 'conversion', {'send_to': 'AW-11403503822/F-7tCKuitu0ZEM7Rzr0q'});\n  }\n})\n</script>",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL5ab229144fc74661bfe1763a480481bf",name:"[BMO] Tiktok Pixel - viabcp:canales:banca-movil",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:canales:banca-movil"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'\nif (typeof window.ttq === \'undefined\') {\n  !function (w, d, t) {w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++\n  )ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};ttq.load(\'CAKFLNBC77UCMC06MIPG\');\n            ttq.page();}(window, document, \'ttq\');\n\n  !function (w, d, t) {\n   w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};\n\n    ttq.load(\'CNPI0B3C77UBDEM2AULG\');\n    ttq.page();\n  }(window, document, \'ttq\');\n}',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL5b834d5510284ee9b624477be5d722c5",name:"[CARDS] Tiktok Pixel - viabcp:ando",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:ando"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'!function (w, d, t) {w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++\n)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};ttq.load(\'CAKFLNBC77UCMC06MIPG\');\n\t\t  ttq.page();}(window, document, \'ttq\');\n\n!function (w, d, t) {\n w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};\n\n  ttq.load(\'C67E94QEIQROG4KST40G\');\n  ttq.page();\n}(window, document, \'ttq\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL5cd5686a6c2f4d56aeb0a997c1df51c8",name:"[FN] Pixel Linkiden - factura-negociable",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:pymes:financiamiento:adelanto-pago:factura-negociable"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'_linkedin_partner_id = "2567833";\nwindow._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];\nwindow._linkedin_data_partner_ids.push(_linkedin_partner_id);\n\n(function(l) {\nif (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};\nwindow.lintrk.q=[]}\nvar s = document.getElementsByTagName("script")[0];\nvar b = document.createElement("script");\nb.type = "text/javascript";b.async = true;\nb.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";\ns.parentNode.insertBefore(b, s);})(window.lintrk);\nconsole.log(\'carga exitosa de pixel linkiden\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL5e9a342d6c604146a050e04d7fbd2183",name:"[CARDS] Tiktok Pixel - viabcp:mitarjetabcp",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:mitarjetabcp"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'!function (w, d, t) {w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++\n)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};ttq.load(\'CAKFLNBC77UCMC06MIPG\');\n\t\t  ttq.page();}(window, document, \'ttq\');\n\n!function (w, d, t) {\n w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};\n\n  ttq.load(\'C67E94QEIQROG4KST40G\');\n  ttq.page();\n}(window, document, \'ttq\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL5f2939c81b0f4ecd8a75ead1198b390f",name:"BMO | Meta & Google | viabcp:sorteo-banca-movil-bcp:quiz-datos-tarjetas | ViewContent & Outbound Click",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:sorteo-banca-movil-bcp:quiz-datos-tarjetas"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\nvar btnIniciarQuiz = document.querySelector('.bcp_iniciar_quiz');\n\nbtnIniciarQuiz.addEventListener('click', function(){\n  fbq('track', 'ViewContent');\n  \n  gtag('event', 'conversion', {\n      'send_to': 'AW-11403503822/l38ZCKWitu0ZEM7Rzr0q',\n    });\n})\n</script>\n",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL634e09168363447889793bc9a4d0d918",name:"[VEDI] Tiktok Pixel - viabcp:abrir-cuenta",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:abrir-cuenta"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'!function (w, d, t) {w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++\n)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};ttq.load(\'CAKFLNBC77UCMC06MIPG\');\n\t\t  ttq.page();}(window, document, \'ttq\');\n\n!function (w, d, t) {\n w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};\n\n  ttq.load(\'CBDCB8JC77U9114T8CGG\');\n  ttq.page();\n}(window, document, \'ttq\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL677df77595f4478590d1ed45f97f5b17",name:"Google Tag Manager - MCGJ62 v2",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"let noscriptTagManager = document.createElement('noscript');\n    noscriptTagManager.innerText = `<iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-MCGJ62\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-WZTD854\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe>`;\n    document.body.appendChild(noscriptTagManager);\n\n    let tag_manager = `(function(w, d, s, l, i) {\n            w[l] = w[l] || [];\n            w[l].push({\n                'gtm.start': new Date().getTime(),\n                event: 'gtm.js'\n            });\n            var\n                f = d.getElementsByTagName(s)[0],\n                j = d.createElement(s),\n                dl = l != 'dataLayer' ? '&l=' + l : '';\n            j.async = true;\n            j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;\n            f.parentNode.insertBefore(j, f);\n            })(window, document, 'script', 'dataLayer', 'GTM-MCGJ62');\n\n            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n            })(window,document,'script','dataLayer','GTM-WZTD854')\n            ;`\n\n    //tag manager\n    let script_5 = document.createElement(\"script\");\n    script_5.text = tag_manager;\n    document.getElementsByTagName('head')[0].appendChild(script_5);",language:"javascript"},timeout:2e3,delayNext:!0},{modulePath:"acronym-gtag.js/src/lib/actions/load.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL67c16cbcaed6474facdbe439e31f4f02",name:"[FN] Pixel Linkiden - factoring",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:pymes:financiamiento:adelanto-pago:factoring"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'_linkedin_partner_id = "2567833";\nwindow._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];\nwindow._linkedin_data_partner_ids.push(_linkedin_partner_id);\n\n(function(l) {\nif (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};\nwindow.lintrk.q=[]}\nvar s = document.getElementsByTagName("script")[0];\nvar b = document.createElement("script");\nb.type = "text/javascript";b.async = true;\nb.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";\ns.parentNode.insertBefore(b, s);})(window.lintrk);\nconsole.log(\'carga exitosa de pixel linkiden\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL68dfb619b1ba4ca8a279d51653192227",name:"[FN] Meta & Google Event - Formulario Evaluate",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:pymes:evaluate-bcp"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"function waitForElemento(selector) {\n    return new Promise(resolve => {\n        if (document.querySelector(selector)) {\n            return resolve(document.querySelector(selector));\n        }\n        const observer = new MutationObserver(mutations => {\n            if (document.querySelector(selector)) {\n                observer.disconnect();\n                resolve(document.querySelector(selector));\n            }\n        });\n        observer.observe(document.body, {\n            childList: true,\n            subtree: true\n        });\n    });\n}\nwaitForElemento('#formSolicitalo .bcp_confirmacion_registro').then((elm) => {\n    console.log(\"Observando pagina de gracias - PYME Evaluate - Formulario\");\n    const contentThankPage = elm;\n    const observerThankPageMeta = new MutationObserver((mutationsList,observer) => {\n        for (const mutation of mutationsList) {\n            if (mutation.type === \"attributes\" && mutation.attributeName === \"class\") {\n                if (!contentThankPage.classList.contains(\"ocultar\")) {\n                    fbq('track', 'CompleteRegistration', {content_ids: ' PYME -Evaluate - Formulario ',});\n                    dataLayer.push({\n                        event:'virtualEvent',\n                        category:'Pyme Web Evaluate BCP',\n                        action:'Enviar formulario',\n                        label:'Registro exitoso'\n                    });\n                    console.log(\"evento enviados - PYME Evaluate - Formulario\");\n                }\n            }\n        }\n    });\n    observerThankPageMeta.observe(elm, { attributes: true });\n});\nwaitForElemento('.bcp-contenedor-datamart').then((button) => {\n    button.addEventListener('click', () => {\n        fbq('track', 'ViewContent', {content_ids: 'Pyme - Evaluate - Sincroniza aqu\xed'});\n        dataLayer.push({\n            event:'virtualEvent',\n            category:'PYME - evaluate',\n            action:'Ver contenido',\n            label:'Sincroniza aqui'\n        });\n        console.log(\"evento enviados - Clic en boton enviar\");\n    });\n})",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL690f509f79cd4c1dab1720219908930b",name:"Promotion View",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackPromotionView"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop3:"%Page Parameters%",prop4:"%Page%",prop7:"%Keyword%",prop8:"%Internal Reference%",prop9:"%Internal Campaign%",events:"event21",prop13:"%Platform%",prop19:"%User Agent%",prop29:"%Promotion Name%:%Promotion Creative%:%Promotion Position%",linkName:"Promotion View",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL7086f7dc9b454a6b860d3c77deaf5975",name:"Log",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackLog"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop4:"%Page%",eVar17:"%Log Message%",eVar24:"%Subflow Name%",prop12:"%Log Message%",prop13:"%Platform%",prop19:"%User Agent%",linkName:"Log",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL70d2edfacc484bfca3aaae0069869318",name:"Metadata",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackMetadata"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobeDataConsent"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",eVar6:"%Internal Campaign%",prop1:"ViaBCP",prop2:"%Page URL%",prop3:"%Page Parameters%",prop4:"%Page%",prop7:"%Keyword%",prop8:"%Internal Reference%",prop9:"%Internal Campaign%",eVar22:"%Metadata Key%:%Metadata Value%",eVar31:"%Tenant Name%",prop13:"%Platform%",prop19:"%User Agent%",prop23:"%Metadata Key%:%Metadata Value%",prop24:"%Subflow Name%",linkName:"Metadata",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL747bf554eaba4974bc653b9350e1eabd",name:"[VEDI] Tiktok Pixel - viabcp:ruleta-sueldazo",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:ruleta-sueldazo"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'\nif (typeof window.ttq === \'undefined\') {\n  !function (w, d, t) {w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++\n  )ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};ttq.load(\'CAKFLNBC77UCMC06MIPG\');\n            ttq.page();}(window, document, \'ttq\');\n\n  !function (w, d, t) {\n   w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};\n\n    ttq.load(\'CBDCB8JC77U9114T8CGG\');\n    ttq.page();\n  }(window, document, \'ttq\');\n}',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL77d80f8e38e24932aa08f6c5ee9276dc",name:"Popup",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackPopup"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop4:"%Page%",eVar24:"%Subflow Name%",prop13:"%Platform%",prop19:"%User Agent%",prop27:"%Popup Name%",linkName:"Popup",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL7867161910a345ebb7b75bee8ac0dea3",name:"BMO | Meta & Google | viabcp:sorteo-banca-movil-bcp | Contact",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:sorteo-banca-movil-bcp"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"<script>\nlet btnIniciarClavePIN = document.querySelectorAll('.bcp_boton_naranja.small')[7];\nlet btnVerDatosTarjeta = document.querySelectorAll('.bcp_boton_naranja.small')[8];\nlet btnPasarCuotas = document.querySelectorAll('.bcp_boton_naranja.small')[9];\nlet btnEstadoCuenta = document.querySelectorAll('.bcp_boton_naranja.small')[10];\n\n\nfunction gtag_report_conversion() {\n  gtag('event', 'conversion', {\n       'send_to': 'AW-11403503822/b9nGCJ-itu0ZEM7Rzr0q'\n  });\n}\n  \n  \nbtnIniciarClavePIN.addEventListener('click', function () {\n   fbq('track','Contact');\n   gtag_report_conversion()\n})\n  \nbtnVerDatosTarjeta.addEventListener('click', function () {\n   fbq('track','Contact')\n   gtag_report_conversion()\n})\n  \nbtnPasarCuotas.addEventListener('click', function () {\n   fbq('track','Contact')\n   gtag_report_conversion()\n})\n  \nbtnEstadoCuenta.addEventListener('click', function () {\n   fbq('track','Contact')\n   gtag_report_conversion()\n})\n</script>",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL796bcb6b01624d1a9d9ea4fcffd5661c",name:"Scroll",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackScroll"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop3:"%Page Parameters%",prop4:"%Page%",prop8:"%Internal Reference%",prop9:"%Internal Campaign%",prop13:"%Platform%",prop15:"%Scroll Percent%",prop19:"%User Agent%",linkName:"Scroll",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL7fd5010079ef48af93d0da880a466cfe",name:"[SEGUROS] Meta Pixel - viabcp:seguro-sos-salud OMD",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:seguros:salud:sos-salud"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<!-- Meta Pixel Code -->\n\n<script>\n!function(f,b,e,v,n,t,s)\n{if(f.fbq)return;n=f.fbq=function(){n.callMethod?\nn.callMethod.apply(n,arguments):n.queue.push(arguments)};\nif(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\nn.queue=[];t=b.createElement(e);t.async=!0;\nt.src=v;s=b.getElementsByTagName(e)[0];\ns.parentNode.insertBefore(t,s)}(window, document,'script',\n'https://connect.facebook.net/en_US/fbevents.js');\nfbq('init', '1717062378584697');\nfbq('track', 'PageView');\n</script>\n\n<noscript><img height=\"1\" width=\"1\" style=\"display:none\" src=\"https://www.facebook.com/tr?id=1717062378584697&ev=PageView&noscript=1\"/></noscript>\n<!-- End Meta Pixel Code -->\n\n",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL84ae6a162997478797a8bc1b377836ba",name:"Form Submit",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackFormSubmit"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop3:"%Page Parameters%",prop4:"%Page%",eVar21:"%Form Channel%:%Form Name%:%Form Product%:%Form Version%",events:"event17",prop13:"%Platform%",prop19:"%User Agent%",prop23:"%Metadata Key%:%Metadata Value%",linkName:"Form Submit",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL8705c8275ce04e61a1858e59bcb39d1d",name:"[SEGUROS] Google- Pixel ID: 727954917",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Page%",rightOperand:"viabcp:seguros:vehicular:seguro-vehicular"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<!-- Google tag (gtag.js) --> \n<script async src=\"https://www.googletagmanager.com/gtag/js?id=AW-727954917\"></script> \n<script> \n  window.dataLayer = window.dataLayer || []; \n  function gtag(){dataLayer.push(arguments);} \n  gtag('js', new Date()); gtag('config', 'AW-727954917'); \n\n</script>",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL88b5f565bf004f67a7b9311875cf178c",name:"[SEGUROS] TikTok Pixel - viabcp:seguro-sos-salud",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:seguros:salud:sos-salud"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<!-- TikTok Pixel Code Start -->\n<script>\n!function (w, d, t) {\n  w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(\nvar e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")\n;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};\n\n\n  ttq.load(\'CML9MTBC77UBB48CJQ8G\');\n  ttq.page();\n}(window, document, \'ttq\');\n</script>\n<!-- ttq.instance(\'CML9MTBC77UBB48CJQ8G\').track(\'SubmitForm\')  -->\n<!-- TikTok Pixel Code End -->\n',language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL8d4984ae94fb40f290240c388e47a5a7",name:"BMO | Meta & Google | viabcp:sorteo-banca-movil-bcp:quiz-cambiar-clave-pin | CompleteRegistration & Sign-Up",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:sorteo-banca-movil-bcp:quiz-cambiar-clave-pin"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\nlet encuestaMensaje = document.querySelector('.bcp_mensaje_correcto');\nlet btnFinalizarEncuesta = document.querySelector('.bcp_boton_naranja.large.bcp_finalizar');\n\nbtnFinalizarEncuesta.addEventListener('click', function(){\n  if(encuestaMensaje.className.includes('mostrar')){\n     fbq('track', 'CompleteRegistration');\n     gtag('event', 'conversion', {'send_to': 'AW-11403503822/F-7tCKuitu0ZEM7Rzr0q'});\n  }\n})\n</script>",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL97bdcca7a02d4559ae495f3a22cceb44",name:"[CARDS] Tiktok Pixel - viabcp:beneficiostarjetabcp",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:beneficiostarjetabcp"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'!function (w, d, t) {w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++\n)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};ttq.load(\'CAKFLNBC77UCMC06MIPG\');\n\t\t  ttq.page();}(window, document, \'ttq\');\n\n!function (w, d, t) {\n w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};\n\n  ttq.load(\'CBDCALJC77UFDP4P8ING\');\n  ttq.page();\n}(window, document, \'ttq\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL983979a79c444af48283121d9ff81592",name:"Action List",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackActionList"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop4:"%Page%",prop10:"%Action List%",prop13:"%Platform%",prop19:"%User Agent%",linkName:"Action List",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RL9baa2cc211344f148616119fa99ddddd",name:"BMO | gtag | PageView",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackPage"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:sorteo-banca-movil-bcp"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/06a50d0f42e4/ff009d563e44/68214667940f/RC60e2757b12914627aee7e74544c76fec-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLa1466b8773bf400dae69f47cd330b4d7",name:"[SEGUROS] Meta Pixel - viabcp:seguro-devolucion-total",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:seguros:complementarios:seguro-devolucion-total"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<!-- Meta Pixel Code -->\n\n<script>\n\n!function(f,b,e,v,n,t,s)\n\n{if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n\nn.callMethod.apply(n,arguments):n.queue.push(arguments)};\n\nif(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n\nn.queue=[];t=b.createElement(e);t.async=!0;\n\nt.src=v;s=b.getElementsByTagName(e)[0];\n\ns.parentNode.insertBefore(t,s)}(window, document,'script',\n\n'https://connect.facebook.net/en_US/fbevents.js');\n\nfbq('init', '1717062378584697');\n\nfbq('track', 'PageView');\n  \n</script>\n\n<noscript><img height=\"1\" width=\"1\" style=\"display:none\" src=\"https://www.facebook.com/tr?id=1717062378584697&ev=PageView&noscript=1\"/></noscript>\n\n<!-- End Meta Pixel Code -->",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLa1fdee97824a414baba3892a045f519e",name:"[AHORRO] Meta- viabcp:inversiones-fondos-mutuos",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:inversiones-fondos-mutuos"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\n!function(f,b,e,v,n,t,s)\n{if(f.fbq)return;n=f.fbq=function(){n.callMethod?\nn.callMethod.apply(n,arguments):n.queue.push(arguments)};\nif(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\nn.queue=[];t=b.createElement(e);t.async=!0;\nt.src=v;s=b.getElementsByTagName(e)[0];\ns.parentNode.insertBefore(t,s)}(window, document,'script',\n'https://connect.facebook.net/en_US/fbevents.js');\nfbq('init', '1049830132194753');\nfbq('track', 'PageView');\n</script>\n<noscript><img height=\"1\" width=\"1\" style=\"display:none\"\nsrc=\"https://www.facebook.com/tr?id=1049830132194753&ev=PageView&noscript=1\"\n/></noscript>",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLa296123b8e1443f98ecd986c66821334",name:"Action",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackAction"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop3:"%Page Parameters%",prop4:"%Page%",prop7:"%Keyword%",prop8:"%Internal Reference%",prop9:"%Internal Campaign%",eVar15:"%Action Group%:%Action Category%:%Action Name%:%Action Label%",eVar24:"%Subflow Name%",eVar31:"%Tenant Name%",prop10:"%Action Group%:%Action Category%:%Action Name%:%Action Label%",prop13:"%Platform%",prop19:"%User Agent%",prop23:"%Metadata List%",linkName:"Action",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RLa3b186860d734216824463485aecb764",name:"Element",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackElement"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobeDataConsent"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop4:"%Page%",eVar24:"%Subflow Name%",prop13:"%Platform%",prop19:"%User Agent%",prop26:"%Element Container%:%Element Type%:%Element Name%",linkName:"Element",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RLa3eea7d4bf6f484f84ae12f05d01b016",name:"Hotjar",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(function(h,o,t,j,a,r){\n    h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};\n    h._hjSettings={hjid:2055958,hjsv:6};\n    a=o.getElementsByTagName('head')[0];\n    r=o.createElement('script');r.async=1;\n    r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;\n    a.appendChild(r);\n})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLa900494716ae4683a6659200bc67275b",name:"BMO | Meta & Google | viabcp:sorteo-banca-movil-bcp:quiz-estado-cuenta | CompleteRegistration & Sign-Up",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:sorteo-banca-movil-bcp:quiz-estado-cuenta"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\nlet encuestaMensaje = document.querySelector('.bcp_mensaje_correcto');\nlet btnFinalizarEncuesta = document.querySelector('.bcp_boton_naranja.large.bcp_finalizar');\n\nbtnFinalizarEncuesta.addEventListener('click', function(){\n  if(encuestaMensaje.className.includes('mostrar')){\n     fbq('track', 'CompleteRegistration');\n     gtag('event', 'conversion', {'send_to': 'AW-11403503822/F-7tCKuitu0ZEM7Rzr0q'});\n  }\n})\n</script>",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLad6003b912284340a4b382f93bd455a1",name:"[LOANS] Tiktok Pixel - viabcp:prestamos",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:prestamo"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'\nif (typeof window.ttq === \'undefined\') {\n  !function (w, d, t) {w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++\n  )ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};ttq.load(\'CAKFLNBC77UCMC06MIPG\');\n            ttq.page();}(window, document, \'ttq\');\n\n  !function (w, d, t) {\n   w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};\n\n    ttq.load(\'C4VQHP7PECQ6U88FQT50\');\n    ttq.page();\n  }(window, document, \'ttq\');\n}',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLaf14f5a18196428f91a495b681d4210d",name:"[CARDS] Meta pixel  - compra-y-gana",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:compra-y-gana"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<!-- Meta Pixel Code -->\n<script>\n\t!(function (f, b, e, v, n, t, s) {\n\t\tif (f.fbq) return;\n\t\tn = f.fbq = function () {\n\t\t\tn.callMethod\n\t\t\t\t? n.callMethod.apply(n, arguments)\n\t\t\t\t: n.queue.push(arguments);\n\t\t};\n\t\tif (!f._fbq) f._fbq = n;\n\t\tn.push = n;\n\t\tn.loaded = !0;\n\t\tn.version = "2.0";\n\t\tn.queue = [];\n\t\tt = b.createElement(e);\n\t\tt.async = !0;\n\t\tt.src = v;\n\t\ts = b.getElementsByTagName(e)[0];\n\t\ts.parentNode.insertBefore(t, s);\n\t})(\n\t\twindow,\n\t\tdocument,\n\t\t"script",\n\t\t"https://connect.facebook.net/en_US/fbevents.js"\n\t);\n\n\tfbq("init", "699718431052164");\n\tfbq("track", "PageView");\n</script>\n\n<noscript>\n\t<img\n\t\theight="1"\n\t\twidth="1"\n\t\tstyle="display: none"\n\t\tsrc="https://www.facebook.com/tr?id=699718431052164&ev=PageView&noscript=1"\n\t/>\n</noscript>\n\n<!-- End Meta Pixel Code -->\n\n<script>\n\t/**\n\t * Crea un vigilante sobreescribiendo el m\xe9todo \'push\' de un array.\n\t * Esta es la forma recomendada para observar estructuras como el DataLayer de Analytics.\n\t *\n\t * @param {Array} arrayObjetivo El array que se desea monitorear (ej. window.dataLayer).\n\t * @param {Function} funcionDeReaccion La funci\xf3n a ejecutar por cada nuevo elemento introducido.\n\t * Recibe como argumento el objeto de evento (elementoEvento).\n\t */\n\tfunction vigilarArray(arrayObjetivo, funcionDeReaccion) {\n\t\t// Validar que exista el array y tenga el m\xe9todo push\n\t\tif (!arrayObjetivo || typeof arrayObjetivo.push !== "function") {\n\t\t\tconsole.warn("vigilarArray: arrayObjetivo no es v\xe1lido");\n\t\t\treturn;\n\t\t}\n\n\t\t// 1. Guarda una referencia a la funci\xf3n \'push\' original.\n\t\tconst pushOriginal = arrayObjetivo.push;\n\n\t\t// 2. Sobreescribe la funci\xf3n \'push\' con tu l\xf3gica personalizada.\n\t\tarrayObjetivo.push = function (...arguments) {\n\t\t\t// Itera sobre todos los argumentos que se pasaron a push (puede ser m\xe1s de uno)\n\t\t\tfor (const elementoEvento of arguments) {\n\t\t\t\t// Llama a la funci\xf3n de reacci\xf3n con el nuevo elemento\n\t\t\t\t// Aqu\xed se ejecuta la l\xf3gica de monitoreo.\n\t\t\t\ttry {\n\t\t\t\t\tfuncionDeReaccion(elementoEvento);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error("Error en funcionDeReaccion:", error);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// 3. Ejecuta el \'push\' original para asegurar que los datos\n\t\t\t//    se a\xf1adan al array y que las herramientas de terceros funcionen.\n\t\t\t//    El \'apply\' es crucial para mantener el contexto \'this\' (el propio array).\n\t\t\treturn pushOriginal.apply(this, arguments);\n\t\t};\n\n\t\t// 4. Procesa cualquier evento que ya estuviera en el array\n\t\t//    antes de que este vigilante fuera inicializado.\n\t\tarrayObjetivo.forEach(funcionDeReaccion);\n\t}\n\n\t// Validar que digitalData exista antes de usar\n\tif (typeof digitalData !== "undefined") {\n\t\tvigilarArray(digitalData, function (evento) {\n\t\t\tif (evento && evento.event === "trackFormSubmit") {\n\t\t\t\tfbq("track", "CompleteRegistration");\n\t\t\t}\n\t\t});\n\t} else {\n\t\tconsole.warn("digitalData no est\xe1 definido");\n\t}\n</script>\n',language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLbcadb283bdb24de284efa2f69536f3cc",name:"BMO | Google | Submit Lead Form | viabcp:sorteo-banca-movil-bcp:registrate",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:sorteo-banca-movil-bcp:registrate"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\nvar RegistradoExito = document.querySelector('.bcp_respuesta_registro_correcto');\n\nfunction registroExistosoBMO(){\n    gtag('event', 'conversion', {\n     'send_to': 'AW-11403503822/S9xtCKiitu0ZEM7Rzr0q'\n   });\n}\n\nbtnEnviarRegistrateBMO.addEventListener('click', function(){\n\tif(RegistradoExito.className.includes('mostrar')){\n  \t\tregistroExistosoBMO()\n\t}\n})\n</script>",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLc0e1a8a917c64e27a9b303a6a6dbb904",name:"[CARDS] Tiktok Pixel - viabcp:messi10",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:messi10"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'!function (w, d, t) {w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++\n)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};ttq.load(\'CAKFLNBC77UCMC06MIPG\');\n\t\t  ttq.page();}(window, document, \'ttq\');\n\n!function (w, d, t) {\n w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};\n\n  ttq.load(\'CBTTUNBC77UFHQ3J35C0\');\n  ttq.page();\n}(window, document, \'ttq\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLc15dfa2308b44e168ac7f7ebc8f5594d",name:"[SEGUROS] Tiktok Pixel - viabcp:seguros:vehicular:soat",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:seguros:vehicular:soat"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:'!function (w, d, t) {\n    w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};\n    ttq.load(\'CC34KARC77U26CFAUIK0\');\n    ttq.page();\n  }(window, document, \'ttq\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLc229c4311a874ee68c4783e5ff7ab183",name:"BMO | Meta & Google | viabcp:sorteo-banca-movil-bcp:quiz-datos-tarjetas | CompleteRegistration & Sign-Up",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:sorteo-banca-movil-bcp:quiz-datos-tarjetas"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\nlet encuestaMensaje = document.querySelector('.bcp_mensaje_correcto');\nlet btnFinalizarEncuesta = document.querySelector('.bcp_boton_naranja.large.bcp_finalizar');\n\nbtnFinalizarEncuesta.addEventListener('click', function(){\n  if(encuestaMensaje.className.includes('mostrar')){\n     fbq('track', 'CompleteRegistration');\n     gtag('event', 'conversion', {'send_to': 'AW-11403503822/F-7tCKuitu0ZEM7Rzr0q'});\n  }\n})\n</script>",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLc36bc8b4cfdc4aaa9669c27e0eb935ca",name:"[AHORROS] Bing init - ID: 187230451",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackPage"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"fondos-mutuos"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_personalizacion",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/06a50d0f42e4/ff009d563e44/68214667940f/RC04b6cf3f9d1c4b528de91dc38bcb1264-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc47d1337e3b64deeb4385ff1c6d87fdb",name:"[FN] Pixel Linkiden - evaluate-bcp",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:pymes:evaluate-bcp"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'_linkedin_partner_id = "2567833";\nwindow._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];\nwindow._linkedin_data_partner_ids.push(_linkedin_partner_id);\n\n(function(l) {\nif (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};\nwindow.lintrk.q=[]}\nvar s = document.getElementsByTagName("script")[0];\nvar b = document.createElement("script");\nb.type = "text/javascript";b.async = true;\nb.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";\ns.parentNode.insertBefore(b, s);})(window.lintrk);\nconsole.log(\'carga exitosa de pixel linkiden\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLc8e91e0db8fd4842bfc97b7e5530a17f",name:"[VEDI] Taggs Sorteos y campanas p1",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".bcp_boton_seccion[enlace='https://www.viabcp.com/promos-ahorros-bcp']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Page%",rightOperand:"viabcp:sorteos-y-campanas-ahorros"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/06a50d0f42e4/ff009d563e44/68214667940f/RC6bdf74986e814124b23fbfa53e10a44d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLce8163623168472a9e7c9c7fa355af45",name:"[SEGUROS] Pixel Bing - viabcp:seguros:vehicular:seguro-vehicular",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackPage"},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Page%",rightOperand:"viabcp:seguros:vehicular:seguro-vehicular"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/06a50d0f42e4/ff009d563e44/68214667940f/RCcdd2bda6e8ea43c0b6cb7b2c2577529b-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd157d318a0e74f4a93c649fdd6548177",name:"[AHORROS] Meta pixel  - millas ahorro bcp",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:millas-ahorro-bcp"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"    const scriptFirst = document.createElement('script');\n    scriptFirst.src = 'https://www.googletagmanager.com/gtag/js?id=AW-16451689511'\n\n\n    const scriptSecund = document.createElement('script');\n    scriptSecund.textContent = `window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'AW-16451689511');`\n\n    const scriptThree = document.createElement('script');\n    scriptThree.textContent = `function gtag_report_conversion(url) { var callback = function () { if (typeof(url) != 'undefined') {} }; gtag('event', 'conversion', { 'send_to': 'AW-16451689511/MV_4CJnW_ecZEKe446Q9', 'event_callback': callback }); return false; }`\n\n    document.head.appendChild(scriptFirst);\n    document.head.appendChild(scriptSecund);\n    document.head.appendChild(scriptThree);\n\n    var mensajeConfirmacionRegistroAdobe = document.querySelector(\".vedi-confirmacion-campana.vedi-registro-campana\");\n    var listenerOptionsFBQAdobe = {\n        attributes: true\n    }\n\n    function fbqCallbackAdobe(mutationList, observer) {\n        mutationList.forEach(function (mutation) {\n            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n                console.log(mutation.target.classList)\n                if (!mutation.target.classList.contains('vedi-ocultar')) {\n                    return gtag_report_conversion('https://www.viabcp.com/millas-ahorro-bcp')\n                }\n            }\n        })\n    }\n\n    var successSubmitFormObserverAdobe = new MutationObserver(fbqCallbackAdobe);\n    successSubmitFormObserverAdobe.observe(mensajeConfirmacionRegistroAdobe, listenerOptionsFBQAdobe);",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLd37cecf7ac74409392991ac97b77fc53",name:"Form Error",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackFormError"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop4:"%Page%",eVar21:"%Form Channel%:%Form Name%:%Form Product%:%Form Version%",events:"event18",prop13:"%Platform%",prop19:"%User Agent%",prop23:"%Metadata Key%:%Metadata Value%",linkName:"Form Error",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RLd3f02577bfe54ec59fd1be3733b6271b",name:"[AHORROS] Meta pixel  - beneficios meta ahorro bcp",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:beneficios-meta-ahorro-bcp"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"    const scriptFirst = document.createElement('script');\n    scriptFirst.src = 'https://www.googletagmanager.com/gtag/js?id=AW-16451689511'\n\n\n    const scriptSecund = document.createElement('script');\n    scriptSecund.textContent = `window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'AW-16451689511');`\n\n    const scriptThree = document.createElement('script');\n    scriptThree.textContent = `function gtag_report_conversion(url) { var callback = function () { if (typeof(url) != 'undefined') {  } }; gtag('event', 'conversion', { 'send_to': 'AW-16451689511/dp2ICKSk4OMZEKe446Q9', 'event_callback': callback }); return false; }`\n\n    document.head.appendChild(scriptFirst);\n    document.head.appendChild(scriptSecund);\n    document.head.appendChild(scriptThree);\n\n    var mensajeConfirmacionRegistroAdobe = document.querySelector(\".vedi-confirmacion-campana.vedi-registro-campana\");\n    var listenerOptionsFBQAdobe = {\n        attributes: true\n    }\n\n    function fbqCallbackAdobe(mutationList, observer) {\n        mutationList.forEach(function (mutation) {\n            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n                console.log(mutation.target.classList)\n                if (!mutation.target.classList.contains('vedi-ocultar')) {\n                    return gtag_report_conversion('https://www.viabcp.com/beneficios-meta-ahorro-bcp')\n                }\n            }\n        })\n    }\n\n    var successSubmitFormObserverAdobe = new MutationObserver(fbqCallbackAdobe);\n    successSubmitFormObserverAdobe.observe(mensajeConfirmacionRegistroAdobe, listenerOptionsFBQAdobe);",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLd414db4f25674cc7a8520fbd815ee5d2",name:"BMO | Meta & Google | viabcp:sorteo-banca-movil-bcp:quiz-compras-cuotas | ViewContent & Outbound Click",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:sorteo-banca-movil-bcp:quiz-compras-cuotas"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\nvar btnIniciarQuiz = document.querySelector('.bcp_iniciar_quiz');\n\nbtnIniciarQuiz.addEventListener('click', function(){\n  fbq('track', 'ViewContent');\n  gtag('event', 'conversion', {\n    'send_to': 'AW-11403503822/l38ZCKWitu0ZEM7Rzr0q',\n    });\n  })\n</script>",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLd468afc580454aef8b67bd0178baf1ff",name:"[SEGUROS] Bing Pixel - viabcp:seguro-sos-salud",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:seguros:salud:sos-salud"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<!-- PIXEL BING -->\n<script>\n  (function(w,d,t,r,u)\n  {\n    var f,n,i;\n    w[u]=w[u]||[],f=function()\n    {\n      var o={ti:"187137284", enableAutoSpaTracking: true};\n      o.q=w[u],w[u]=new UET(o),w[u].push("pageLoad")\n    },\n    n=d.createElement(t),n.src=r,n.async=1,n.onload=n.onreadystatechange=function()\n    {\n      var s=this.readyState;\n      s&&s!=="loaded"&&s!=="complete"||(f(),n.onload=n.onreadystatechange=null)\n    },\n    i=d.getElementsByTagName(t)[0],i.parentNode.insertBefore(n,i)\n  })\n  (window,document,"script","//bat.bing.com/bat.js","uetq");\n</script>',language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLd779bc3cb8204917ab03023aaa1dc006",name:"[SEGUROS] Tiktok Pixel - viabcp:seguros:vehicular:seguro-vehicular",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:seguros:vehicular:seguro-vehicular"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'!function (w, d, t) {   w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for( var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script") ;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};   ttq.load(\'CML9MTBC77UBB48CJQ8G\');   ttq.page(); }(window, document, \'ttq\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLdab169805b25443c980f6a6f8d9b9b92",name:"[VEDI] Tiktok taggeo - viabcp:ruleta-sueldazo",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:ruleta-sueldazo"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"\ndocument.querySelector(\n    \".bcp-ruleta-content-dni-button button\"\n).addEventListener(\"click\", () => {\n    ttq.track('click',  {\n        element_id: 'boton-sueldazo-dni',\n        element_category: 'boton',\n        action: 'click',\n        page_url: window.location.href\n    });\n});",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLdd77ff546a384dbe887fea0d6b57330d",name:"Scroll Percentage || 20 | 40 | 60 | 80 | 100",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%Page%",rightOperand:"viabcp:"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'let maxPercentage = (document.documentElement.clientHeight / document.documentElement.scrollHeight) * 100;\nlet sentRanges = [];\n\nfunction getMaxPageViewPercentage() {\n    const scrollTop = window.scrollY;\n    const windowHeight = document.documentElement.clientHeight;\n    const docHeight = document.documentElement.scrollHeight;\n\n    // Calculamos el porcentaje de la p\xe1gina visto por el usuario\n    const percentageViewed = (scrollTop + windowHeight) / docHeight * 100;\n\n    // Guardamos el porcentaje m\xe1ximo si es mayor\n    if (percentageViewed > maxPercentage) {\n        maxPercentage = percentageViewed;\n    }\n}\n\n// Funci\xf3n para enviar los datos a Adobe Analytics\nfunction sendDataToAdobeAnalytics(percentage) {\n    console.log(`Enviando el porcentaje m\xe1ximo visto: ${Math.floor(percentage)}% a Adobe Analytics`);\n    digitalData.push({\n        "scroll": {\n            "parts": "5",\n            "percent": Math.floor(percentage)\n        },\n        "event": "trackScroll"\n    });\n}\n\n// Verifica si un rango de porcentaje ya ha sido enviado\nfunction shouldSendDataForRange(percentage) {\n    const range = Math.floor(percentage / 20) * 20;\n    if (!sentRanges.includes(range)) {\n        sentRanges.push(range);\n        return true;\n    }\n    return false;\n}\n\n// Escuchamos el evento de desplazamiento para calcular el porcentaje m\xe1ximo\nwindow.addEventListener(\'scroll\', function () {\n    getMaxPageViewPercentage();\n    \n    // Comprobamos si el rango debe ser enviado solo una vez\n    if (maxPercentage >= 20 && maxPercentage < 40 && shouldSendDataForRange(20)) {\n        sendDataToAdobeAnalytics(20);\n    } else if (maxPercentage >= 40 && maxPercentage < 60 && shouldSendDataForRange(40)) {\n        sendDataToAdobeAnalytics(40);\n    } else if (maxPercentage >= 60 && maxPercentage < 80 && shouldSendDataForRange(60)) {\n        sendDataToAdobeAnalytics(60);\n    } else if (maxPercentage >= 80 && maxPercentage < 100 && shouldSendDataForRange(80)) {\n        sendDataToAdobeAnalytics(80);\n    } else if (maxPercentage === 100 && shouldSendDataForRange(100)) {\n        sendDataToAdobeAnalytics(100);\n    }\n});\n',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLe0cfa23d08ed4834955c22a55c2e9b19",name:"Promotion Click",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackPromotionClick"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobeDataConsent"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop3:"%Page Parameters%",prop4:"%Page%",prop7:"%Keyword%",prop8:"%Internal Reference%",prop9:"%Internal Campaign%",events:"event22",prop13:"%Platform%",prop19:"%User Agent%",prop29:"%Promotion Name%:%Promotion Creative%:%Promotion Position%",linkName:"Promotion Click",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]},{id:"RLe807ab758e0f47eca2bbd9ffe4c7dc6f",name:"GTAG | Seguros Evento",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:proteccion-de-tarjetas-campana"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/load.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLe95f9720bc0d4d378ca26b52bdfb4bc2",name:"BMO | Meta & Google | viabcp:sorteo-banca-movil-bcp:quiz-estado-cuenta | ViewContent & Outbound Click",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:sorteo-banca-movil-bcp:quiz-estado-cuenta"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\nvar btnIniciarQuiz = document.querySelector('.bcp_iniciar_quiz');\n\nbtnIniciarQuiz.addEventListener('click', function(){\n  fbq('track', 'ViewContent');\n  gtag('event', 'conversion', {\n      'send_to': 'AW-11403503822/l38ZCKWitu0ZEM7Rzr0q',\n  });\n})\n</script>",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLea7225e1523e4327b8914a3b987f4b19",name:"Adobe Target",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:30}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"decisioning.propositionFetch",instanceName:"alloy",personalization:{sendDisplayEvent:!1},renderDecisions:!0},timeout:2e3,delayNext:!0}]},{id:"RLf6001cc1a6a24fcf856be255f11592a0",name:"[AHORRO] META - viabcp:ruleta-del-cuy",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:ruleta-del-cuy"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"\nvar mensajeConfirmacionRegistroAdobe = document.querySelector(\".vedi-banner-campana.bcp_formulario\");\nvar listenerOptionsFBQAdobe = {\n    attributes: true\n}\n\nfunction fbqCallbackAdobe(mutationList, observer) {\n    mutationList.forEach(function (mutation) {\n        if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n            if (mutation.target.classList.contains('landing-inactive')) {\n                fbq('track', 'CompleteRegistration', { \"content_name\":\"Registro Exitoso Ruleta Cuy\", });\n            }\n        }\n    })\n}\n\nvar successSubmitFormObserverAdobe = new MutationObserver(fbqCallbackAdobe);\nsuccessSubmitFormObserverAdobe.observe(mensajeConfirmacionRegistroAdobe, listenerOptionsFBQAdobe);",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLf7415a10c5f04bc08bfc4cd0912e0835",name:"[VEDI] Tiktok Pixel - viabcp:campana-traslado-cts-sorteo",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackFormSubmit"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:campana-traslado-cts-sorteo"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/06a50d0f42e4/ff009d563e44/68214667940f/RCa0d4775da5374767a91d26cdcad907ab-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf892feb8b0314a9c946045d57605990d",name:"[CARDS] AT - Decision Scopes - viabcp:solicitar-tarjeta",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:solicitar-tarjeta"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'const listMboxes = [\n  "personalizacion",\n  "experimento",\n  "pruebas"\n];\n\n// Crear el contenedor principal si no existe\nconst mainSelector = "node-content-parent";\nlet parentSelector = document.querySelector(`.${mainSelector}`);\nif (!parentSelector) {\n  parentSelector = document.createElement("div");\n  parentSelector.classList.add(mainSelector);\n  document.body.appendChild(parentSelector);\n}\n\n// Crear un div para cada mbox\nlistMboxes.forEach(mbox => {\n  const mboxDiv = document.createElement("div");\n  mboxDiv.classList.add("mbox-container");\n  mboxDiv.setAttribute("data-mbox", mbox);\n  mboxDiv.classList.add(mbox); // Tambi\xe9n puedes usar esto para aplicar estilos espec\xedficos\n  parentSelector.appendChild(mboxDiv);\n});\n\n// Enviar evento con renderDecisions activado\nalloy("sendEvent", {\n  type: "decisioning.propositionFetch",\n  data:{\n    __adobe:{\n      analytics:{\n        prop1 : "ViaBCP",\n        prop2 : _satellite.getVar("Page Url"),\n        prop4 : _satellite.getVar("Page"),\n        eVar18 : _satellite.getVar("Platform"),\n        server : _satellite.getVar("Server"),\n        pageURL : _satellite.getVar("Page URL"),\n        pageName : _satellite.getVar("Page"),\n      }\n    }\n  },\n  xdm: {\n      web: {\n        webPageDetails: {\n          name: _satellite.getVar("Page")\n        }\n      }\n    },\n  decisionScopes: listMboxes,\n  renderDecisions: true\n}).then(function (result) {\n  console.log("\ud83d\udd0d Result:", result);\n\n  const retrievedPropositions = result.propositions;\n\n  if (!retrievedPropositions || retrievedPropositions.length === 0) {\n    console.warn("No propositions returned for mbox");\n    return;\n  }\n\n  // Aplicar proposiciones directamente en cada div correspondiente\n  const metadata = {};\n  listMboxes.forEach(mbox => {\n    metadata[mbox] = {\n      selector: `[data-mbox="${mbox}"]`,\n      actionType: "replaceHtml"\n    };\n  });\n\n  alloy("applyPropositions", {\n    propositions: retrievedPropositions,\n    metadata\n  });\n});\n',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLfc10083fcac5457e901df77170959a81",name:"[SEGUROS] Facebook - Pixel ID: 1717062378584697 ",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Page%",rightOperand:"viabcp:seguros:vehicular:seguro-vehicular"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\n\n!function(f,b,e,v,n,t,s)\n\n{if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n\nn.callMethod.apply(n,arguments):n.queue.push(arguments)};\n\nif(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n\nn.queue=[];t=b.createElement(e);t.async=!0;\n\nt.src=v;s=b.getElementsByTagName(e)[0];\n\ns.parentNode.insertBefore(t,s)}(window, document,'script',\n\n'https://connect.facebook.net/en_US/fbevents.js');\n\nfbq('init', '1717062378584697');\n\nfbq('track', 'PageView');\n  \n</script>\n\n<noscript><img height=\"1\" width=\"1\" style=\"display:none\" src=\"https://www.facebook.com/tr?id=1717062378584697&ev=PageView&noscript=1\"/></noscript>",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLfc4c2d4ecfca42879f8865ca7d6f14b6",name:"[SEGUROS] Tiktok Pixel - viabcp:seguros:complementarios:seguro-viajes",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:seguros:complementarios:seguro-viajes"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'!function (w, d, t) {   w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for( var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script") ;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};   ttq.load(\'CML9MTBC77UBB48CJQ8G\');   ttq.page(); }(window, document, \'ttq\');',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLfcb7bfad739643f89dd269d90ecdd214",name:"[AHORROS] Meta pixel  - ahorro exclusivo bcp",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"adobeDataConsent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page%",rightOperand:"viabcp:ahorro-exclusivo-bcp"},timeout:2e3},{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"    const scriptFirst = document.createElement('script');\n    scriptFirst.src = 'https://www.googletagmanager.com/gtag/js?id=AW-16451689511'\n\n\n    const scriptSecund = document.createElement('script');\n    scriptSecund.textContent = `window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'AW-16451689511');`\n\n    const scriptThree = document.createElement('script');\n    scriptThree.textContent = `function gtag_report_conversion(url) { var callback = function () { if (typeof(url) != 'undefined') {} }; gtag('event', 'conversion', { 'send_to': 'AW-16451689511/hvWjCI721eMZEKe446Q9', 'event_callback': callback }); return false; }`\n\n    document.head.appendChild(scriptFirst);\n    document.head.appendChild(scriptSecund);\n    document.head.appendChild(scriptThree);\n\n    var mensajeConfirmacionRegistroAdobe = document.querySelector(\".vedi-confirmacion-campana.vedi-registro-campana\");\n    var listenerOptionsFBQAdobe = {\n        attributes: true\n    }\n\n    function fbqCallbackAdobe(mutationList, observer) {\n        mutationList.forEach(function (mutation) {\n            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n                console.log(mutation.target.classList)\n                if (!mutation.target.classList.contains('vedi-ocultar')) {\n                    return gtag_report_conversion('https://www.viabcp.com/ahorro-exclusivo-bcp')\n                }\n            }\n        })\n    }\n\n    var successSubmitFormObserverAdobe = new MutationObserver(fbqCallbackAdobe);\n    successSubmitFormObserverAdobe.observe(mensajeConfirmacionRegistroAdobe, listenerOptionsFBQAdobe);",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLfd206915854f4e89a0bbeb7a3b907390",name:"Form View",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"trackFormView"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"politica_privacidad_marketing_analitica",cookieValues:[{value:"true"}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:{eVar2:"%Audience Profile ID(Merge)%",prop1:"ViaBCP",prop2:"%Page URL%",prop3:"%Page Parameters%",prop4:"%Page%",eVar21:"%Form Channel%:%Form Name%:%Form Product%:%Form Version%",events:"event16",prop13:"%Platform%",prop19:"%User Agent%",prop23:"%Metadata Key%:%Metadata Value%",linkName:"Form View",linkType:"o"}}},transforms:{"__adobe.analytics":{clear:!0}},dataElementId:"DEae7904f6d47a4d6b9a2e24ea4c01253d"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%Adobe Analytics Data Object%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0}},timeout:2e3,delayNext:!0}]}]};var _satellite=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(){return oe?ne:(oe=1,ne=function(e){return e})}function n(){if(ie)return ae;ie=1;var e={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},t="\ud83d\ude80",n=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":t,o=!1,a=100,i=new Set,r=function(t){if(o&&window.console){var a=Array.prototype.slice.call(arguments,1);a.unshift(n),t!==e.DEBUG||window.console[t]||(t=e.INFO),window.console[t].apply(window.console,a)}},s=r.bind(null,e.LOG),c=r.bind(null,e.INFO),l=r.bind(null,e.DEBUG),d=r.bind(null,e.WARN),u=r.bind(null,e.ERROR),p=function(){var t=arguments[0];if("string"!=typeof t&&(t=String(t)),o)r.apply(null,[e.WARN].concat(Array.prototype.slice.call(arguments)));else if(!i.has(t)){if(i.add(t),i.size>a){var n=i.values().next().value;i.delete(n)}var s=o;o=!0,r.apply(null,[e.WARN].concat(Array.prototype.slice.call(arguments))),o=s}},m={log:s,info:c,debug:l,warn:d,error:u,deprecation:p,createPrefixedLogger:function(e){var t="["+e+"]";return{log:s.bind(null,t),info:c.bind(null,t),debug:l.bind(null,t),warn:d.bind(null,t),error:u.bind(null,t)}}};return Object.defineProperty(m,"outputEnabled",{get:function(){return o},set:function(e){!1===o&&!0===e&&i.clear(),o=e},enumerable:!0,configurable:!0}),ae=m}function o(){return se?re:(se=1,re=document)}function a(){return le?ce:(le=1,ce=Object.assign)}function i(){return ue?de:(ue=1,de=window)}function r(){function e({window:e}){return function(t,n,o,a){var i,r=Boolean(n&&Array.isArray(o)),s=Boolean(r&&t),c=document.createElement("a");if(r){var l=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(t&&(/^((https?:)?\/\/).+/.test(t)||l(),/^\/\/.+/.test(t)?c.href=e.location.protocol+t:c.href=t),c.hostname||l(),-1===o.indexOf(c.hostname)){var d=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw d.code="dynamic_host_not_allowed",d}}var u=function(){if(null!=i)return i;if(s){var e=c.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),i=c.protocol+"//"+e}else i="";return i},p=function(e){return s&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},m={getTurbineHost:u,decorateWithDynamicHost:p,get isDynamicEnforced(){return r}};if(e){function g(t){t?e.dynamicHostResolver=m:delete e.dynamicHostResolver}a.onDebugChanged(g),g(a.getDebugEnabled())}return m}}if(me)return pe;me=1;const n=t()(e);return pe=n({window:i()})}function s(){return fe?ge:(fe=1,ge=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))})}function c(){if(he)return be;he=1;var e="debug";return be=function(t,n){var o=function(){return"true"===t.getItem(e)},a=function(n){t.setItem(e,n)},i=[],r=function(e){i.push(e)};return n.outputEnabled=o(),{onDebugChanged:r,getDebugEnabled:o,setDebugEnabled:function(e){o()!==e&&(a(e),n.outputEnabled=e,i.forEach((function(t){t(e)})))}}},be}function l(){if(ye)return ve;ye=1;var e="Module did not export a function.";return ve=function(t,n,o){return function(a,i,r){r=r||[];var s=t.getModuleExports(a.modulePath);if("function"!=typeof s)throw new Error(e);var c=t.getModuleDefinition(a.modulePath),l=a.settings||{};!a.hasTransformedFilePaths&&c.filePaths&&(o(l,c.filePaths,a.modulePath),a.hasTransformedFilePaths=!0);var d=n(l,i);return s.bind(null,d).apply(null,r)}}}function d(){return ke?_e:(ke=1,_e=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e})}function u(){function e({window:e}){var t="com.adobe.reactor.";return function(n,o){var a=t+(o||"");return{getItem:function(t){try{return e[n].getItem(a+t)}catch(e){return null}},setItem:function(t,o){try{return e[n].setItem(a+t,o),!0}catch(e){return!1}}}}}if(we)return Ce;we=1;const n=t()(e);return Ce=n({window:i()})}function p(){if(Ee)return Pe;Ee=1;var e=u(),t="dataElements.",n=e("sessionStorage",t),o=e("localStorage",t),a={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},i={},r=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t};return Pe={setValue:function(e,t,s){var c;switch(t){case a.PAGEVIEW:return void(i[e]=s);case a.SESSION:return void((c=r(s))&&n.setItem(e,c));case a.VISITOR:return void((c=r(s))&&o.setItem(e,c))}},getValue:function(e,t){var r;switch(t){case a.PAGEVIEW:return i.hasOwnProperty(e)?i[e]:null;case a.SESSION:return null===(r=n.getItem(e))?r:JSON.parse(r);case a.VISITOR:return null===(r=o.getItem(e))?r:JSON.parse(r)}}}}function m(){function e({cleanText:e,dataElementSafe:t,logger:n}){return function(o,i,r,s,c){return function(l,d){var u=i(l);if(!u)return s?"":void 0;var p,m,g=u.storageDuration;try{p=o.getModuleExports(u.modulePath),m=o.getModuleDefinition(u.modulePath)}catch(e){return void n.error(a(u,l,e.message,e.stack))}if("function"==typeof p){var f,b=u.settings||{};!u.hasTransformedFilePaths&&m.filePaths&&(c(b,m.filePaths,u.modulePath),u.hasTransformedFilePaths=!0);try{f=p(r(b,d),d)}catch(e){return void n.error(a(u,l,e.message,e.stack))}return g&&(null!=f?t.setValue(l,g,f):f=t.getValue(l,g)),null==f&&null!=u.defaultValue&&(f=u.defaultValue),"string"==typeof f&&(u.cleanText&&(f=e(f)),u.forceLowerCase&&(f=f.toLowerCase())),f}n.error(a(u,l,"Module did not export a function."))}}}if(xe)return je;xe=1;var o=t(),a=function(e,t,n,o){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(o?"\n"+o:"")};const i=o(e);return je=i({cleanText:d(),logger:n(),dataElementSafe:p()})}function g(){if(qe)return Ae;qe=1;var e=d(),t={text:function(e){return e.textContent},cleanText:function(t){return e(t.textContent)}},n=function(e,n,o){for(var a,i=e,r=0,s=n.length;r<s;r++){if(null==i)return;var c=n[r];if(o&&"@"===c.charAt(0)){var l=c.slice(1);i=t[l](i)}else if(i.getAttribute&&(a=c.match(/^getAttribute\((.+)\)$/))){var d=a[1];i=i.getAttribute(d)}else i=i[c]}return i};return Ae=function(e,t,o){return function(a,i){var r;if(t(a))r=o(a,i);else{var s=a.split("."),c=s.shift();"this"===c?i&&(r=n(i.element,s,!0)):"event"===c?i&&(r=n(i,s)):"target"===c?i&&(r=n(i.target,s)):r=n(e[c],s)}return r}}}function f(){return Ie?Se:(Ie=1,Se=function(e,t){return function(n){var o=n.split(".")[0];return Boolean(t(n)||"this"===o||"event"===o||"target"===o||e.hasOwnProperty(o))}})}function b(){return Te?Oe:(Te=1,Oe=function(e,t,n){var o={exports:{}};return e.call(o.exports,o,o.exports,t,n),o.exports})}function h(){function e({extractModuleExports:e,logger:t}){return function(){var n={},o=function(e){var t=n[e];if(!t)throw new Error("Module "+e+" not found.");return t},a=function(){Object.keys(n).forEach((function(e){try{i(e)}catch(o){var n="Error initializing module "+e+". "+o.message+(o.stack?"\n"+o.stack:"");t.error(n)}}))},i=function(t){var n=o(t);return n.hasOwnProperty("exports")||(n.exports=e(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(e,t,o,a,i){var r={definition:t,extensionName:o,require:a,turbine:i};r.require=a,n[e]=r},hydrateCache:a,getModuleExports:i,getModuleDefinition:function(e){return o(e).definition},getModuleExtensionName:function(e){return o(e).extensionName}}}}if(Ne)return De;Ne=1;const o=t()(e);return De=o({extractModuleExports:b(),logger:n()})}function v(){function e({logger:e}){return function(t){var n=!1;return function(o,a){var i=t._monitors;i&&(n||(e.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),n=!0),i.forEach((function(e){e[o]&&e[o](a)})))}}}if(Le)return Re;Le=1;const o=t()(e);return Re=o({logger:n()})}function y(){function e({logger:e}){return function(t,n,o){var a,i,r,s,c=[],l=function(e,a,i){if(!t(a))return e;c.push(a);var r=n(a,i);return c.pop(),null==r&&o?"":r};return a=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?l(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return l(e,n,t)}))},i=function(e,t){for(var n={},o=Object.keys(e),a=0;a<o.length;a++){var i=o[a],r=e[i];n[i]=s(r,t)}return n},r=function(e,t){for(var n=[],o=0,a=e.length;o<a;o++)n.push(s(e[o],t));return n},s=function(e,t){return"string"==typeof e?a(e,t):Array.isArray(e)?r(e,t):"object"==typeof e&&null!==e?i(e,t):e},function(t,n){return c.length>10?(e.error("Data element circular reference detected: "+c.join(" -> ")),t):s(t,n)}}}if(Fe)return Me;Fe=1;const o=t()(e);return Me=o({logger:n()})}function _(){return Be||(Be=1,Ve=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}}),Ve}function k(){return ze?Ue:(ze=1,Ue="undefined"!=typeof window&&window.Promise||void 0!==tn&&tn.Promise)}function C(){if(Ge)return $e;Ge=1;var e=k();return $e=function(t,n,o){return function(a,i,r,s){return s.then((function(){var s,c=a.delayNext;return new e((function(n,o){var i=t(a,r,[r]);if(!c)return n();var l=a.timeout,d=new e((function(e,t){s=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+l/1e3+" seconds to complete. "))}),l)}));e.race([i,d]).then(n,o)})).catch((function(t){return clearTimeout(s),t=n(t),o(a,i,t),e.reject(t)})).then((function(){clearTimeout(s)}))}))}},$e}function w(){if(Qe)return He;Qe=1;var e=k();return He=function(t,n,o,a,i){return function(r,s,c,l){return l.then((function(){var l;return new e((function(n,o){var a=t(r,c,[c]),i=r.timeout,s=new e((function(e,t){l=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+i/1e3+" seconds to complete. "))}),i)}));e.race([a,s]).then(n,o)})).catch((function(t){return clearTimeout(l),t=n(t),a(r,s,t),e.reject(t)})).then((function(t){if(clearTimeout(l),!o(r,t))return i(r,s),e.reject()}))}))}},He}function P(){if(Ke)return We;Ke=1;var e=k().resolve();return We=function(t,n,o){return function(a,i){return a.conditions&&a.conditions.forEach((function(n){e=t(n,a,i,e)})),a.actions&&a.actions.forEach((function(t){e=n(t,a,i,e)})),e=(e=e.then((function(){o(a)}))).catch((function(){}))}}}function E(){return Xe?Je:(Xe=1,Je=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)})}function j(){if(Ze)return Ye;Ze=1;var e=E();return Ye=function(t,n,o,a){return function(i,r){var s;if(i.conditions)for(var c=0;c<i.conditions.length;c++){s=i.conditions[c];try{var l=t(s,r,[r]);if(e(l))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!n(s,l))return o(s,i),!1}catch(e){return a(s,i,e),!1}}return!0}},Ye}function x(){return tt?et:(tt=1,et=function(e,t){return function(n,o){e(n,o)&&t(n,o)}})}function A(){return ot?nt:(ot=1,nt=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}})}function q(){return it?at:(it=1,at=function(e){return function(t){var n=t.rule,o=t.event,a=e.getModuleDefinition(o.modulePath).name;return{$type:e.getModuleExtensionName(o.modulePath)+"."+a,$rule:{id:n.id,name:n.name}}}})}function S(){return st||(st=1,rt=function(e,t,n,o,a,i){return function(r,s){var c=s.rule,l=s.event;l.settings=l.settings||{};try{var d=a(s);t(l,null,[function(t){var o=n(d,t);r((function(){e(o,c)}))}])}catch(e){i.error(o(l,c,e))}}}),rt}function I(){return lt||(lt=1,ct=function(e,t,n,o){return function(a,i,r){var s=t(a);n.error(e(s,i.name,r)),o("ruleActionFailed",{rule:i,action:a})}}),ct}function O(){return ut||(ut=1,dt=function(e,t,n,o){return function(a,i,r){var s=t(a);n.error(e(s,i.name,r)),o("ruleConditionFailed",{rule:i,condition:a})}}),dt}function T(){return mt||(mt=1,pt=function(e,t,n){return function(o,a){var i=e(o);t.log('Condition "'+i+'" for rule "'+a.name+'" was not met.'),n("ruleConditionFailed",{rule:a,condition:o})}}),pt}function D(){return ft||(ft=1,gt=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}}),gt}function N(){return ht?bt:(ht=1,bt=function(e,t,n){return function(o,a){var i;if(o.actions)for(var r=0;r<o.actions.length;r++){i=o.actions[r];try{e(i,a,[a])}catch(e){return void t(i,o,e)}}n(o)}})}function R(){return yt?vt:(yt=1,vt=function(e,t,n,o){return function(a,i){o("ruleTriggered",{rule:i}),e?n(i,a):t(i,a)}})}function L(){return kt?_t:(kt=1,_t=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")})}function M(){return wt?Ct:(wt=1,Ct=function(e,t){return t&&!e.negate||!t&&e.negate})}function F(){if(Et)return Pt;Et=1;var e=[],t=!1,n=function(n){t?n():e.push(n)};return Pt=function(o,a,i){o(a).forEach((function(e){i(n,e)})),t=!0,e.forEach((function(e){e()})),e=[]},Pt}function V(){return xt?jt:(xt=1,jt=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e})}function B(){function e(e){return"[object Object]"===Object.prototype.toString.call(e)}function t(t){var n,o;return!1!==e(t)&&(void 0===(n=t.constructor)||!1!==e(o=n.prototype)&&!1!==o.hasOwnProperty("isPrototypeOf"))}return At||(At=1,Object.defineProperty(on,"__esModule",{value:!0}),on.isPlainObject=t),on}function U(){function e({objectAssign:e,isPlainObject:t,logger:n}){return function(o,a){return t(a=a||{})?a=e({},a,o):e(a,o),a.hasOwnProperty("type")||Object.defineProperty(a,"type",{get:function(){return n.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),a.$type}}),a}}if(St)return qt;St=1;const o=t()(e);return qt=o({objectAssign:a(),isPlainObject:B().isPlainObject,logger:n()})}function z(){function e({logger:e}){return function(t,n){return function(o,a){var i=t[o];if(i){var r=i.modules;if(r){for(var s=Object.keys(r),c=0;c<s.length;c++){var l=s[c],d=r[l];if(d.shared&&d.name===a)return n.getModuleExports(l)}e.error(`The module "${a}" does not exist in the shared modules of the "${o}" extension`)}}else e.error(`The extension "${o}" is not bundled with the library."`)}}}if(Ot)return It;Ot=1;const o=t()(e);return It=o({logger:n()})}function $(){return Dt?Tt:(Dt=1,Tt=function(e,t){return function(){return t?e(t):{}}})}function G(){return Rt?Nt:(Rt=1,Nt=function(e,t,n){return function(o){if(n){var a=o.split(".");a.splice(a.length-1||1,0,"min"),o=a.join(".")}return e(t)+o}})}function H(){if(Mt)return Lt;Mt=1;var e=".js",t=function(e){return e.substr(0,e.lastIndexOf("/"))},n=function(e,t){return-1!==e.indexOf(t,e.length-t.length)};return Lt=function(o,a){n(a,e)||(a+=e);var i=a.split("/"),r=t(o).split("/");return i.forEach((function(e){e&&"."!==e&&(".."===e?r.length&&r.pop():r.push(e))})),r.join("/")}}function Q(){return Ft||(Ft=1,e=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(o){function a(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},a.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var r=JSON.stringify(n);/^[\{\[]/.test(r)&&(n=r)}catch(e){}n=o.write?o.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+n+s}}function r(e,n){if("undefined"!=typeof document){for(var a={},i=document.cookie?document.cookie.split("; "):[],r=0;r<i.length;r++){var s=i[r].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(o.read||o)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(a[l]=c,e===l)break}catch(e){}}return e?a[e]:a}}return a.set=i,a.get=function(e){return r(e,!1)},a.getJSON=function(e){return r(e,!0)},a.remove=function(t,n){i(t,"",e(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}return n((function(){}))},an.exports=e()),an.exports;var e}function W(){if(Bt)return Vt;Bt=1;var e=Q();return Vt={get:e.get,set:e.set,remove:e.remove}}function K(){if(zt)return Ut;zt=1;var e=k(),t=function(t,n){return new e((function(e,o){n.onload=function(){e(n)},n.onerror=function(){o(new Error("Failed to load script "+t))}}))};return Ut=function(e){var n=document.createElement("script");n.src=e,n.async=!0;var o=t(e,n);return document.getElementsByTagName("head")[0].appendChild(n),o}}function J(){if(Gt)return $t;Gt=1;var e=function(e){var t={};if(!e||"string"!=typeof e)return t;var n=e.trim().replace(/^[?#&]/,""),o=new URLSearchParams(n),a=o.keys();do{var i=a.next(),r=i.value;if(r){var s=o.getAll(r);1===s.length?t[r]=s[0]:t[r]=s}}while(!1===i.done);return t},t=function(e){var t="{{space}}",n=new URLSearchParams;return Object.keys(e).forEach((function(o){var a=e[o];"string"==typeof e[o]?a=a.replace(/ /g,t):["object","undefined"].includes(typeof a)&&!Array.isArray(a)&&(a=""),Array.isArray(a)?a.forEach((function(e){n.append(o,e)})):n.append(o,a)})),n.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")};return $t={parse:function(t){return e(t)},stringify:function(e){return t(e)}}}function X(){function e({moduleMap:e}){return e=e||{},function(t){var n="@adobe/reactor-";return function(o){if(0===o.indexOf(n)){var a=o.substr(n.length);if(e.hasOwnProperty(a))return e[a]}if(0===o.indexOf("./")||0===o.indexOf("../"))return t(o);throw new Error('Cannot resolve module "'+o+'".')}}}if(Qt)return Ht;Qt=1;const n=t()(e);return Ht=n({moduleMap:{cookie:W(),document:o(),"load-script":K(),"object-assign":a(),promise:k(),"query-string":J(),window:i()}})}function Y(){function e({createGetSharedModuleExports:e,createGetExtensionSettings:t,createGetHostedLibFileUrl:n,resolveRelativePath:o,createPublicRequire:a,logger:i}){return function(r,s,c,l,d,u,p){var m=r.extensions,g=r.buildInfo,f=r.environment,b=r.property.settings;if(m){var h=e(m,s);Object.keys(m).forEach((function(e){var v=m[e],y=v.settings;Array.isArray(v.filePaths)&&(y=u(y,v.filePaths));var _=t(l,y);if(v.modules){var k=i.createPrefixedLogger(v.displayName),C=n(p,v.hostedLibFilesBaseUrl,g.minified),w={buildInfo:g,environment:f,property:{name:r.property.name,id:r.property.id},getDataElementValue:d,getExtensionSettings:_,getHostedLibFileUrl:C,getSharedModule:h,logger:k,propertySettings:b,replaceTokens:l,onDebugChanged:c.onDebugChanged,get debugEnabled(){return c.getDebugEnabled()}};Object.keys(v.modules).forEach((function(t){var n=v.modules[t],i=a((function(e){var n=o(t,e);return s.getModuleExports(n)}));s.registerModule(t,n,e,i,w)}))}})),s.hydrateCache()}return s}}if(Kt)return Wt;Kt=1;const o=t()(e);return Wt=o({createGetSharedModuleExports:z(),createGetExtensionSettings:$(),createGetHostedLibFileUrl:G(),resolveRelativePath:H(),createPublicRequire:X(),logger:n()})}function Z(){function e({cookie:e,logger:t}){return function(n,o,a,i,r){var s=t.createPrefixedLogger("Custom Script");n.track=function(e){t.log('"'+e+'" does not match any direct call identifiers.')},n.getVisitorId=function(){return null},n.property={name:o.property.name,id:o.property.id},n.company=o.company,n.buildInfo=o.buildInfo,n.environment=o.environment,n.logger=s,n.notify=function(e,n){switch(t.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),n){case 3:s.info(e);break;case 4:s.warn(e);break;case 5:s.error(e);break;default:s.log(e)}},n.getVar=i,n.setVar=r,n.setCookie=function(n,o,a){var i="",r={};a&&(i=", { expires: "+a+" }",r.expires=a);var s='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+n+'", "'+o+'"'+i+").";t.deprecation(s),e.set(n,o,r)},n.readCookie=function(n){return t.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+n+'").'),e.get(n)},n.removeCookie=function(n){t.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+n+'").'),e.remove(n)},n.cookie=e,n.pageBottom=function(){},n.setDebug=a;var c=!1;Object.defineProperty(n,"_container",{get:function(){return c||(t.warn("_satellite._container may change at any time and should only be used for debugging."),c=!0),o}})}}if(Xt)return Jt;Xt=1;const o=t()(e);return Jt=o({cookie:W(),logger:n()})}function ee(){function e(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function t(e){return e.substr(0,e.indexOf("["))}function n(a,i,r){if(a.length&&o(i)){var s=a[0];if(1!==a.length){var c=a.slice(1);if(!e(s))return n(c,i[s],r);var l=i[s=t(s)];Array.isArray(l)&&l.forEach((function(e){return n(c,e,r)}))}else i.hasOwnProperty(s)&&"string"==typeof i[s]&&(i[s]=r(i[s]))}}if(Zt)return Yt;Zt=1;var{isPlainObject:o}=B();return Yt=function(e,t){return function(a,i,r){return e&&o(a)&&Object.keys(a).length&&Array.isArray(i)&&i.length?(i.forEach((function(e){Boolean(null!=r&&/^core\/.*actions.*\/customCode\.js$/.test(r))&&"source"===e&&!a.isExternal||n(e.split("."),a,t)})),a):a}}}function te(){function e({logger:e,document:t,objectAssign:n,createDynamicHostResolver:o,buildRuleExecutionOrder:a,createDebugController:i,createExecuteDelegateModule:r,createGetDataElementValue:s,createGetVar:c,createIsVar:l,createModuleProvider:d,createNotifyMonitors:u,createReplaceTokens:p,createSetCustomVar:m,createAddActionToQueue:g,createAddConditionToQueue:f,createAddRuleToQueue:b,createEvaluateConditions:h,createExecuteRule:v,createGetModuleDisplayNameByRuleComponent:y,createGetSyntheticEventMeta:_,createInitEventModule:k,createLogActionError:C,createLogConditionError:w,createLogConditionNotMet:P,createLogRuleCompleted:E,createRunActions:j,createTriggerRule:x,getRuleComponentErrorMessage:A,isConditionMet:q,initRules:S,normalizeRuleComponentError:I,normalizeSyntheticEvent:O,getNamespacedStorage:T,hydrateModuleProvider:D,hydrateSatelliteObject:N,createSettingsFileTransformer:R}){return function(L){if(L&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var M=L.container;delete L.container;var F=n({},M.buildInfo);Object.defineProperty(F,"environment",{get:function(){return e.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),M.environment.stage}}),M.buildInfo=F;var V,B=T("localStorage"),U=i(B,e),z="";t.currentScript&&t.currentScript.getAttribute("src")&&(z=t.currentScript.getAttribute("src"));try{V=o(z,Boolean(M.company.dynamicCdnEnabled),M.company.cdnAllowList,U)}catch(t){throw e.warn("Please review the following error:"),t}var $,G=R(V.isDynamicEnforced,V.decorateWithDynamicHost),H=d(),Q=M.property.settings.undefinedVarsReturnEmpty,W=M.property.settings.ruleComponentSequencingEnabled,K=M.dataElements||{},J=function(e){return K[e]},X=function(){return $.apply(null,arguments)},Y=s(H,J,X,Q,G),Z={},ee=m(Z),te=l(Z,J),ne=c(Z,J,Y);$=p(te,ne,Q),N(L,M,U.setDebugEnabled,ne,ee),D(M,H,U,$,Y,G,V.decorateWithDynamicHost);var oe=u(L),ae=r(H,$,G),ie=y(H),re=P(ie,e,oe),se=w(A,ie,e,oe),ce=C(A,ie,e,oe),le=E(e,oe),de=h(ae,q,re,se),ue=j(ae,ce,le),pe=v(de,ue),me=f(ae,I,q,se,re),ge=g(ae,I,ce),fe=b(me,ge,le),be=x(W,pe,fe,oe),he=_(H),ve=k(be,ae,O,A,he,e);S(a,M.rules||[],ve)}}}if(en)return nn.exports;en=1;var i=t()(e({logger:n(),document:o(),objectAssign:a(),createDynamicHostResolver:r(),buildRuleExecutionOrder:s(),createDebugController:c(),createExecuteDelegateModule:l(),createGetDataElementValue:m(),createGetVar:g(),createIsVar:f(),createModuleProvider:h(),createNotifyMonitors:v(),createReplaceTokens:y(),createSetCustomVar:_(),createAddActionToQueue:C(),createAddConditionToQueue:w(),createAddRuleToQueue:P(),createEvaluateConditions:j(),createExecuteRule:x(),createGetModuleDisplayNameByRuleComponent:A(),createGetSyntheticEventMeta:q(),createInitEventModule:S(),createLogActionError:I(),createLogConditionError:O(),createLogConditionNotMet:T(),createLogRuleCompleted:D(),createRunActions:N(),createTriggerRule:R(),getRuleComponentErrorMessage:L(),isConditionMet:M(),initRules:F(),normalizeRuleComponentError:V(),normalizeSyntheticEvent:U(),getNamespacedStorage:u(),hydrateModuleProvider:Y(),hydrateSatelliteObject:Z(),createSettingsFileTransformer:ee()})),d=window._satellite;return i(d),nn.exports=d,nn.exports}if(window.atob){var ne,oe,ae,ie,re,se,ce,le,de,ue,pe,me,ge,fe,be,he,ve,ye,_e,ke,Ce,we,Pe,Ee,je,xe,Ae,qe,Se,Ie,Oe,Te,De,Ne,Re,Le,Me,Fe,Ve,Be,Ue,ze,$e,Ge,He,Qe,We,Ke,Je,Xe,Ye,Ze,et,tt,nt,ot,at,it,rt,st,ct,lt,dt,ut,pt,mt,gt,ft,bt,ht,vt,yt,_t,kt,Ct,wt,Pt,Et,jt,xt,At,qt,St,It,Ot,Tt,Dt,Nt,Rt,Lt,Mt,Ft,Vt,Bt,Ut,zt,$t,Gt,Ht,Qt,Wt,Kt,Jt,Xt,Yt,Zt,en,tn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},nn={exports:{}},on={},an={exports:{}};return e(te())}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();